{"openapi":"3.1.0","info":{"title":"AcademicGuard","description":"AIGC Detection & Human-AI Collaborative Humanization Engine","version":"1.0.0"},"paths":{"/api/v1/documents/":{"get":{"tags":["Documents"],"summary":"List Documents","description":"List all documents\nåˆ—å‡ºæ‰€æœ‰æ–‡æ¡£","operationId":"list_documents_api_v1_documents__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/DocumentInfo"},"type":"array","title":"Response List Documents Api V1 Documents  Get"}}}}}}},"/api/v1/documents/upload":{"post":{"tags":["Documents"],"summary":"Upload Document","description":"Upload a document for processing\nä¸Šä¼ æ–‡æ¡£è¿›è¡Œå¤„ç†\n\nCAASS v2.0 Phase 2: Uses paragraph context baseline and whitelist extraction\n\nSecurity (å®‰å…¨æªæ–½):\n- File size limit: max_file_size_mb (default 5MB)\n- File type validation: .txt and .docx only","operationId":"upload_document_api_v1_documents_upload_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_document_api_v1_documents_upload_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentInfo"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/documents/{document_id}":{"get":{"tags":["Documents"],"summary":"Get Document","description":"Get document information\nè·å–æ–‡æ¡£ä¿¡æ¯","operationId":"get_document_api_v1_documents__document_id__get","parameters":[{"name":"document_id","in":"path","required":true,"schema":{"type":"string","title":"Document Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentInfo"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Documents"],"summary":"Delete Document","description":"Delete a document\nåˆ é™¤æ–‡æ¡£","operationId":"delete_document_api_v1_documents__document_id__delete","parameters":[{"name":"document_id","in":"path","required":true,"schema":{"type":"string","title":"Document Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/documents/new/text":{"post":{"tags":["Documents"],"summary":"Upload Text","description":"Upload text directly (alternative to file upload)\nç›´æ¥ä¸Šä¼ æ–‡æœ¬ï¼ˆæ–‡ä»¶ä¸Šä¼ çš„æ›¿ä»£æ–¹æ¡ˆï¼‰\n\nCAASS v2.0 Phase 2: Uses paragraph context baseline and whitelist extraction\n\nNote: Text is received in request body to avoid URL length limits (431 error)\næ³¨æ„ï¼šæ–‡æœ¬é€šè¿‡è¯·æ±‚ä½“æ¥æ”¶ä»¥é¿å…URLé•¿åº¦é™åˆ¶ï¼ˆ431é”™è¯¯ï¼‰","operationId":"upload_text_api_v1_documents_new_text_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TextUploadRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analyze/":{"post":{"tags":["Analysis"],"summary":"Analyze Text","description":"Analyze text for AIGC characteristics\nåˆ†ææ–‡æœ¬çš„AIGCç‰¹å¾","operationId":"analyze_text_api_v1_analyze__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AnalyzeRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/SentenceAnalysis"},"type":"array","title":"Response Analyze Text Api V1 Analyze  Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analyze/document/{document_id}":{"post":{"tags":["Analysis"],"summary":"Analyze Document","description":"Start document analysis (background task)\nå¯åŠ¨æ–‡æ¡£åˆ†æï¼ˆåå°ä»»åŠ¡ï¼‰","operationId":"analyze_document_api_v1_analyze_document__document_id__post","parameters":[{"name":"document_id","in":"path","required":true,"schema":{"type":"string","title":"Document Id"}},{"name":"include_turnitin","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Include Turnitin"}},{"name":"include_gptzero","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Include Gptzero"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analyze/{analysis_id}/status":{"get":{"tags":["Analysis"],"summary":"Get Analysis Status","description":"Get analysis status\nè·å–åˆ†æçŠ¶æ€","operationId":"get_analysis_status_api_v1_analyze__analysis_id__status_get","parameters":[{"name":"analysis_id","in":"path","required":true,"schema":{"type":"string","title":"Analysis Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analyze/{analysis_id}/result":{"get":{"tags":["Analysis"],"summary":"Get Analysis Result","description":"Get analysis results\nè·å–åˆ†æç»“æœ","operationId":"get_analysis_result_api_v1_analyze__analysis_id__result_get","parameters":[{"name":"analysis_id","in":"path","required":true,"schema":{"type":"string","title":"Analysis Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SentenceAnalysis"},"title":"Response Get Analysis Result Api V1 Analyze  Analysis Id  Result Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/suggest/":{"post":{"tags":["Suggestions"],"summary":"Get Suggestions","description":"Get humanization suggestions for a sentence\nè·å–å¥å­çš„äººæºåŒ–å»ºè®®\n\nCAASS v2.0 Phase 2: Uses whitelist and context_baseline for accurate scoring","operationId":"get_suggestions_api_v1_suggest__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuggestRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuggestResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/suggest/apply":{"post":{"tags":["Suggestions"],"summary":"Apply Suggestion","description":"Apply a suggestion to a sentence (does NOT advance to next sentence)\nå°†å»ºè®®åº”ç”¨åˆ°å¥å­ï¼ˆä¸è‡ªåŠ¨è·³è½¬åˆ°ä¸‹ä¸€å¥ï¼‰\n\nNote: Parameters are received in request body to avoid URL length limits (431 error)\næ³¨æ„ï¼šå‚æ•°é€šè¿‡è¯·æ±‚ä½“æ¥æ”¶ä»¥é¿å…URLé•¿åº¦é™åˆ¶ï¼ˆ431é”™è¯¯ï¼‰","operationId":"apply_suggestion_api_v1_suggest_apply_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApplySuggestionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/suggest/custom":{"post":{"tags":["Suggestions"],"summary":"Validate Custom","description":"Validate user's custom modification\néªŒè¯ç”¨æˆ·çš„è‡ªå®šä¹‰ä¿®æ”¹","operationId":"validate_custom_api_v1_suggest_custom_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomInputRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidationResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/suggest/hints":{"post":{"tags":["Suggestions"],"summary":"Get Writing Hints","description":"Get 3 writing hints for custom modification based on suggestions.md\næ ¹æ®suggestions.mdè·å–è‡ªå®šä¹‰ä¿®æ”¹çš„3ä¸ªå†™ä½œæç¤º\n\nNote: Sentence is received in request body to avoid URL length limits (431 error)\næ³¨æ„ï¼šå¥å­é€šè¿‡è¯·æ±‚ä½“æ¥æ”¶ä»¥é¿å…URLé•¿åº¦é™åˆ¶ï¼ˆ431é”™è¯¯ï¼‰","operationId":"get_writing_hints_api_v1_suggest_hints_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HintsRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/suggest/analyze":{"post":{"tags":["Suggestions"],"summary":"Analyze Sentence","description":"Perform detailed grammatical and stylistic analysis of a sentence\nå¯¹å¥å­è¿›è¡Œè¯¦ç»†çš„è¯­æ³•å’Œé£æ ¼åˆ†æ","operationId":"analyze_sentence_api_v1_suggest_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__schemas__SentenceAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__schemas__SentenceAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/session/list":{"get":{"tags":["Session"],"summary":"List Sessions","description":"List all sessions with document info\nåˆ—å‡ºæ‰€æœ‰ä¼šè¯åŠæ–‡æ¡£ä¿¡æ¯","operationId":"list_sessions_api_v1_session_list_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/SessionInfo"},"type":"array","title":"Response List Sessions Api V1 Session List Get"}}}}}}},"/api/v1/session/start":{"post":{"tags":["Session"],"summary":"Start Session","description":"Start a new processing session\nå¯åŠ¨æ–°çš„å¤„ç†ä¼šè¯\n\nCAASS v2.0 Phase 2: Extracts and stores whitelist for the session","operationId":"start_session_api_v1_session_start_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionStartRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionState"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/session/{session_id}/current":{"get":{"tags":["Session"],"summary":"Get Current State","description":"Get current session state\nè·å–å½“å‰ä¼šè¯çŠ¶æ€","operationId":"get_current_state_api_v1_session__session_id__current_get","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionState"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/session/{session_id}/next":{"post":{"tags":["Session"],"summary":"Next Sentence","description":"Move to next sentence\nç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå¥å­","operationId":"next_sentence_api_v1_session__session_id__next_post","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionState"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/session/{session_id}/skip":{"post":{"tags":["Session"],"summary":"Skip Sentence","description":"Skip current sentence (without auto-jumping to next)\nè·³è¿‡å½“å‰å¥å­ï¼ˆä¸è‡ªåŠ¨è·³è½¬åˆ°ä¸‹ä¸€å¥ï¼‰","operationId":"skip_sentence_api_v1_session__session_id__skip_post","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/session/{session_id}/flag":{"post":{"tags":["Session"],"summary":"Flag Sentence","description":"Flag current sentence for manual review (without auto-jumping to next)\næ ‡è®°å½“å‰å¥å­éœ€è¦äººå·¥å®¡æ ¸ï¼ˆä¸è‡ªåŠ¨è·³è½¬åˆ°ä¸‹ä¸€å¥ï¼‰","operationId":"flag_sentence_api_v1_session__session_id__flag_post","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/session/{session_id}/sentences":{"get":{"tags":["Session"],"summary":"Get All Sentences","description":"Get all sentences for a session\nè·å–ä¼šè¯çš„æ‰€æœ‰å¥å­","operationId":"get_all_sentences_api_v1_session__session_id__sentences_get","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SentenceAnalysis"},"title":"Response Get All Sentences Api V1 Session  Session Id  Sentences Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/session/{session_id}/goto/{index}":{"post":{"tags":["Session"],"summary":"Goto Sentence","description":"Jump to a specific sentence\nè·³è½¬åˆ°ç‰¹å®šå¥å­","operationId":"goto_sentence_api_v1_session__session_id__goto__index__post","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}},{"name":"index","in":"path","required":true,"schema":{"type":"integer","title":"Index"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/session/{session_id}/progress":{"get":{"tags":["Session"],"summary":"Get Progress","description":"Get session progress\nè·å–ä¼šè¯è¿›åº¦","operationId":"get_progress_api_v1_session__session_id__progress_get","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/session/{session_id}/review-stats":{"get":{"tags":["Session"],"summary":"Get Review Stats","description":"Get review statistics for completed session\nè·å–å·²å®Œæˆä¼šè¯çš„å®¡æ ¸ç»Ÿè®¡æ•°æ®","operationId":"get_review_stats_api_v1_session__session_id__review_stats_get","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/session/{session_id}/config":{"get":{"tags":["Session"],"summary":"Get Session Config","description":"Get session configuration including whitelist\nè·å–ä¼šè¯é…ç½®ï¼ŒåŒ…æ‹¬ç™½åå•\n\nCAASS v2.0 Phase 2: Returns whitelist and tone_level for suggestion scoring","operationId":"get_session_config_api_v1_session__session_id__config_get","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/session/{session_id}/complete":{"post":{"tags":["Session"],"summary":"Complete Session","description":"Mark session as completed\næ ‡è®°ä¼šè¯ä¸ºå·²å®Œæˆ","operationId":"complete_session_api_v1_session__session_id__complete_post","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/session/{session_id}/step/{step}":{"post":{"tags":["Session"],"summary":"Update Session Step","description":"Update current step for a session\næ›´æ–°ä¼šè¯çš„å½“å‰æ­¥éª¤\n\nValid steps:\n- Legacy: step1-1, step1-2, step2, step3, review\n- 5-Layer: term-lock, layer-document, layer-section, layer-paragraph, layer-sentence, layer-lexical\n- Substeps: layer5-step1-0, layer5-step1-1, ..., layer1-step5-5","operationId":"update_session_step_api_v1_session__session_id__step__step__post","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}},{"name":"step","in":"path","required":true,"schema":{"type":"string","title":"Step"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/session/{session_id}/yolo-process":{"post":{"tags":["Session"],"summary":"Yolo Auto Process","description":"YOLO auto-processing: Automatically process all sentences using LLM\nYOLO è‡ªåŠ¨å¤„ç†ï¼šä½¿ç”¨ LLM è‡ªåŠ¨å¤„ç†æ‰€æœ‰å¥å­\n\nThis endpoint processes sentences one by one, calling LLM for each,\nselecting the best suggestion, and applying it automatically.\næ­¤ç«¯ç‚¹é€å¥å¤„ç†ï¼Œä¸ºæ¯ä¸ªå¥å­è°ƒç”¨ LLMï¼Œé€‰æ‹©æœ€ä½³å»ºè®®å¹¶è‡ªåŠ¨åº”ç”¨ã€‚\n\nReturns a generator for streaming progress updates.\nè¿”å›ç”Ÿæˆå™¨ç”¨äºæµå¼è¿›åº¦æ›´æ–°ã€‚","operationId":"yolo_auto_process_api_v1_session__session_id__yolo_process_post","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/session/{session_id}/yolo-full-auto":{"post":{"tags":["Session"],"summary":"Yolo Full Auto Process","description":"YOLO Full Automation: Process all levels automatically from Step 1-1 to Step 3\nYOLO å…¨è‡ªåŠ¨å¤„ç†ï¼šä» Step 1-1 åˆ° Step 3 è‡ªåŠ¨å¤„ç†æ‰€æœ‰å±‚çº§\n\nThis endpoint performs:\n1. Step 1-1: Structure analysis â†’ Auto-select all issues â†’ AI modify\n2. Step 1-2: Paragraph analysis â†’ Auto-select all issues â†’ AI modify\n3. Step 2: Transition analysis â†’ Auto-select all issues â†’ AI modify\n4. Step 3: Sentence-level processing (yolo-process)\n\næ­¤ç«¯ç‚¹æ‰§è¡Œï¼š\n1. Step 1-1ï¼šç»“æ„åˆ†æ â†’ è‡ªåŠ¨å…¨é€‰é—®é¢˜ â†’ AIä¿®æ”¹\n2. Step 1-2ï¼šæ®µè½åˆ†æ â†’ è‡ªåŠ¨å…¨é€‰é—®é¢˜ â†’ AIä¿®æ”¹\n3. Step 2ï¼šè¡”æ¥åˆ†æ â†’ è‡ªåŠ¨å…¨é€‰é—®é¢˜ â†’ AIä¿®æ”¹\n4. Step 3ï¼šå¥å­çº§å¤„ç†ï¼ˆyolo-processï¼‰\n\nReturns progress logs for each step.\nè¿”å›æ¯ä¸ªæ­¥éª¤çš„è¿›åº¦æ—¥å¿—ã€‚","operationId":"yolo_full_auto_process_api_v1_session__session_id__yolo_full_auto_post","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/export/document":{"post":{"tags":["Export"],"summary":"Export Document","description":"Export processed document\nå¯¼å‡ºå¤„ç†åçš„æ–‡æ¡£","operationId":"export_document_api_v1_export_document_post","parameters":[{"name":"session_id","in":"query","required":true,"schema":{"type":"string","title":"Session Id"}},{"name":"format","in":"query","required":false,"schema":{"type":"string","default":"txt","title":"Format"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExportResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/export/report":{"post":{"tags":["Export"],"summary":"Export Report","description":"Export analysis and modification report\nå¯¼å‡ºåˆ†æå’Œä¿®æ”¹æŠ¥å‘Š","operationId":"export_report_api_v1_export_report_post","parameters":[{"name":"session_id","in":"query","required":true,"schema":{"type":"string","title":"Session Id"}},{"name":"format","in":"query","required":false,"schema":{"type":"string","default":"json","title":"Format"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExportResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/export/download/{filename}":{"get":{"tags":["Export"],"summary":"Download File","description":"Download exported file\nä¸‹è½½å¯¼å‡ºçš„æ–‡ä»¶","operationId":"download_file_api_v1_export_download__filename__get","parameters":[{"name":"filename","in":"path","required":true,"schema":{"type":"string","title":"Filename"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/transition/":{"post":{"tags":["Transition"],"summary":"Analyze Transition","description":"Analyze transition between two paragraphs\nåˆ†æä¸¤ä¸ªæ®µè½ä¹‹é—´çš„è¡”æ¥\n\nReturns analysis with detected issues and smoothness score.\nè¿”å›åˆ†æç»“æœï¼ŒåŒ…æ‹¬æ£€æµ‹åˆ°çš„é—®é¢˜å’Œå¹³æ»‘åº¦åˆ†æ•°ã€‚","operationId":"analyze_transition_api_v1_transition__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransitionAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransitionAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/transition/with-suggestions":{"post":{"tags":["Transition"],"summary":"Analyze Transition With Suggestions","description":"Analyze transition and generate repair suggestions\nåˆ†æè¡”æ¥å¹¶ç”Ÿæˆä¿®å¤å»ºè®®\n\nReturns analysis with three strategy options for fixing the transition.\nè¿”å›åˆ†æç»“æœï¼ŒåŒ…å«ä¸‰ç§ä¿®å¤ç­–ç•¥é€‰é¡¹ã€‚\n\nNote: In production, this would call the LLM to generate actual suggestions.\nFor now, we return placeholder suggestions based on the analysis.\næ³¨æ„ï¼šåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œè¿™å°†è°ƒç”¨LLMç”Ÿæˆå®é™…å»ºè®®ã€‚\nç›®å‰æˆ‘ä»¬åŸºäºåˆ†æè¿”å›å ä½ç¬¦å»ºè®®ã€‚","operationId":"analyze_transition_with_suggestions_api_v1_transition_with_suggestions_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransitionAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransitionAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/transition/suggest/{strategy}":{"post":{"tags":["Transition"],"summary":"Get Transition Suggestion","description":"Get transition suggestion for a specific strategy\nè·å–ç‰¹å®šç­–ç•¥çš„è¡”æ¥å»ºè®®\n\nThis endpoint generates a single suggestion using the specified strategy.\næ­¤ç«¯ç‚¹ä½¿ç”¨æŒ‡å®šç­–ç•¥ç”Ÿæˆå•ä¸ªå»ºè®®ã€‚","operationId":"get_transition_suggestion_api_v1_transition_suggest__strategy__post","parameters":[{"name":"strategy","in":"path","required":true,"schema":{"$ref":"#/components/schemas/TransitionStrategy"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransitionAnalysisRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransitionOption"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/transition/strategies":{"get":{"tags":["Transition"],"summary":"List Strategies","description":"List available transition strategies\nåˆ—å‡ºå¯ç”¨çš„è¿‡æ¸¡ç­–ç•¥","operationId":"list_strategies_api_v1_transition_strategies_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/transition/document":{"post":{"tags":["Transition"],"summary":"Analyze Document Transitions","description":"Analyze all paragraph transitions in a document\nåˆ†ææ–‡æ¡£ä¸­æ‰€æœ‰æ®µè½è¡”æ¥\n\nFeatures:\n- Caches results to avoid repeated analysis\n- ç¼“å­˜ç»“æœä»¥é¿å…é‡å¤åˆ†æ","operationId":"analyze_document_transitions_api_v1_transition_document_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentTransitionAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentTransitionSummary"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/structure/":{"post":{"tags":["Structure"],"summary":"Analyze Structure","description":"Analyze document structure for AI patterns\nåˆ†ææ–‡æ¡£ç»“æ„çš„AIæ¨¡å¼\n\nArgs:\n    request: Structure analysis request ç»“æ„åˆ†æè¯·æ±‚\n\nReturns:\n    StructureAnalysisResponse with analysis results åŒ…å«åˆ†æç»“æœçš„å“åº”","operationId":"analyze_structure_api_v1_structure__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StructureAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__schemas__StructureAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/structure/with-suggestions":{"post":{"tags":["Structure"],"summary":"Analyze Structure With Suggestions","description":"Analyze document structure and generate restructuring suggestions\nåˆ†ææ–‡æ¡£ç»“æ„å¹¶ç”Ÿæˆé‡ç»„å»ºè®®\n\nArgs:\n    request: Structure analysis request ç»“æ„åˆ†æè¯·æ±‚\n\nReturns:\n    StructureAnalysisResponse with analysis and suggestions åŒ…å«åˆ†æå’Œå»ºè®®çš„å“åº”","operationId":"analyze_structure_with_suggestions_api_v1_structure_with_suggestions_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StructureAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__schemas__StructureAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/structure/suggest/{strategy}":{"post":{"tags":["Structure"],"summary":"Get Structure Suggestion","description":"Get suggestion for a specific restructuring strategy\nè·å–ç‰¹å®šé‡ç»„ç­–ç•¥çš„å»ºè®®\n\nArgs:\n    strategy: Restructuring strategy é‡ç»„ç­–ç•¥\n    request: Structure analysis request ç»“æ„åˆ†æè¯·æ±‚\n\nReturns:\n    StructureOption with specific suggestion åŒ…å«ç‰¹å®šå»ºè®®çš„é€‰é¡¹","operationId":"get_structure_suggestion_api_v1_structure_suggest__strategy__post","parameters":[{"name":"strategy","in":"path","required":true,"schema":{"$ref":"#/components/schemas/StructureStrategy"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StructureAnalysisRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StructureOption"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/structure/diagnosis":{"post":{"tags":["Structure"],"summary":"Get Logic Diagnosis","description":"Get logic diagnosis card for document\nè·å–æ–‡æ¡£çš„é€»è¾‘è¯Šæ–­å¡\n\nArgs:\n    request: Structure analysis request ç»“æ„åˆ†æè¯·æ±‚\n\nReturns:\n    LogicDiagnosisResponse with diagnosis card data åŒ…å«è¯Šæ–­å¡æ•°æ®çš„å“åº”","operationId":"get_logic_diagnosis_api_v1_structure_diagnosis_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StructureAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LogicDiagnosisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/structure/document":{"post":{"tags":["Structure"],"summary":"Analyze Document Structure","description":"Analyze structure of a document by ID using smart LLM analysis\nä½¿ç”¨æ™ºèƒ½ LLM åˆ†ææŒ‰ ID åˆ†ææ–‡æ¡£ç»“æ„\n\nFeatures:\n- Filters non-paragraph content (titles, tables, figures)\n- Uses paper section numbering (1, 1.1, 2.3.1)\n- Generates meaningful content summaries\n- Labels each paragraph with position like \"3.2(1)\"\n- Caches results to avoid repeated LLM calls\n- ç¼“å­˜ç»“æœä»¥é¿å…é‡å¤çš„ LLM è°ƒç”¨\n\nArgs:\n    request: Document structure request æ–‡æ¡£ç»“æ„è¯·æ±‚\n    db: Database session æ•°æ®åº“ä¼šè¯\n\nReturns:\n    SmartStructureResponse with analysis results åŒ…å«åˆ†æç»“æœçš„å“åº”","operationId":"analyze_document_structure_api_v1_structure_document_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentStructureRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SmartStructureResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/structure/document/step1-1":{"post":{"tags":["Structure"],"summary":"Analyze Document Structure Step1","description":"Step 1-1: Analyze document STRUCTURE only (global patterns)\næ­¥éª¤ 1-1ï¼šä»…åˆ†ææ–‡æ¡£ç»“æ„ï¼ˆå…¨å±€æ¨¡å¼ï¼‰\n\nThis endpoint performs the first phase of analysis:\n- Section structure identification\n- Paragraph identification\n- Global structural patterns (linear flow, symmetry, etc.)\n- Structure score calculation\n- Style/formality analysis with mismatch detection\n\nArgs:\n    request: Document structure request æ–‡æ¡£ç»“æ„è¯·æ±‚\n    db: Database session æ•°æ®åº“ä¼šè¯\n\nReturns:\n    Structure analysis result ç»“æ„åˆ†æç»“æœ","operationId":"analyze_document_structure_step1_api_v1_structure_document_step1_1_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentStructureRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/structure/document/step1-2":{"post":{"tags":["Structure"],"summary":"Analyze Document Relationships Step2","description":"Step 1-2: Analyze paragraph RELATIONSHIPS (connections, transitions)\næ­¥éª¤ 1-2ï¼šåˆ†ææ®µè½å…³ç³»ï¼ˆè¿æ¥ã€è¿‡æ¸¡ï¼‰\n\nThis endpoint performs the second phase of analysis:\n- Explicit connector word detection\n- Logic break points between paragraphs\n- AI risk assessment for each paragraph\n- Rewrite suggestions\n\nIf Step 1-1 is not completed (no cache), it will be automatically run first.\n\nArgs:\n    request: Document structure request æ–‡æ¡£ç»“æ„è¯·æ±‚\n    db: Database session æ•°æ®åº“ä¼šè¯\n\nReturns:\n    Relationship analysis result å…³ç³»åˆ†æç»“æœ","operationId":"analyze_document_relationships_step2_api_v1_structure_document_step1_2_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentStructureRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/structure/document/{document_id}/cache":{"delete":{"tags":["Structure"],"summary":"Clear Analysis Cache","description":"Clear analysis cache for a document (allows re-analysis)\næ¸…é™¤æ–‡æ¡£çš„åˆ†æç¼“å­˜ï¼ˆå…è®¸é‡æ–°åˆ†æï¼‰\n\nArgs:\n    document_id: Document ID æ–‡æ¡£ID\n    db: Database session æ•°æ®åº“ä¼šè¯\n\nReturns:\n    Success message æˆåŠŸæ¶ˆæ¯","operationId":"clear_analysis_cache_api_v1_structure_document__document_id__cache_delete","parameters":[{"name":"document_id","in":"path","required":true,"schema":{"type":"string","title":"Document Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/structure/strategies":{"get":{"tags":["Structure"],"summary":"Get Structure Strategies","description":"Get available structure strategies\nè·å–å¯ç”¨çš„ç»“æ„ç­–ç•¥\n\nReturns:\n    List of strategy descriptions ç­–ç•¥æè¿°åˆ—è¡¨","operationId":"get_structure_strategies_api_v1_structure_strategies_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/structure/predictability":{"post":{"tags":["Structure"],"summary":"Analyze Predictability","description":"Analyze document structure predictability\nåˆ†ææ–‡æ¡£ç»“æ„é¢„æµ‹æ€§\n\nThis endpoint provides detailed analysis of:\n- Progression type (monotonic vs non-monotonic)\n- Function distribution (uniform vs asymmetric)\n- Closure pattern (strong vs weak/open)\n- Lexical echo (explicit connectors vs semantic bridges)\n\nArgs:\n    request: Predictability analysis request é¢„æµ‹æ€§åˆ†æè¯·æ±‚\n\nReturns:\n    PredictabilityAnalysisResponse with detailed analysis åŒ…å«è¯¦ç»†åˆ†æçš„å“åº”","operationId":"analyze_predictability_api_v1_structure_predictability_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PredictabilityAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PredictabilityAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/structure/disruption-levels":{"get":{"tags":["Structure"],"summary":"Get Disruption Levels","description":"Get available disruption levels and their configurations\nè·å–å¯ç”¨çš„æ‰°åŠ¨ç­‰çº§åŠå…¶é…ç½®\n\nReturns:\n    Dictionary of disruption levels æ‰°åŠ¨ç­‰çº§å­—å…¸","operationId":"get_disruption_levels_api_v1_structure_disruption_levels_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/structure/disruption-strategies":{"get":{"tags":["Structure"],"summary":"Get Disruption Strategies","description":"Get available disruption strategies\nè·å–å¯ç”¨çš„æ‰°åŠ¨ç­–ç•¥\n\nReturns:\n    List of strategy descriptions ç­–ç•¥æè¿°åˆ—è¡¨","operationId":"get_disruption_strategies_api_v1_structure_disruption_strategies_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/structure/risk-card":{"post":{"tags":["Structure"],"summary":"Get Structural Risk Card","description":"Get 7-indicator structural risk card for user visualization\nè·å–7æŒ‡å¾ç»“æ„é£é™©å¡ç‰‡ç”¨äºç”¨æˆ·å¯è§†åŒ–\n\nReturns a visual risk card showing:\n- 7 AI structural indicators with emoji and color\n- Whether each indicator is triggered\n- Overall risk level and summary\n\nThe 7 indicators are:\n1. âš–ï¸ Perfect Symmetry (é€»è¾‘æ¨è¿›å¯¹ç§°) - â˜…â˜…â˜…\n2. ğŸ“Š Uniform Function (æ®µè½åŠŸèƒ½å‡åŒ€) - â˜…â˜…â˜†\n3. ğŸ”— Over-signaled Transitions (è¿æ¥è¯ä¾èµ–) - â˜…â˜…â˜…\n4. ğŸ“ Linear Enumeration (å•ä¸€çº¿æ€§æ¨è¿›) - â˜…â˜…â˜…\n5. ğŸ“ Rhythmic Regularity (æ®µè½èŠ‚å¥å‡è¡¡) - â˜…â˜…â˜†\n6. ğŸ”’ Over-conclusive Ending (ç»“å°¾è¿‡åº¦é—­åˆ) - â˜…â˜…â˜†\n7. ğŸ”„ No Cross-References (ç¼ºä¹å›æŒ‡ç»“æ„) - â˜…â˜…â˜†\n\nArgs:\n    request: Risk card analysis request é£é™©å¡ç‰‡åˆ†æè¯·æ±‚\n\nReturns:\n    StructuralRiskCardResponse with 7 indicators åŒ…å«7ä¸ªæŒ‡å¾çš„å“åº”","operationId":"get_structural_risk_card_api_v1_structure_risk_card_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RiskCardRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StructuralRiskCardResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/structure/indicator-config":{"get":{"tags":["Structure"],"summary":"Get Indicator Config","description":"Get the 7-indicator configuration for UI display\nè·å–7æŒ‡å¾é…ç½®ç”¨äºUIæ˜¾ç¤º\n\nReturns:\n    Configuration for all 7 indicators with emoji, colors, and descriptions","operationId":"get_indicator_config_api_v1_structure_indicator_config_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/structure/paragraph-suggestion":{"post":{"tags":["Structure"],"summary":"Get Paragraph Suggestion","description":"Get rewrite suggestion for a single paragraph\nè·å–å•ä¸ªæ®µè½çš„æ”¹å†™å»ºè®®\n\nThis endpoint generates specific, actionable rewriting advice\nfor a single paragraph using LLM analysis.\næ­¤ç«¯ç‚¹ä½¿ç”¨ LLM åˆ†æä¸ºå•ä¸ªæ®µè½ç”Ÿæˆå…·ä½“å¯è¡Œçš„æ”¹å†™å»ºè®®ã€‚\n\nArgs:\n    request: Paragraph suggestion request æ®µè½å»ºè®®è¯·æ±‚\n\nReturns:\n    ParagraphSuggestionResponse with rewrite suggestions åŒ…å«æ”¹å†™å»ºè®®çš„å“åº”","operationId":"get_paragraph_suggestion_api_v1_structure_paragraph_suggestion_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ParagraphSuggestionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ParagraphSuggestionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/structure/issue-suggestion":{"post":{"tags":["Structure"],"summary":"Get Issue Suggestion","description":"Get detailed suggestion for a specific structure issue\nè·å–é’ˆå¯¹ç‰¹å®šç»“æ„é—®é¢˜çš„è¯¦ç»†å»ºè®®\n\nThis endpoint uses LLM with comprehensive De-AIGC knowledge to generate:\n- Detailed diagnosis of the issue\n- Multiple modification strategies\n- A complete modification prompt for other AI tools\n- Priority tips and cautions\n\nArgs:\n    request: Issue suggestion request dict é—®é¢˜å»ºè®®è¯·æ±‚å­—å…¸\n    db: Database session æ•°æ®åº“ä¼šè¯\n\nReturns:\n    Dict with detailed suggestions åŒ…å«è¯¦ç»†å»ºè®®çš„å­—å…¸","operationId":"get_issue_suggestion_api_v1_structure_issue_suggestion_post","requestBody":{"content":{"application/json":{"schema":{"type":"object","title":"Request"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/structure/merge-modify/prompt":{"post":{"tags":["Structure"],"summary":"Generate Merge Modify Prompt","description":"Generate a modification prompt for selected issues\nä¸ºé€‰å®šçš„é—®é¢˜ç”Ÿæˆä¿®æ”¹æç¤ºè¯\n\nUser can copy this prompt to use with other AI tools.\nç”¨æˆ·å¯ä»¥å¤åˆ¶æ­¤æç¤ºè¯ç”¨äºå…¶ä»–AIå·¥å…·ã€‚\n\nArgs:\n    request: Merge modify request åˆå¹¶ä¿®æ”¹è¯·æ±‚\n    db: Database session æ•°æ®åº“ä¼šè¯\n\nReturns:\n    MergeModifyPromptResponse with generated prompt åŒ…å«ç”Ÿæˆæç¤ºè¯çš„å“åº”","operationId":"generate_merge_modify_prompt_api_v1_structure_merge_modify_prompt_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__schemas__MergeModifyRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__MergeModifyPromptResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/structure/merge-modify/apply":{"post":{"tags":["Structure"],"summary":"Apply Merge Modify","description":"Apply AI modification to document directly\nç›´æ¥åº”ç”¨AIä¿®æ”¹åˆ°æ–‡æ¡£\n\nArgs:\n    request: Merge modify request åˆå¹¶ä¿®æ”¹è¯·æ±‚\n    db: Database session æ•°æ®åº“ä¼šè¯\n\nReturns:\n    MergeModifyApplyResponse with modified document åŒ…å«ä¿®æ”¹åæ–‡æ¡£çš„å“åº”","operationId":"apply_merge_modify_api_v1_structure_merge_modify_apply_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__schemas__MergeModifyRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__schemas__MergeModifyApplyResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/structure/paragraph-length/analyze":{"post":{"tags":["Structure"],"summary":"Analyze Paragraph Length","description":"Phase 1: Analyze paragraph length distribution and suggest strategies\nç¬¬ä¸€é˜¶æ®µï¼šåˆ†ææ®µè½é•¿åº¦åˆ†å¸ƒå¹¶å»ºè®®ç­–ç•¥\n\nThis endpoint analyzes the paragraph lengths in the document and suggests\nstrategies (merge, expand, split) to improve the CV (coefficient of variation)\nfor a more human-like distribution.\næ­¤ç«¯ç‚¹åˆ†ææ–‡æ¡£ä¸­çš„æ®µè½é•¿åº¦ï¼Œå¹¶å»ºè®®ç­–ç•¥ï¼ˆåˆå¹¶ã€æ‰©å±•ã€æ‹†åˆ†ï¼‰\nä»¥æ”¹å–„CVï¼ˆå˜å¼‚ç³»æ•°ï¼‰ï¼Œä½¿åˆ†å¸ƒæ›´åƒäººç±»å†™ä½œã€‚\n\nReturns strategies that the user can multi-select.\nIf user selects \"expand\", they will need to provide new content.\nè¿”å›ç”¨æˆ·å¯ä»¥å¤šé€‰çš„ç­–ç•¥ã€‚\nå¦‚æœç”¨æˆ·é€‰æ‹©\"æ‰©å±•\"ï¼Œéœ€è¦æä¾›æ–°å†…å®¹ã€‚\n\nArgs:\n    request: Contains document_id åŒ…å«æ–‡æ¡£ID\n\nReturns:\n    ParagraphLengthAnalysisResponse with statistics and strategies\n    åŒ…å«ç»Ÿè®¡æ•°æ®å’Œç­–ç•¥çš„å“åº”","operationId":"analyze_paragraph_length_api_v1_structure_paragraph_length_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__schemas__ParagraphLengthAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__schemas__ParagraphLengthAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/structure/paragraph-length/apply":{"post":{"tags":["Structure"],"summary":"Apply Paragraph Strategies","description":"Phase 2: Apply user-selected paragraph length strategies\nç¬¬äºŒé˜¶æ®µï¼šåº”ç”¨ç”¨æˆ·é€‰æ‹©çš„æ®µè½é•¿åº¦ç­–ç•¥\n\nApplies the selected strategies (merge, expand, split) to modify the document.\nFor expand strategies, uses the user-provided text.\nåº”ç”¨é€‰å®šçš„ç­–ç•¥ï¼ˆåˆå¹¶ã€æ‰©å±•ã€æ‹†åˆ†ï¼‰æ¥ä¿®æ”¹æ–‡æ¡£ã€‚\nå¯¹äºæ‰©å±•ç­–ç•¥ï¼Œä½¿ç”¨ç”¨æˆ·æä¾›çš„æ–‡æœ¬ã€‚\n\nArgs:\n    request: Contains document_id, session_id, and selected strategies\n\nReturns:\n    ApplyParagraphStrategiesResponse with modified text","operationId":"apply_paragraph_strategies_api_v1_structure_paragraph_length_apply_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApplyParagraphStrategiesRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApplyParagraphStrategiesResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/flow/start":{"post":{"tags":["Flow"],"summary":"Start Flow","description":"Start a new three-level processing flow\nå¼€å§‹æ–°çš„ä¸‰å±‚çº§å¤„ç†æµç¨‹\n\nArgs:\n    request: Flow start request æµç¨‹å¯åŠ¨è¯·æ±‚\n    db: Database session æ•°æ®åº“ä¼šè¯\n\nReturns:\n    FlowStartResponse with flow details åŒ…å«æµç¨‹è¯¦æƒ…çš„å“åº”","operationId":"start_flow_api_v1_flow_start_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FlowStartRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FlowStartResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/flow/{flow_id}/progress":{"get":{"tags":["Flow"],"summary":"Get Flow Progress","description":"Get current flow progress\nè·å–å½“å‰æµç¨‹è¿›åº¦\n\nArgs:\n    flow_id: Flow identifier æµç¨‹æ ‡è¯†\n\nReturns:\n    FlowProgressResponse with progress details åŒ…å«è¿›åº¦è¯¦æƒ…çš„å“åº”","operationId":"get_flow_progress_api_v1_flow__flow_id__progress_get","parameters":[{"name":"flow_id","in":"path","required":true,"schema":{"type":"string","title":"Flow Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FlowProgressResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/flow/{flow_id}/complete-level":{"post":{"tags":["Flow"],"summary":"Complete Level","description":"Mark a level as complete and advance to next\næ ‡è®°å±‚çº§ä¸ºå®Œæˆå¹¶è¿›å…¥ä¸‹ä¸€å±‚çº§\n\nArgs:\n    flow_id: Flow identifier æµç¨‹æ ‡è¯†\n    request: Level completion request å±‚çº§å®Œæˆè¯·æ±‚\n\nReturns:\n    Updated flow progress æ›´æ–°åçš„æµç¨‹è¿›åº¦","operationId":"complete_level_api_v1_flow__flow_id__complete_level_post","parameters":[{"name":"flow_id","in":"path","required":true,"schema":{"type":"string","title":"Flow Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LevelCompleteRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/flow/{flow_id}/skip-level":{"post":{"tags":["Flow"],"summary":"Skip Level","description":"Skip a level and move to next\nè·³è¿‡å±‚çº§å¹¶è¿›å…¥ä¸‹ä¸€å±‚çº§\n\nArgs:\n    flow_id: Flow identifier æµç¨‹æ ‡è¯†\n    level: Level to skip è¦è·³è¿‡çš„å±‚çº§\n\nReturns:\n    Updated flow progress æ›´æ–°åçš„æµç¨‹è¿›åº¦","operationId":"skip_level_api_v1_flow__flow_id__skip_level_post","parameters":[{"name":"flow_id","in":"path","required":true,"schema":{"type":"string","title":"Flow Id"}},{"name":"level","in":"query","required":true,"schema":{"type":"string","title":"Level"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/flow/{flow_id}/context/{level}":{"get":{"tags":["Flow"],"summary":"Get Level Context","description":"Get context for a specific level\nè·å–ç‰¹å®šå±‚çº§çš„ä¸Šä¸‹æ–‡\n\nArgs:\n    flow_id: Flow identifier æµç¨‹æ ‡è¯†\n    level: Level to get context for è¦è·å–ä¸Šä¸‹æ–‡çš„å±‚çº§\n\nReturns:\n    LevelContextResponse with context data åŒ…å«ä¸Šä¸‹æ–‡æ•°æ®çš„å“åº”","operationId":"get_level_context_api_v1_flow__flow_id__context__level__get","parameters":[{"name":"flow_id","in":"path","required":true,"schema":{"type":"string","title":"Flow Id"}},{"name":"level","in":"path","required":true,"schema":{"type":"string","title":"Level"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LevelContextResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/flow/{flow_id}/update-context":{"post":{"tags":["Flow"],"summary":"Update Context","description":"Update flow context with level-specific data\nä½¿ç”¨å±‚çº§ç‰¹å®šæ•°æ®æ›´æ–°æµç¨‹ä¸Šä¸‹æ–‡\n\nArgs:\n    flow_id: Flow identifier æµç¨‹æ ‡è¯†\n    updates: Context updates ä¸Šä¸‹æ–‡æ›´æ–°\n\nReturns:\n    Confirmation ç¡®è®¤","operationId":"update_context_api_v1_flow__flow_id__update_context_post","parameters":[{"name":"flow_id","in":"path","required":true,"schema":{"type":"string","title":"Flow Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","title":"Updates"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/flow/{flow_id}/current-text":{"get":{"tags":["Flow"],"summary":"Get Current Text","description":"Get the current document text\nè·å–å½“å‰æ–‡æ¡£æ–‡æœ¬\n\nArgs:\n    flow_id: Flow identifier æµç¨‹æ ‡è¯†\n\nReturns:\n    Current text å½“å‰æ–‡æœ¬","operationId":"get_current_text_api_v1_flow__flow_id__current_text_get","parameters":[{"name":"flow_id","in":"path","required":true,"schema":{"type":"string","title":"Flow Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/flow/{flow_id}":{"delete":{"tags":["Flow"],"summary":"Cancel Flow","description":"Cancel and cleanup a flow\nå–æ¶ˆå¹¶æ¸…ç†æµç¨‹\n\nArgs:\n    flow_id: Flow identifier æµç¨‹æ ‡è¯†\n\nReturns:\n    Confirmation ç¡®è®¤","operationId":"cancel_flow_api_v1_flow__flow_id__delete","parameters":[{"name":"flow_id","in":"path","required":true,"schema":{"type":"string","title":"Flow Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paragraph/strategies":{"get":{"tags":["Paragraph Logic"],"summary":"Get Available Strategies","description":"Get available restructuring strategies\nè·å–å¯ç”¨çš„é‡ç»„ç­–ç•¥","operationId":"get_available_strategies_api_v1_paragraph_strategies_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StrategyInfoResponse"}}}}}}},"/api/v1/paragraph/analyze":{"post":{"tags":["Paragraph Logic"],"summary":"Analyze Paragraph Logic","description":"Analyze paragraph for logic issues\nåˆ†ææ®µè½çš„é€»è¾‘é—®é¢˜\n\nDetects:\n- Subject repetition (AI pattern)\n- Uniform sentence lengths (AI pattern)\n- Linear/additive structure (AI pattern)\n- First-person overuse\n- Explicit connector stacking","operationId":"analyze_paragraph_logic_api_v1_paragraph_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__paragraph__ParagraphAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__paragraph__ParagraphAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paragraph/restructure":{"post":{"tags":["Paragraph Logic"],"summary":"Restructure Paragraph","description":"Restructure paragraph using specified strategy\nä½¿ç”¨æŒ‡å®šç­–ç•¥é‡ç»„æ®µè½\n\nStrategies:\n- ani: Assertion-Nuance-Implication structure\n- subject_diversity: Vary sentence subjects\n- implicit_connector: Replace explicit connectors with semantic flow\n- rhythm: Logic-driven sentence length variation (é€»è¾‘å…³ç³»é©±åŠ¨çš„å¥é•¿è§„åˆ’)\n- citation_entanglement: Transform citations to break AI pattern\n- document_aware: Position-aware restructuring (å…¨ç¯‡æ„ŸçŸ¥é‡ç»„)\n- all: Apply all relevant strategies","operationId":"restructure_paragraph_api_v1_paragraph_restructure_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ParagraphRestructureRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ParagraphRestructureResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/paragraph/analyze-logic-framework":{"post":{"tags":["Paragraph Logic"],"summary":"Analyze Paragraph Logic Framework Endpoint","description":"Analyze paragraph logic framework with sentence role detection (Step 2 Enhancement)\nåˆ†ææ®µè½é€»è¾‘æ¡†æ¶å’Œå¥å­è§’è‰²æ£€æµ‹ï¼ˆStep 2 å¢å¼ºï¼‰\n\nThis endpoint provides:\næ­¤ç«¯ç‚¹æä¾›ï¼š\n- Sentence role analysis (è®ºç‚¹/è¯æ®/åˆ†æ/æ‰¹åˆ¤/è®©æ­¥/ç»¼åˆç­‰)\n- Logic framework pattern detection (linear/dynamic)\n- Burstiness analysis (sentence length variation)\n- Missing element identification\n- Improvement suggestions\n\nUsed in Step 2 to help users understand and improve paragraph structure.\nåœ¨ Step 2 ä¸­ä½¿ç”¨ï¼Œå¸®åŠ©ç”¨æˆ·ç†è§£å’Œæ”¹è¿›æ®µè½ç»“æ„ã€‚","operationId":"analyze_paragraph_logic_framework_endpoint_api_v1_paragraph_analyze_logic_framework_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ParagraphLogicFrameworkRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ParagraphLogicFrameworkResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/structure-guidance/issues":{"post":{"tags":["Structure Guidance"],"summary":"Get Structure Issues","description":"Get categorized list of structure issues for a document\nè·å–æ–‡æ¡£çš„åˆ†ç±»ç»“æ„é—®é¢˜åˆ—è¡¨\n\nThis endpoint performs lightweight analysis without calling LLM.\nDetailed guidance is fetched separately when user expands an issue.\n\nArgs:\n    request: Structure issue list request ç»“æ„é—®é¢˜åˆ—è¡¨è¯·æ±‚\n    db: Database session æ•°æ®åº“ä¼šè¯\n\nReturns:\n    StructureIssueListResponse with categorized issues åŒ…å«åˆ†ç±»é—®é¢˜çš„å“åº”","operationId":"get_structure_issues_api_v1_structure_guidance_issues_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StructureIssueListRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StructureIssueListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/structure-guidance/guidance":{"post":{"tags":["Structure Guidance"],"summary":"Get Issue Guidance","description":"Get detailed guidance for a specific issue (calls LLM)\nè·å–ç‰¹å®šé—®é¢˜çš„è¯¦ç»†æŒ‡å¼•ï¼ˆè°ƒç”¨ LLMï¼‰\n\nThis endpoint is called when user expands an issue card.\nIt generates detailed guidance and optionally a reference version.\n\nArgs:\n    request: Issue guidance request é—®é¢˜æŒ‡å¼•è¯·æ±‚\n    db: Database session æ•°æ®åº“ä¼šè¯\n\nReturns:\n    IssueGuidanceResponse with detailed guidance åŒ…å«è¯¦ç»†æŒ‡å¼•çš„å“åº”","operationId":"get_issue_guidance_api_v1_structure_guidance_guidance_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IssueGuidanceRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IssueGuidanceResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/structure-guidance/apply-fix":{"post":{"tags":["Structure Guidance"],"summary":"Apply Structure Fix","description":"Apply a structure fix to the document\nåº”ç”¨ç»“æ„ä¿®å¤åˆ°æ–‡æ¡£\n\nArgs:\n    request: Apply fix request åº”ç”¨ä¿®å¤è¯·æ±‚\n    db: Database session æ•°æ®åº“ä¼šè¯\n\nReturns:\n    ApplyStructureFixResponse with result åŒ…å«ç»“æœçš„å“åº”","operationId":"apply_structure_fix_api_v1_structure_guidance_apply_fix_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApplyStructureFixRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApplyStructureFixResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/structure-guidance/reorder-suggestion":{"post":{"tags":["Structure Guidance"],"summary":"Get Reorder Suggestion","description":"Get paragraph reorder suggestion for the document\nè·å–æ–‡æ¡£çš„æ®µè½é‡æ’å»ºè®®\n\nArgs:\n    request: Reorder suggestion request é‡æ’å»ºè®®è¯·æ±‚\n    db: Database session æ•°æ®åº“ä¼šè¯\n\nReturns:\n    ReorderSuggestionResponse with reorder suggestion åŒ…å«é‡æ’å»ºè®®çš„å“åº”","operationId":"get_reorder_suggestion_api_v1_structure_guidance_reorder_suggestion_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReorderSuggestionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReorderSuggestionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/term-lock/extract-terms":{"post":{"tags":["5-Layer Analysis","Step 1.0: Term Lock"],"summary":"Extract Terms","description":"Extract candidate terms for locking from document\nä»æ–‡æ¡£ä¸­æå–å¾…é”å®šçš„å€™é€‰æœ¯è¯­\n\nStep 1.0.1: LLM analyzes document and extracts:\n- Technical terms (domain-specific vocabulary)\n- Proper nouns (names, places, methods)\n- Acronyms (technical abbreviations)\n- Key phrases (fixed expressions)\n- High-frequency core words","operationId":"extract_terms_api_v1_analysis_term_lock_extract_terms_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExtractTermsRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__analysis__term_lock__ExtractTermsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/term-lock/confirm-lock":{"post":{"tags":["5-Layer Analysis","Step 1.0: Term Lock"],"summary":"Confirm Lock Terms","description":"Confirm and lock selected terms for the session\nç¡®è®¤å¹¶é”å®šé€‰ä¸­çš„æœ¯è¯­\n\nStep 1.0.2: User confirms which terms to lock\n- Terms will be protected in all subsequent LLM steps\n- Supports both selected terms and custom user-added terms","operationId":"confirm_lock_terms_api_v1_analysis_term_lock_confirm_lock_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__analysis__term_lock__ConfirmLockRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__ConfirmLockResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/term-lock/locked-terms":{"get":{"tags":["5-Layer Analysis","Step 1.0: Term Lock"],"summary":"Get Locked Terms","description":"Get current locked terms for session\nè·å–å½“å‰ä¼šè¯çš„é”å®šæœ¯è¯­\n\nReturns the list of terms that will be protected\nin all subsequent LLM processing steps.","operationId":"get_locked_terms_api_v1_analysis_term_lock_locked_terms_get","parameters":[{"name":"session_id","in":"query","required":true,"schema":{"type":"string","description":"Session ID","title":"Session Id"},"description":"Session ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LockedTermsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["5-Layer Analysis","Step 1.0: Term Lock"],"summary":"Clear Locked Terms","description":"Clear locked terms for session\næ¸…é™¤ä¼šè¯çš„é”å®šæœ¯è¯­\n\nUse this to reset term locking and start fresh.","operationId":"clear_locked_terms_api_v1_analysis_term_lock_locked_terms_delete","parameters":[{"name":"session_id","in":"query","required":true,"schema":{"type":"string","description":"Session ID","title":"Session Id"},"description":"Session ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/document/structure":{"post":{"tags":["5-Layer Analysis","Layer 5: Document"],"summary":"Analyze Document Structure","description":"Step 1.1: Structure Analysis (NOW WITH LLM!)\næ­¥éª¤ 1.1ï¼šç»“æ„åˆ†æï¼ˆç°åœ¨ä½¿ç”¨LLMï¼ï¼‰\n\nUses LLM to detect AI-like structural patterns:\n- Linear flow (First-Second-Third)\n- Repetitive patterns\n- Uniform length\n- Predictable order\n- Symmetry","operationId":"analyze_document_structure_api_v1_analysis_document_structure_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/document/risk":{"post":{"tags":["5-Layer Analysis","Layer 5: Document"],"summary":"Analyze Document Risk","description":"Step 1.2: Global Risk Assessment\næ­¥éª¤ 1.2ï¼šå…¨å±€é£é™©è¯„ä¼°\n\nCalculate document-level AIGC risk score and determine\nwhich lower layers need attention.","operationId":"analyze_document_risk_api_v1_analysis_document_risk_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/document/analyze":{"post":{"tags":["5-Layer Analysis","Layer 5: Document"],"summary":"Analyze Document","description":"Combined Document Analysis (Layer 5)\nç»¼åˆæ–‡æ¡£åˆ†æï¼ˆç¬¬5å±‚ï¼‰\n\nRuns all document-level analysis steps:\n- Step 1.1: Structure Analysis\n- Step 1.2: Global Risk Assessment\n\nReturns complete document-level analysis results with context\nfor passing to lower layers.","operationId":"analyze_document_api_v1_analysis_document_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/document/context":{"post":{"tags":["5-Layer Analysis","Layer 5: Document"],"summary":"Get Document Context","description":"Get document context for passing to lower layers\nè·å–æ–‡æ¡£ä¸Šä¸‹æ–‡ä»¥ä¼ é€’ç»™ä¸‹å±‚\n\nReturns the updated LayerContext that can be used\nto initialize lower layer analysis.","operationId":"get_document_context_api_v1_analysis_document_context_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/document/connectors":{"post":{"tags":["5-Layer Analysis","Layer 5: Document"],"summary":"Analyze Connectors","description":"Step 1.4: Connector & Transition Analysis\næ­¥éª¤ 1.4ï¼šè¿æ¥è¯ä¸è¡”æ¥åˆ†æ\n\nAnalyzes paragraph transitions for AI-like patterns including:\n- Explicit connectors at paragraph openings\n- Formulaic topic sentences\n- Summary endings\n- Too-smooth transitions\n\nåˆ†ææ®µè½è¡”æ¥çš„AIé£æ ¼æ¨¡å¼ï¼ŒåŒ…æ‹¬ï¼š\n- æ®µè½å¼€å¤´çš„æ˜¾æ€§è¿æ¥è¯\n- å…¬å¼åŒ–ä¸»é¢˜å¥\n- æ€»ç»“æ€§ç»“å°¾\n- è¿‡äºå¹³æ»‘çš„è¿‡æ¸¡","operationId":"analyze_connectors_api_v1_analysis_document_connectors_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConnectorAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConnectorAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/document/paragraph-length":{"post":{"tags":["5-Layer Analysis","Layer 5: Document"],"summary":"Analyze Paragraph Length","description":"Step 1.2: Paragraph Length Regularity Analysis\næ­¥éª¤ 1.2ï¼šæ®µè½é•¿åº¦è§„å¾‹æ€§åˆ†æ\n\nAnalyzes paragraph length distribution to detect AI-like uniformity:\n- CV (Coefficient of Variation) < 0.3 indicates too uniform (AI-like)\n- Target CV >= 0.4 for human-like writing\n- Provides merge/split/expand/compress suggestions\n\nåˆ†ææ®µè½é•¿åº¦åˆ†å¸ƒä»¥æ£€æµ‹AIé£æ ¼çš„å‡åŒ€æ€§ï¼š\n- CVï¼ˆå˜å¼‚ç³»æ•°ï¼‰< 0.3 è¡¨ç¤ºè¿‡äºå‡åŒ€ï¼ˆAIé£æ ¼ï¼‰\n- ç›®æ ‡ CV >= 0.4 ä»¥è¾¾åˆ°äººç±»å†™ä½œé£æ ¼\n- æä¾›åˆå¹¶/æ‹†åˆ†/æ‰©å±•/å‹ç¼©å»ºè®®","operationId":"analyze_paragraph_length_api_v1_analysis_document_paragraph_length_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__ParagraphLengthAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__ParagraphLengthAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/document/progression-closure":{"post":{"tags":["5-Layer Analysis","Layer 5: Document"],"summary":"Analyze Progression Closure","description":"Step 1.3: Progression & Closure Analysis\næ­¥éª¤ 1.3ï¼šæ¨è¿›æ¨¡å¼ä¸é—­åˆåˆ†æ\n\nAnalyzes document progression patterns and closure strength:\n- Monotonic (AI-like): sequential, additive, one-directional flow\n- Non-monotonic (Human-like): returns, conditionals, reversals\n- Strong closure (AI-like): definitive conclusions\n- Weak closure (Human-like): open questions, unresolved tensions\n\nåˆ†ææ–‡æ¡£æ¨è¿›æ¨¡å¼å’Œé—­åˆå¼ºåº¦ï¼š\n- å•è°ƒï¼ˆAIé£æ ¼ï¼‰ï¼šé¡ºåºã€é€’è¿›ã€å•å‘æµåŠ¨\n- éå•è°ƒï¼ˆäººç±»é£æ ¼ï¼‰ï¼šå›æ‰£ã€æ¡ä»¶ã€åè½¬\n- å¼ºé—­åˆï¼ˆAIé£æ ¼ï¼‰ï¼šæ˜ç¡®ç»“è®º\n- å¼±é—­åˆï¼ˆäººç±»é£æ ¼ï¼‰ï¼šå¼€æ”¾é—®é¢˜ã€æœªè§£å†³çš„å¼ åŠ›","operationId":"analyze_progression_closure_api_v1_analysis_document_progression_closure_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProgressionClosureRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProgressionClosureResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/document/content-substantiality":{"post":{"tags":["5-Layer Analysis","Layer 5: Document"],"summary":"Analyze Content Substantiality","description":"Step 1.5: Content Substantiality Analysis\næ­¥éª¤ 1.5ï¼šå†…å®¹å®è´¨æ€§åˆ†æ\n\nAnalyzes content for specificity vs. generic AI-like patterns:\n- Detects generic phrases common in AI text\n- Identifies filler words\n- Looks for specific details (numbers, names, dates)\n- Calculates overall substantiality score\n\nåˆ†æå†…å®¹çš„å…·ä½“æ€§ä¸æ³›æ³›çš„AIé£æ ¼æ¨¡å¼ï¼š\n- æ£€æµ‹AIæ–‡æœ¬ä¸­å¸¸è§çš„æ³›æ³›çŸ­è¯­\n- è¯†åˆ«å¡«å……è¯\n- æŸ¥æ‰¾å…·ä½“ç»†èŠ‚ï¼ˆæ•°å­—ã€åç§°ã€æ—¥æœŸï¼‰\n- è®¡ç®—æ€»ä½“å®è´¨æ€§åˆ†æ•°","operationId":"analyze_content_substantiality_api_v1_analysis_document_content_substantiality_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContentSubstantialityRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContentSubstantialityResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/section/logic":{"post":{"tags":["5-Layer Analysis","Layer 4: Section"],"summary":"Analyze Section Logic","description":"Step 2.1: Section Logic Flow\næ­¥éª¤ 2.1ï¼šç« èŠ‚é€»è¾‘?\n\nAnalyzes logical relationships between sections:\n- Check section sequence rationality\n- Detect structural anomalies\n- Compare against expected academic structure","operationId":"analyze_section_logic_api_v1_analysis_section_logic_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SectionAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SectionAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/section/transition":{"post":{"tags":["5-Layer Analysis","Layer 4: Section"],"summary":"Analyze Section Transitions","description":"Step 2.2: Section Transitions\næ­¥éª¤ 2.2ï¼šç« èŠ‚è¡”?\n\nAnalyzes transition quality between sections:\n- Detect abrupt topic changes\n- Evaluate cross-section coherence\n- Check for AI-like explicit transitions","operationId":"analyze_section_transitions_api_v1_analysis_section_transition_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SectionAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SectionAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/section/length":{"post":{"tags":["5-Layer Analysis","Layer 4: Section"],"summary":"Analyze Section Length","description":"Step 2.3: Section Length Distribution\næ­¥éª¤ 2.3ï¼šç« èŠ‚é•¿åº¦åˆ†?\n\nAnalyzes length balance across sections:\n- Detect abnormal length patterns\n- Calculate length CV (coefficient of variation)\n- Identify very short or long sections","operationId":"analyze_section_length_api_v1_analysis_section_length_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SectionAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SectionAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/section/analyze":{"post":{"tags":["5-Layer Analysis","Layer 4: Section"],"summary":"Analyze Section","description":"Combined Section Analysis (Layer 4)\nç»¼åˆç« èŠ‚åˆ†æï¼ˆç¬¬4å±‚ï¼‰\n\nRuns all section-level analysis steps:\n- Step 2.1: Section Logic Flow\n- Step 2.2: Section Transitions\n- Step 2.3: Section Length Distribution\n\nReturns complete section-level analysis results with context\nfor passing to lower layers.","operationId":"analyze_section_api_v1_analysis_section_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SectionAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SectionAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/section/context":{"post":{"tags":["5-Layer Analysis","Layer 4: Section"],"summary":"Get Section Context","description":"Get section context for passing to lower layers\nè·å–ç« èŠ‚ä¸Šä¸‹æ–‡ä»¥ä¼ é€’ç»™ä¸‹å±‚\n\nReturns the updated LayerContext that can be used\nto initialize lower layer analysis.","operationId":"get_section_context_api_v1_analysis_section_context_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SectionAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/section/step2-0/identify":{"post":{"tags":["5-Layer Analysis","Layer 4: Section"],"summary":"Identify Sections","description":"Step 2.0: Section Identification\næ­¥éª¤ 2.0ï¼šç« èŠ‚è¯†åˆ«ä¸è§’è‰²æ ‡æ³¨\n\nDetects section boundaries and assigns roles to each section.\næ£€æµ‹ç« èŠ‚è¾¹ç•Œå¹¶ä¸ºæ¯ä¸ªç« èŠ‚åˆ†é…è§’è‰²ã€‚","operationId":"identify_sections_api_v1_analysis_section_step2_0_identify_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SectionIdentificationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SectionIdentificationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/section/step2-1/order":{"post":{"tags":["5-Layer Analysis","Layer 4: Section"],"summary":"Analyze Section Order","description":"Step 2.1: Section Order & Structure Analysis\næ­¥éª¤ 2.1ï¼šç« èŠ‚é¡ºåºä¸ç»“æ„åˆ†æ\n\nAnalyzes section order, detects missing sections, and evaluates function purity.\nåˆ†æç« èŠ‚é¡ºåºï¼Œæ£€æµ‹ç¼ºå¤±ç« èŠ‚ï¼Œè¯„ä¼°åŠŸèƒ½çº¯åº¦ã€‚","operationId":"analyze_section_order_api_v1_analysis_section_step2_1_order_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SectionOrderRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__SectionOrderResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/section/step2-2/length":{"post":{"tags":["5-Layer Analysis","Layer 4: Section"],"summary":"Analyze Section Length","description":"Step 2.2: Section Length Distribution Analysis\næ­¥éª¤ 2.2ï¼šç« èŠ‚é•¿åº¦åˆ†å¸ƒåˆ†æ\n\nAnalyzes length distribution, CV, extreme sections, and key section weights.\nåˆ†æé•¿åº¦åˆ†å¸ƒã€å˜å¼‚ç³»æ•°ã€æç«¯ç« èŠ‚å’Œå…³é”®ç« èŠ‚æƒé‡ã€‚","operationId":"analyze_section_length_api_v1_analysis_section_step2_2_length_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SectionLengthRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__SectionLengthResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/section/step2-3/similarity":{"post":{"tags":["5-Layer Analysis","Layer 4: Section"],"summary":"Analyze Internal Structure Similarity","description":"Step 2.3: Internal Structure Similarity Analysis (NEW)\næ­¥éª¤ 2.3ï¼šç« èŠ‚å†…éƒ¨ç»“æ„ç›¸ä¼¼æ€§åˆ†æï¼ˆæ–°ï¼‰\n\nCompares internal paragraph function sequences across sections.\næ¯”è¾ƒä¸åŒç« èŠ‚å†…éƒ¨æ®µè½åŠŸèƒ½åºåˆ—çš„ç›¸ä¼¼æ€§ã€‚","operationId":"analyze_internal_structure_similarity_api_v1_analysis_section_step2_3_similarity_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalStructureSimilarityRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalStructureSimilarityResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/section/step2-4/transition":{"post":{"tags":["5-Layer Analysis","Layer 4: Section"],"summary":"Analyze Section Transition","description":"Step 2.4: Section Transition Analysis\næ­¥éª¤ 2.4ï¼šç« èŠ‚è¡”æ¥ä¸è¿‡æ¸¡åˆ†æ\n\nAnalyzes transitions between sections including explicit markers and semantic echo.\nåˆ†æç« èŠ‚é—´çš„è¿‡æ¸¡ï¼ŒåŒ…æ‹¬æ˜¾æ€§æ ‡è®°å’Œè¯­ä¹‰å›å£°ã€‚","operationId":"analyze_section_transition_api_v1_analysis_section_step2_4_transition_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SectionTransitionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__SectionTransitionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/section/step2-5/logic":{"post":{"tags":["5-Layer Analysis","Layer 4: Section"],"summary":"Analyze Inter Section Logic","description":"Step 2.5: Inter-Section Logic Analysis\næ­¥éª¤ 2.5ï¼šç« èŠ‚é—´é€»è¾‘å…³ç³»åˆ†æ\n\nAnalyzes argument chains, redundancy, and progression patterns.\nåˆ†æè®ºç‚¹é“¾ã€å†—ä½™å’Œæ¨è¿›æ¨¡å¼ã€‚","operationId":"analyze_inter_section_logic_api_v1_analysis_section_step2_5_logic_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InterSectionLogicRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__InterSectionLogicResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/paragraph/step3-0/identify":{"post":{"tags":["5-Layer Analysis","Layer 3: Paragraph"],"summary":"Identify Paragraphs","description":"Step 3.0: Paragraph Identification & Segmentation\næ­¥éª¤ 3.0ï¼šæ®µè½è¯†åˆ«ä¸åˆ†å‰²\n\nThis is the foundational step for Layer 3 (Paragraph Level Analysis).\nReceives section context from Layer 4 and identifies paragraph boundaries.\n\nåŠŸèƒ½ï¼š\n- æ­£ç¡®è¯†åˆ«æ®µè½è¾¹ç•Œ\n- è¿‡æ»¤éæ­£æ–‡å†…å®¹ï¼ˆæ ‡é¢˜ã€å…³é”®è¯ã€è¡¨å¤´ç­‰ï¼‰\n- å°†æ®µè½æ˜ å°„åˆ°Section\n- æå–æ®µè½å…ƒæ•°æ®","operationId":"identify_paragraphs_api_v1_analysis_paragraph_step3_0_identify_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ParagraphIdentificationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ParagraphIdentificationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/paragraph/role":{"post":{"tags":["5-Layer Analysis","Layer 3: Paragraph"],"summary":"Analyze Paragraph Roles","description":"Step 3.1: Paragraph Role Detection\næ­¥éª¤ 3.1ï¼šæ®µè½è§’è‰²è¯†åˆ«\n\nClassifies each paragraph's function:\n- Introduction, background, methodology, results, discussion, conclusion\n- Transition paragraphs\n- Detects role distribution anomalies","operationId":"analyze_paragraph_roles_api_v1_analysis_paragraph_role_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__ParagraphAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__ParagraphAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/paragraph/coherence":{"post":{"tags":["5-Layer Analysis","Layer 3: Paragraph"],"summary":"Analyze Paragraph Coherence","description":"Step 3.2: Paragraph Internal Coherence\næ­¥éª¤ 3.2ï¼šæ®µè½å†…éƒ¨è¿è´¯æ€§\n\nAnalyzes sentence relationships within paragraphs:\n- Subject diversity\n- Logic structure\n- Connector density\n- Overall coherence score","operationId":"analyze_paragraph_coherence_api_v1_analysis_paragraph_coherence_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__ParagraphAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__ParagraphAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/paragraph/anchor":{"post":{"tags":["5-Layer Analysis","Layer 3: Paragraph"],"summary":"Analyze Anchor Density","description":"Step 3.3: Anchor Density Analysis\næ­¥éª¤ 3.3ï¼šé”šç‚¹å¯†åº¦åˆ†æ\n\nAnalyzes evidence density in paragraphs:\n- 13 anchor types (citations, numbers, proper nouns, etc.)\n- Calculates anchors per 100 words\n- Flags high hallucination risk (<5 anchors/100 words)","operationId":"analyze_anchor_density_api_v1_analysis_paragraph_anchor_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__ParagraphAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__ParagraphAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/paragraph/sentence-length":{"post":{"tags":["5-Layer Analysis","Layer 3: Paragraph"],"summary":"Analyze Sentence Length Distribution","description":"Step 3.4: Sentence Length Distribution\næ­¥éª¤ 3.4ï¼šæ®µå†…å¥å­é•¿åº¦åˆ†å¸ƒ\n\nAnalyzes sentence length variation within each paragraph:\n- Calculates within-paragraph length CV (coefficient of variation)\n- Detects monotonous length patterns (AI pattern)\n- Flags paragraphs with low burstiness","operationId":"analyze_sentence_length_distribution_api_v1_analysis_paragraph_sentence_length_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__ParagraphAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__ParagraphAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/paragraph/analyze":{"post":{"tags":["5-Layer Analysis","Layer 3: Paragraph"],"summary":"Analyze Paragraph","description":"Combined Paragraph Analysis (Layer 3)\nç»¼åˆæ®µè½åˆ†æï¼ˆç¬¬3å±‚ï¼‰\n\nRuns all paragraph-level analysis steps:\n- Step 3.1: Paragraph Role Detection\n- Step 3.2: Paragraph Internal Coherence\n- Step 3.3: Anchor Density Analysis\n- Step 3.4: Sentence Length Distribution\n\nReturns complete paragraph-level analysis results with context\nfor passing to lower layers (sentence layer).","operationId":"analyze_paragraph_api_v1_analysis_paragraph_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__ParagraphAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__ParagraphAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/paragraph/context":{"post":{"tags":["5-Layer Analysis","Layer 3: Paragraph"],"summary":"Get Paragraph Context","description":"Get paragraph context for passing to sentence layer\nè·å–æ®µè½ä¸Šä¸‹æ–‡ä»¥ä¼ é€’ç»™å¥å­å±‚\n\nReturns the updated LayerContext that can be used\nto initialize sentence-level analysis with paragraph context.\n\n**IMPORTANT**: This context is critical for sentence layer analysis.\nå¥å­å±‚åˆ†æéœ€è¦è¿™ä¸ªä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚","operationId":"get_paragraph_context_api_v1_analysis_paragraph_context_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__ParagraphAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/paragraph/step3-5/transition":{"post":{"tags":["5-Layer Analysis","Layer 3: Paragraph"],"summary":"Analyze Paragraph Transitions","description":"Step 3.5: Paragraph Transition Analysis\næ­¥éª¤ 3.5ï¼šæ®µè½é—´è¿‡æ¸¡åˆ†æ\n\nAnalyzes transitions between adjacent paragraphs:\n- Detects explicit connectors at paragraph openings\n- Calculates semantic echo scores (keyword overlap)\n- Identifies formulaic opener patterns\n- Provides transition quality assessment\n\nåŠŸèƒ½ï¼š\n- æ£€æµ‹æ®µé¦–æ˜¾æ€§è¿æ¥è¯\n- è®¡ç®—è¯­ä¹‰å›å£°åˆ†æ•°ï¼ˆå…³é”®è¯é‡å ï¼‰\n- è¯†åˆ«å…¬å¼åŒ–å¼€å¤´æ¨¡å¼\n- æä¾›è¿‡æ¸¡è´¨é‡è¯„ä¼°","operationId":"analyze_paragraph_transitions_api_v1_analysis_paragraph_step3_5_transition_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ParagraphTransitionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__analysis__paragraph__ParagraphTransitionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/sentence/pattern":{"post":{"tags":["5-Layer Analysis","Layer 2: Sentence"],"summary":"Analyze Sentence Patterns","description":"Step 4.1: Sentence Pattern Detection\næ­¥éª¤ 4.1ï¼šå¥å¼æ¨¡å¼æ£€æµ‹\n\nDetects repetitive sentence structures WITHIN paragraph context:\n- Repetitive sentence beginnings\n- Sentence length distribution per paragraph\n- Calculates burstiness score\n\n**Context**: Receives paragraph boundaries and role info from Layer 3","operationId":"analyze_sentence_patterns_api_v1_analysis_sentence_pattern_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__SentenceAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__SentenceAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/sentence/void":{"post":{"tags":["5-Layer Analysis","Layer 2: Sentence"],"summary":"Analyze Syntactic Voids","description":"Step 4.2: Syntactic Void Detection\næ­¥éª¤ 4.2ï¼šå¥æ³•ç©ºæ´æ£€æµ‹\n\nIntegrates syntactic_void.py (spaCy en_core_web_md).\nDetects 7 void pattern types:\n- Hollow constructions\n- Empty elaborations\n- Redundant qualifiers\n\n**Context**: Consider sentence position in paragraph for severity weighting","operationId":"analyze_syntactic_voids_api_v1_analysis_sentence_void_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__SentenceAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__SentenceAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/sentence/role":{"post":{"tags":["5-Layer Analysis","Layer 2: Sentence"],"summary":"Analyze Sentence Roles","description":"Step 4.3: Sentence Role Classification\næ­¥éª¤ 4.3ï¼šå¥å­è§’è‰²åˆ†ç±»\n\nClassifies each sentence into 10 roles:\n- CLAIM, EVIDENCE, ANALYSIS, CRITIQUE, CONCESSION\n- SYNTHESIS, TRANSITION, CONTEXT, IMPLICATION, ELABORATION\n\n**Context**: Role classification depends on surrounding sentences in paragraph","operationId":"analyze_sentence_roles_api_v1_analysis_sentence_role_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__SentenceAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__SentenceAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/sentence/polish-context":{"post":{"tags":["5-Layer Analysis","Layer 2: Sentence"],"summary":"Get Polish Context","description":"Step 4.4: Sentence Polish Context\næ­¥éª¤ 4.4ï¼šå¥å­æ¶¦è‰²ä¸Šä¸‹æ–‡\n\n**CONTEXT-CRITICAL**: Returns all context needed for sentence rewriting.\n\nRewriting prompts MUST include:\n- Full paragraph text for context\n- Sentence role in paragraph\n- Previous/next sentence for coherence\n- Paragraph's role in section\n\nUse this endpoint to get context for interactive (Intervention)\nor batch (Yolo) sentence polishing.","operationId":"get_polish_context_api_v1_analysis_sentence_polish_context_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__SentenceAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__SentenceAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/sentence/analyze":{"post":{"tags":["5-Layer Analysis","Layer 2: Sentence"],"summary":"Analyze Sentence","description":"Combined Sentence Analysis (Layer 2)\nç»¼åˆå¥å­åˆ†æï¼ˆç¬¬2å±‚ï¼‰\n\n**IMPORTANT**: All analysis performed within paragraph context.\n\nRuns all sentence-level analysis steps:\n- Step 4.1: Sentence Pattern Detection\n- Step 4.2: Syntactic Void Detection\n- Step 4.3: Sentence Role Classification\n- Step 4.4: Sentence Polish Context Preparation\n\nReturns complete sentence-level analysis results with full paragraph\ncontext for each sentence.","operationId":"analyze_sentence_api_v1_analysis_sentence_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__SentenceAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__SentenceAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/sentence/rewrite-context":{"post":{"tags":["5-Layer Analysis","Layer 2: Sentence"],"summary":"Get Rewrite Context","description":"Get Rewrite Context for a Specific Sentence\nè·å–ç‰¹å®šå¥å­çš„æ”¹å†™ä¸Šä¸‹æ–‡\n\n**CONTEXT-CRITICAL**: Returns formatted context for rewriting prompts.\n\nThis is the primary method for getting context when generating rewrite prompts.\nThe returned context MUST be included in rewriting prompts for accurate\ncontext-aware sentence rewriting.\n\nUsed by:\n- Intervention mode (user confirms each rewrite)\n- Yolo mode (batch auto rewriting)","operationId":"get_rewrite_context_api_v1_analysis_sentence_rewrite_context_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RewriteContextRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RewriteContextResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/sentence/context":{"post":{"tags":["5-Layer Analysis","Layer 2: Sentence"],"summary":"Get Sentence Context","description":"Get sentence context for passing to lexical layer\nè·å–å¥å­ä¸Šä¸‹æ–‡ä»¥ä¼ é€’ç»™è¯æ±‡å±‚\n\nReturns the updated LayerContext that can be used\nto initialize lexical-level analysis.","operationId":"get_sentence_context_api_v1_analysis_sentence_context_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__SentenceAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/sentence/step4-0/identify":{"post":{"tags":["5-Layer Analysis","Layer 2: Sentence"],"summary":"Identify Sentences","description":"Step 4.0: Sentence Identification & Labeling\næ­¥éª¤ 4.0ï¼šå¥å­è¯†åˆ«ä¸æ ‡æ³¨\n\nIdentifies all sentences in the document and labels each with:\n- Sentence type (simple/compound/complex/compound_complex)\n- Function role (topic/evidence/analysis/transition/conclusion)\n- Voice (active/passive)\n- Opener word\n- Clause depth\n\nThis is the foundation step for Layer 2 processing.\nè¿™æ˜¯Layer 2å¤„ç†çš„åŸºç¡€æ­¥éª¤ã€‚","operationId":"identify_sentences_api_v1_analysis_sentence_step4_0_identify_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SentenceIdentificationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SentenceIdentificationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/sentence/step4-1/pattern":{"post":{"tags":["5-Layer Analysis","Layer 2: Sentence"],"summary":"Analyze Patterns","description":"Step 4.1: Sentence Pattern Analysis\næ­¥éª¤ 4.1ï¼šå¥å¼ç»“æ„åˆ†æ\n\nAnalyzes sentence patterns across the document:\n- Sentence type distribution (simple/compound/complex/compound_complex)\n- Sentence opener analysis (repetition, subject-first ratio)\n- Voice distribution (active/passive)\n- Clause depth statistics\n- Identifies high-risk paragraphs for processing\n\nåˆ†æå…¨æ–‡çš„å¥å¼æ¨¡å¼ï¼š\n- å¥å¼ç±»å‹åˆ†å¸ƒ\n- å¥é¦–è¯åˆ†æ\n- è¯­æ€åˆ†å¸ƒ\n- ä»å¥æ·±åº¦ç»Ÿè®¡\n- è¯†åˆ«éœ€è¦å¤„ç†çš„é«˜é£é™©æ®µè½","operationId":"analyze_patterns_api_v1_analysis_sentence_step4_1_pattern_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PatternAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PatternAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/sentence/step4-2/length":{"post":{"tags":["5-Layer Analysis","Layer 2: Sentence"],"summary":"Analyze Length","description":"Step 4.2: In-Paragraph Length Analysis\næ­¥éª¤ 4.2ï¼šæ®µå†…å¥é•¿åˆ†æ\n\nAnalyzes sentence length distribution within each paragraph:\n- Calculates length CV (coefficient of variation) per paragraph\n- Identifies uniformity issues (CV < 0.25)\n- Suggests merge candidates (short adjacent sentences)\n- Suggests split candidates (overly long sentences)\n\nåˆ†ææ¯ä¸ªæ®µè½å†…çš„å¥é•¿åˆ†å¸ƒï¼š\n- è®¡ç®—æ¯æ®µçš„å¥é•¿å˜å¼‚ç³»æ•°\n- è¯†åˆ«å¥é•¿å‡åŒ€æ€§é—®é¢˜\n- å»ºè®®åˆå¹¶å€™é€‰ï¼ˆç›¸é‚»çŸ­å¥ï¼‰\n- å»ºè®®æ‹†åˆ†å€™é€‰ï¼ˆè¿‡é•¿å¥å­ï¼‰","operationId":"analyze_length_api_v1_analysis_sentence_step4_2_length_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LengthAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LengthAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/sentence/step4-3/merge":{"post":{"tags":["5-Layer Analysis","Layer 2: Sentence"],"summary":"Suggest Merges","description":"Step 4.3: Sentence Merger Suggestions\næ­¥éª¤ 4.3ï¼šå¥å­åˆå¹¶å»ºè®®\n\nGenerates merge suggestions for a specific paragraph:\n- Identifies semantically related adjacent sentences\n- Generates nested clause merge previews\n- Evaluates readability and complexity gain\n\nä¸ºç‰¹å®šæ®µè½ç”Ÿæˆåˆå¹¶å»ºè®®ï¼š\n- è¯†åˆ«è¯­ä¹‰ç›¸å…³çš„ç›¸é‚»å¥å­\n- ç”ŸæˆåµŒå¥—ä»å¥åˆå¹¶é¢„è§ˆ\n- è¯„ä¼°å¯è¯»æ€§å’Œå¤æ‚åº¦æå‡","operationId":"suggest_merges_api_v1_analysis_sentence_step4_3_merge_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MergeSuggestionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MergeSuggestionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/sentence/step4-4/connector":{"post":{"tags":["5-Layer Analysis","Layer 2: Sentence"],"summary":"Optimize Connectors","description":"Step 4.4: Inter-Sentence Connector Optimization\næ­¥éª¤ 4.4ï¼šå¥é—´è¿æ¥è¯ä¼˜åŒ–\n\nAnalyzes and optimizes explicit connectors in a paragraph:\n- Detects AI-style explicit connectors (Furthermore, Moreover, etc.)\n- Suggests implicit alternatives (semantic echo, removal, subordination)\n- Preserves user-specified connectors\n\nåˆ†æå¹¶ä¼˜åŒ–æ®µè½ä¸­çš„æ˜¾æ€§è¿æ¥è¯ï¼š\n- æ£€æµ‹AIé£æ ¼æ˜¾æ€§è¿æ¥è¯\n- å»ºè®®éšæ€§æ›¿ä»£æ–¹æ¡ˆ\n- ä¿ç•™ç”¨æˆ·æŒ‡å®šçš„è¿æ¥è¯","operationId":"optimize_connectors_api_v1_analysis_sentence_step4_4_connector_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConnectorOptimizationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConnectorOptimizationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/sentence/step4-5/diversify":{"post":{"tags":["5-Layer Analysis","Layer 2: Sentence"],"summary":"Diversify Patterns","description":"Step 4.5: Pattern Diversification & Rewriting\næ­¥éª¤ 4.5ï¼šå¥å¼å¤šæ ·åŒ–ä¸æ”¹å†™\n\nComprehensive sentence pattern diversification:\n- Transforms sentence openers\n- Switches voice (active<->passive)\n- Adds inversion/emphasis structures\n- Generates before/after metrics comparison\n\nç»¼åˆå¥å¼å¤šæ ·åŒ–å¤„ç†ï¼š\n- å˜æ¢å¥é¦–\n- åˆ‡æ¢è¯­æ€\n- æ·»åŠ å€’è£…/å¼ºè°ƒç»“æ„\n- ç”Ÿæˆå‰åæŒ‡æ ‡å¯¹æ¯”","operationId":"diversify_patterns_api_v1_analysis_sentence_step4_5_diversify_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DiversificationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DiversificationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/sentence/paragraph/{para_idx}/config":{"post":{"tags":["5-Layer Analysis","Layer 2: Sentence"],"summary":"Set Paragraph Config","description":"Set processing configuration for a single paragraph.\nè®¾ç½®å•ä¸ªæ®µè½çš„å¤„ç†é…ç½®ã€‚","operationId":"set_paragraph_config_api_v1_analysis_sentence_paragraph__para_idx__config_post","parameters":[{"name":"para_idx","in":"path","required":true,"schema":{"type":"integer","title":"Para Idx"}},{"name":"session_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ParagraphProcessingConfig"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["5-Layer Analysis","Layer 2: Sentence"],"summary":"Get Paragraph Config","description":"Get current configuration for a paragraph.\nè·å–æ®µè½çš„å½“å‰é…ç½®ã€‚","operationId":"get_paragraph_config_api_v1_analysis_sentence_paragraph__para_idx__config_get","parameters":[{"name":"para_idx","in":"path","required":true,"schema":{"type":"integer","title":"Para Idx"}},{"name":"session_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/sentence/paragraph/{para_idx}/versions":{"get":{"tags":["5-Layer Analysis","Layer 2: Sentence"],"summary":"Get Paragraph Versions","description":"Get version history for a paragraph.\nè·å–æ®µè½çš„ç‰ˆæœ¬å†å²ã€‚","operationId":"get_paragraph_versions_api_v1_analysis_sentence_paragraph__para_idx__versions_get","parameters":[{"name":"para_idx","in":"path","required":true,"schema":{"type":"integer","title":"Para Idx"}},{"name":"session_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/sentence/paragraph/{para_idx}/revert":{"post":{"tags":["5-Layer Analysis","Layer 2: Sentence"],"summary":"Revert Paragraph","description":"Revert paragraph to a specific version.\nå°†æ®µè½å›é€€åˆ°æŒ‡å®šç‰ˆæœ¬ã€‚","operationId":"revert_paragraph_api_v1_analysis_sentence_paragraph__para_idx__revert_post","parameters":[{"name":"para_idx","in":"path","required":true,"schema":{"type":"integer","title":"Para Idx"}},{"name":"target_version","in":"query","required":true,"schema":{"type":"integer","title":"Target Version"}},{"name":"session_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/sentence/batch/config":{"post":{"tags":["5-Layer Analysis","Layer 2: Sentence"],"summary":"Batch Set Config","description":"Set configuration for multiple paragraphs.\næ‰¹é‡è®¾ç½®å¤šä¸ªæ®µè½çš„é…ç½®ã€‚","operationId":"batch_set_config_api_v1_analysis_sentence_batch_config_post","parameters":[{"name":"session_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchConfigRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/sentence/batch/lock":{"post":{"tags":["5-Layer Analysis","Layer 2: Sentence"],"summary":"Batch Lock","description":"Lock or unlock multiple paragraphs.\næ‰¹é‡é”å®šæˆ–è§£é”æ®µè½ã€‚","operationId":"batch_lock_api_v1_analysis_sentence_batch_lock_post","parameters":[{"name":"session_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchLockRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/lexical/fingerprint":{"post":{"tags":["5-Layer Analysis","Layer 1: Lexical"],"summary":"Analyze Fingerprints","description":"Step 5.1: Fingerprint Detection\næ­¥éª¤ 5.1ï¼šæŒ‡çº¹è¯æ£€æµ‹\n\nConsolidated fingerprint detection:\n- Type A: Dead Giveaways (+40 risk) - delve, tapestry, multifaceted, etc.\n- Type B: Academic ClichÃ©s (+5-25 risk) - crucial, robust, leverage, etc.\n- Type C: Connectors (+10-30 risk) - furthermore, moreover, etc.\n- Phrases: Multi-word AI patterns\n\nReturns matches with replacement suggestions.","operationId":"analyze_fingerprints_api_v1_analysis_lexical_fingerprint_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LexicalAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LexicalAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/lexical/connector":{"post":{"tags":["5-Layer Analysis","Layer 1: Lexical"],"summary":"Analyze Connectors","description":"Step 5.2: Connector Analysis\næ­¥éª¤ 5.2ï¼šè¿æ¥è¯åˆ†æ\n\nDetects overuse of explicit connectors (AI pattern):\n- Furthermore, Moreover, Additionally\n- Consequently, Subsequently, Nevertheless\n- It is important to note that, etc.\n\nAnalyzes connector usage at sentence starts.","operationId":"analyze_connectors_api_v1_analysis_lexical_connector_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LexicalAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LexicalAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/lexical/word-risk":{"post":{"tags":["5-Layer Analysis","Layer 1: Lexical"],"summary":"Analyze Word Risk","description":"Step 5.3: Word-Level Risk\næ­¥éª¤ 5.3ï¼šè¯çº§é£é™©\n\nCalculates aggregate word-level risk:\n- Normalized risk score (0-100)\n- Per-word risk breakdown\n- Replacement suggestions for high-risk words","operationId":"analyze_word_risk_api_v1_analysis_lexical_word_risk_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LexicalAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LexicalAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/lexical/analyze":{"post":{"tags":["5-Layer Analysis","Layer 1: Lexical"],"summary":"Analyze Lexical","description":"Combined Lexical Analysis (Layer 1)\nç»¼åˆè¯æ±‡åˆ†æï¼ˆç¬¬1å±‚ï¼‰\n\nRuns all lexical-level analysis steps:\n- Step 5.1: Fingerprint Detection (consolidated)\n- Step 5.2: Connector Analysis (consolidated)\n- Step 5.3: Word-Level Risk\n\nReturns complete lexical-level analysis with:\n- All fingerprint matches (Type A, B, C, and phrases)\n- Connector usage patterns\n- Normalized risk score\n- Replacement suggestions","operationId":"analyze_lexical_api_v1_analysis_lexical_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LexicalAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LexicalAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/lexical/replacements":{"post":{"tags":["5-Layer Analysis","Layer 1: Lexical"],"summary":"Get Replacement Suggestions","description":"Get Replacement Suggestions for Flagged Words\nè·å–æ ‡è®°è¯çš„æ›¿æ¢å»ºè®®\n\nReturns a map of flagged words/phrases to their suggested replacements.\nThis is useful for automated or semi-automated text rewriting.","operationId":"get_replacement_suggestions_api_v1_analysis_lexical_replacements_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LexicalAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/lexical-v2/step5-0/context":{"post":{"tags":["5-Layer Analysis","Layer 1: Lexical (Enhanced)"],"summary":"Prepare Context","description":"Step 5.0: Prepare lexical analysis context\næ­¥éª¤5.0ï¼šå‡†å¤‡è¯æ±‡åˆ†æä¸Šä¸‹æ–‡","operationId":"prepare_context_api_v1_analysis_lexical_v2_step5_0_context_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContextRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/lexical-v2/step5-1/fingerprint":{"post":{"tags":["5-Layer Analysis","Layer 1: Lexical (Enhanced)"],"summary":"Detect Fingerprints","description":"Step 5.1: Detect AIGC fingerprint words and phrases\næ­¥éª¤5.1ï¼šæ£€æµ‹AIGCæŒ‡çº¹è¯æ±‡å’ŒçŸ­è¯­\n\nNow includes PPL (Perplexity) analysis integration.\nç°å·²é›†æˆPPLï¼ˆå›°æƒ‘åº¦ï¼‰åˆ†æã€‚","operationId":"detect_fingerprints_api_v1_analysis_lexical_v2_step5_1_fingerprint_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FingerprintRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/lexical-v2/step5-2/human-features":{"post":{"tags":["5-Layer Analysis","Layer 1: Lexical (Enhanced)"],"summary":"Analyze Human Features","description":"Step 5.2: Analyze human academic writing feature coverage\næ­¥éª¤5.2ï¼šåˆ†æäººç±»å­¦æœ¯å†™ä½œç‰¹å¾è¦†ç›–ç‡","operationId":"analyze_human_features_api_v1_analysis_lexical_v2_step5_2_human_features_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HumanFeatureRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/lexical-v2/step5-3/candidates":{"post":{"tags":["5-Layer Analysis","Layer 1: Lexical (Enhanced)"],"summary":"Generate Candidates","description":"Step 5.3: Generate replacement candidates for fingerprints\næ­¥éª¤5.3ï¼šä¸ºæŒ‡çº¹è¯ç”Ÿæˆæ›¿æ¢å€™é€‰","operationId":"generate_candidates_api_v1_analysis_lexical_v2_step5_3_candidates_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CandidateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/lexical-v2/step5-4/rewrite":{"post":{"tags":["5-Layer Analysis","Layer 1: Lexical (Enhanced)"],"summary":"Rewrite Paragraphs","description":"Step 5.4: Rewrite paragraphs using LLM\næ­¥éª¤5.4ï¼šä½¿ç”¨LLMæ”¹å†™æ®µè½","operationId":"rewrite_paragraphs_api_v1_analysis_lexical_v2_step5_4_rewrite_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RewriteRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/lexical-v2/step5-5/validate":{"post":{"tags":["5-Layer Analysis","Layer 1: Lexical (Enhanced)"],"summary":"Validate Results","description":"Step 5.5: Validate rewrite results\næ­¥éª¤5.5ï¼šéªŒè¯æ”¹å†™ç»“æœ","operationId":"validate_results_api_v1_analysis_lexical_v2_step5_5_validate_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RewriteRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/lexical-v2/full-pipeline":{"post":{"tags":["5-Layer Analysis","Layer 1: Lexical (Enhanced)"],"summary":"Run Full Pipeline","description":"Run complete Layer 1 analysis and rewriting pipeline\nè¿è¡Œå®Œæ•´çš„Layer 1åˆ†æå’Œæ”¹å†™æµç¨‹","operationId":"run_full_pipeline_api_v1_analysis_lexical_v2_full_pipeline_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FullPipelineRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/lexical-v2/analyze-only":{"post":{"tags":["5-Layer Analysis","Layer 1: Lexical (Enhanced)"],"summary":"Analyze Only","description":"Run analysis steps only (5.0-5.3), no rewriting\nä»…è¿è¡Œåˆ†ææ­¥éª¤ï¼ˆ5.0-5.3ï¼‰ï¼Œä¸æ”¹å†™","operationId":"analyze_only_api_v1_analysis_lexical_v2_analyze_only_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContextRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/pipeline/full":{"post":{"tags":["5-Layer Analysis","Pipeline"],"summary":"Analyze Full Pipeline","description":"Full Pipeline Analysis\nå…¨æµæ°´çº¿åˆ†æ\n\nRuns all 5 layers in sequence:\n1. Layer 5: Document (æ–‡ç« å±‚) - structure analysis, global risk\n2. Layer 4: Section (ç« èŠ‚å±‚) - logic flow, transitions, length\n3. Layer 3: Paragraph (æ®µè½å±‚) - roles, coherence, anchors, sentence lengths\n4. Layer 2: Sentence (å¥å­å±‚) - patterns, voids, roles, polish context\n5. Layer 1: Lexical (è¯æ±‡å±‚) - fingerprints, connectors, word risk\n\nContext is passed between layers for accurate, context-aware analysis.\nä¸Šä¸‹æ–‡åœ¨å±‚ä¹‹é—´ä¼ é€’ï¼Œä»¥è¿›è¡Œå‡†ç¡®çš„ä¸Šä¸‹æ–‡æ„ŸçŸ¥åˆ†æã€‚","operationId":"analyze_full_pipeline_api_v1_analysis_pipeline_full_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PipelineAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PipelineAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/pipeline/partial":{"post":{"tags":["5-Layer Analysis","Pipeline"],"summary":"Analyze Partial Pipeline","description":"Partial Pipeline Analysis\néƒ¨åˆ†æµæ°´çº¿åˆ†æ\n\nRuns only the specified layers. Useful for:\n- Focused analysis on specific areas\n- Performance optimization\n- Incremental analysis\n\nNote: Some layers depend on context from upper layers.\nIf upper layer context is missing, default values will be used.","operationId":"analyze_partial_pipeline_api_v1_analysis_pipeline_partial_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PipelineAnalysisRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PipelineAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analysis/pipeline/layers":{"get":{"tags":["5-Layer Analysis","Pipeline"],"summary":"Get Available Layers","description":"Get Available Layers\nè·å–å¯ç”¨å±‚çº§\n\nReturns information about each layer and their steps.","operationId":"get_available_layers_api_v1_analysis_pipeline_layers_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/layer5/step1-0/extract-terms":{"post":{"tags":["Substeps","Layer 5: Document","Step 1.0: Term Locking"],"summary":"Extract Terms","description":"Step 1.0.1: Extract candidate terms for locking\næ­¥éª¤ 1.0.1ï¼šæå–å¾…é”å®šçš„å€™é€‰æœ¯è¯­\n\nLLM analyzes document and extracts:\n- Technical terms (domain-specific vocabulary)\n- Proper nouns (names, places, methods)\n- Acronyms (technical abbreviations)\n- Key phrases (fixed expressions)\n- High-frequency core words","operationId":"extract_terms_api_v1_layer5_step1_0_extract_terms_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TermLockRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__ExtractTermsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer5/step1-0/confirm-lock":{"post":{"tags":["Substeps","Layer 5: Document","Step 1.0: Term Locking"],"summary":"Confirm Lock Terms","description":"Step 1.0.2: Confirm and lock selected terms\næ­¥éª¤ 1.0.2ï¼šç¡®è®¤å¹¶é”å®šé€‰ä¸­çš„æœ¯è¯­\n\nUser confirms which terms to lock.\nTerms will be protected in all subsequent LLM steps.","operationId":"confirm_lock_terms_api_v1_layer5_step1_0_confirm_lock_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__ConfirmLockRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__ConfirmLockResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer5/step1-0/locked-terms":{"get":{"tags":["Substeps","Layer 5: Document","Step 1.0: Term Locking"],"summary":"Get Locked Terms","description":"Get current locked terms for session\nè·å–å½“å‰ä¼šè¯çš„é”å®šæœ¯è¯­","operationId":"get_locked_terms_api_v1_layer5_step1_0_locked_terms_get","parameters":[{"name":"session_id","in":"query","required":true,"schema":{"type":"string","description":"Session ID","title":"Session Id"},"description":"Session ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Substeps","Layer 5: Document","Step 1.0: Term Locking"],"summary":"Clear Locked Terms","description":"Clear locked terms for session\næ¸…é™¤ä¼šè¯çš„é”å®šæœ¯è¯­","operationId":"clear_locked_terms_api_v1_layer5_step1_0_locked_terms_delete","parameters":[{"name":"session_id","in":"query","required":true,"schema":{"type":"string","description":"Session ID","title":"Session Id"},"description":"Session ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer5/step1-1/analyze":{"post":{"tags":["Substeps","Layer 5: Document","Step 1.1: Structure Framework"],"summary":"Analyze Structure","description":"Step 1.1: Analyze document structure for AI-like patterns using LLM\næ­¥éª¤ 1.1ï¼šä½¿ç”¨LLMåˆ†ææ–‡æ¡£ç»“æ„ä¸­çš„AIç‰¹å¾\n\nDetects:\n- Linear flow (First-Second-Third enumeration)\n- Repetitive pattern (copy-paste section structure)\n- Uniform length (CV < 0.30)\n- Predictable order (formulaic academic structure)\n- Symmetry (all sections have equal paragraphs)","operationId":"analyze_structure_api_v1_layer5_step1_1_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__StructureAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer5/step1-1/merge-modify/prompt":{"post":{"tags":["Substeps","Layer 5: Document","Step 1.1: Structure Framework"],"summary":"Generate Rewrite Prompt","description":"Generate a modification prompt for selected structure issues\nä¸ºé€‰å®šçš„ç»“æ„é—®é¢˜ç”Ÿæˆä¿®æ”¹æç¤ºè¯\n\nUser can copy this prompt to use with other AI tools.\nç”¨æˆ·å¯ä»¥å¤åˆ¶æ­¤æç¤ºè¯ç”¨äºå…¶ä»–AIå·¥å…·ã€‚\n\nArgs:\n    request: Merge modify request with selected issues and user notes\n\nReturns:\n    Prompt for user to copy","operationId":"generate_rewrite_prompt_api_v1_layer5_step1_1_merge_modify_prompt_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__MergeModifyRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__MergeModifyPromptResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer5/step1-1/merge-modify/apply":{"post":{"tags":["Substeps","Layer 5: Document","Step 1.1: Structure Framework"],"summary":"Apply Rewrite","description":"Apply AI modification to document structure directly\nç›´æ¥åº”ç”¨AIä¿®æ”¹åˆ°æ–‡æ¡£ç»“æ„\n\nArgs:\n    request: Merge modify request with selected issues and user notes\n\nReturns:\n    Modified document with changes summary","operationId":"apply_rewrite_api_v1_layer5_step1_1_merge_modify_apply_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__MergeModifyRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__MergeModifyApplyResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer5/step1-2/analyze":{"post":{"tags":["Substeps","Layer 5: Document","Step 1.2: Section Uniformity"],"summary":"Analyze Paragraph Length","description":"Step 1.2: Analyze paragraph length regularity using LLM\næ­¥éª¤ 1.2ï¼šä½¿ç”¨LLMåˆ†ææ®µè½é•¿åº¦è§„å¾‹æ€§\n\nDetects:\n- Uniform paragraph length (CV < 0.30)\n- Split/expand/merge candidates","operationId":"analyze_paragraph_length_api_v1_layer5_step1_2_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SectionUniformityResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer5/step1-2/merge-modify/prompt":{"post":{"tags":["Substeps","Layer 5: Document","Step 1.2: Section Uniformity"],"summary":"Generate Rewrite Prompt","description":"Generate a modification prompt for selected paragraph length issues\nä¸ºé€‰å®šçš„æ®µè½é•¿åº¦é—®é¢˜ç”Ÿæˆä¿®æ”¹æç¤ºè¯\n\nUser can copy this prompt to use with other AI tools.","operationId":"generate_rewrite_prompt_api_v1_layer5_step1_2_merge_modify_prompt_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__MergeModifyRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__MergeModifyPromptResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer5/step1-2/merge-modify/apply":{"post":{"tags":["Substeps","Layer 5: Document","Step 1.2: Section Uniformity"],"summary":"Apply Rewrite","description":"Apply AI modification directly for selected paragraph length issues\nä¸ºé€‰å®šçš„æ®µè½é•¿åº¦é—®é¢˜ç›´æ¥åº”ç”¨AIä¿®æ”¹","operationId":"apply_rewrite_api_v1_layer5_step1_2_merge_modify_apply_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__MergeModifyRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__MergeModifyApplyResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer5/step1-2/process":{"post":{"tags":["Substeps","Layer 5: Document","Step 1.2: Section Uniformity"],"summary":"Process Paragraph Length","description":"Legacy endpoint - redirects to analyze","operationId":"process_paragraph_length_api_v1_layer5_step1_2_process_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer5/step1-3/analyze":{"post":{"tags":["Substeps","Layer 5: Document","Step 1.3: Logic Pattern"],"summary":"Analyze Logic Pattern","description":"Step 1.3: Analyze progression and closure patterns using LLM\næ­¥éª¤ 1.3ï¼šä½¿ç”¨LLMåˆ†ææ¨è¿›å’Œé—­åˆæ¨¡å¼\n\nDetects:\n- Monotonic progression (å•è°ƒæ¨è¿›)\n- Too-strong closure (è¿‡åº¦é—­åˆ)\n- Missing qualification (ç¼ºå°‘æ¡ä»¶é™å®š)","operationId":"analyze_logic_pattern_api_v1_layer5_step1_3_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LogicPatternResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer5/step1-3/merge-modify/prompt":{"post":{"tags":["Substeps","Layer 5: Document","Step 1.3: Logic Pattern"],"summary":"Generate Rewrite Prompt","description":"Generate a modification prompt for selected progression/closure issues\nä¸ºé€‰å®šçš„æ¨è¿›/é—­åˆé—®é¢˜ç”Ÿæˆä¿®æ”¹æç¤ºè¯","operationId":"generate_rewrite_prompt_api_v1_layer5_step1_3_merge_modify_prompt_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__MergeModifyRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__MergeModifyPromptResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer5/step1-3/merge-modify/apply":{"post":{"tags":["Substeps","Layer 5: Document","Step 1.3: Logic Pattern"],"summary":"Apply Rewrite","description":"Apply AI modification directly for selected progression/closure issues\nä¸ºé€‰å®šçš„æ¨è¿›/é—­åˆé—®é¢˜ç›´æ¥åº”ç”¨AIä¿®æ”¹","operationId":"apply_rewrite_api_v1_layer5_step1_3_merge_modify_apply_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__MergeModifyRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__MergeModifyApplyResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer5/step1-3/process":{"post":{"tags":["Substeps","Layer 5: Document","Step 1.3: Logic Pattern"],"summary":"Process Logic Pattern","description":"Legacy endpoint - redirects to analyze","operationId":"process_logic_pattern_api_v1_layer5_step1_3_process_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer5/step1-4/analyze":{"post":{"tags":["Substeps","Layer 5: Document","Step 1.4: Paragraph Length"],"summary":"Analyze Anchor Density","description":"Step 1.4: Analyze anchor density using LLM\næ­¥éª¤ 1.4ï¼šä½¿ç”¨LLMåˆ†æé”šç‚¹å¯†åº¦\n\nDetects:\n- Low anchor density (< 5.0 per 100 words)\n- Missing anchor types (statistics, citations, measurements)","operationId":"analyze_anchor_density_api_v1_layer5_step1_4_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AnchorDensityResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer5/step1-4/merge-modify/prompt":{"post":{"tags":["Substeps","Layer 5: Document","Step 1.4: Paragraph Length"],"summary":"Generate Rewrite Prompt","description":"Generate a modification prompt for selected anchor density issues\nä¸ºé€‰å®šçš„é”šç‚¹å¯†åº¦é—®é¢˜ç”Ÿæˆä¿®æ”¹æç¤ºè¯","operationId":"generate_rewrite_prompt_api_v1_layer5_step1_4_merge_modify_prompt_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__MergeModifyRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__MergeModifyPromptResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer5/step1-4/merge-modify/apply":{"post":{"tags":["Substeps","Layer 5: Document","Step 1.4: Paragraph Length"],"summary":"Apply Rewrite","description":"Apply AI modification directly for selected anchor density issues\nä¸ºé€‰å®šçš„é”šç‚¹å¯†åº¦é—®é¢˜ç›´æ¥åº”ç”¨AIä¿®æ”¹","operationId":"apply_rewrite_api_v1_layer5_step1_4_merge_modify_apply_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__MergeModifyRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__MergeModifyApplyResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer5/step1-4/process":{"post":{"tags":["Substeps","Layer 5: Document","Step 1.4: Paragraph Length"],"summary":"Process Anchor Density","description":"Legacy endpoint - redirects to analyze","operationId":"process_anchor_density_api_v1_layer5_step1_4_process_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer5/step1-5/analyze":{"post":{"tags":["Substeps","Layer 5: Document","Step 1.5: Transitions"],"summary":"Analyze Transitions","description":"Step 1.5: Analyze transitions and connectors using LLM\næ­¥éª¤ 1.5ï¼šä½¿ç”¨LLMåˆ†æè¿‡æ¸¡å’Œè¿æ¥è¯\n\nDetects:\n- Explicit connectors at paragraph openings\n- Formulaic topic sentences\n- Too-smooth transitions\n- Summary endings","operationId":"analyze_transitions_api_v1_layer5_step1_5_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConnectorTransitionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer5/step1-5/merge-modify/prompt":{"post":{"tags":["Substeps","Layer 5: Document","Step 1.5: Transitions"],"summary":"Generate Rewrite Prompt","description":"Generate a modification prompt for selected transition/connector issues\nä¸ºé€‰å®šçš„è¿‡æ¸¡/è¿æ¥è¯é—®é¢˜ç”Ÿæˆä¿®æ”¹æç¤ºè¯","operationId":"generate_rewrite_prompt_api_v1_layer5_step1_5_merge_modify_prompt_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__MergeModifyRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__MergeModifyPromptResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer5/step1-5/merge-modify/apply":{"post":{"tags":["Substeps","Layer 5: Document","Step 1.5: Transitions"],"summary":"Apply Rewrite","description":"Apply AI modification directly for selected transition/connector issues\nä¸ºé€‰å®šçš„è¿‡æ¸¡/è¿æ¥è¯é—®é¢˜ç›´æ¥åº”ç”¨AIä¿®æ”¹","operationId":"apply_rewrite_api_v1_layer5_step1_5_merge_modify_apply_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__MergeModifyRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__MergeModifyApplyResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer5/step1-5/process":{"post":{"tags":["Substeps","Layer 5: Document","Step 1.5: Transitions"],"summary":"Process Transitions","description":"Legacy endpoint - redirects to analyze","operationId":"process_transitions_api_v1_layer5_step1_5_process_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer5/step1-5/ai-suggest":{"post":{"tags":["Substeps","Layer 5: Document","Step 1.5: Transitions"],"summary":"Get Transition Suggestions","description":"Legacy endpoint for AI suggestions - redirects to analyze","operationId":"get_transition_suggestions_api_v1_layer5_step1_5_ai_suggest_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer4/step2-0/identify":{"post":{"tags":["Substeps","Layer 4: Section","Step 2.0: Section Identification"],"summary":"Identify Sections","description":"Step 2.0: Identify sections and their roles\næ­¥éª¤ 2.0ï¼šè¯†åˆ«ç« èŠ‚åŠå…¶è§’è‰²\n\nAutomatically detects:\n- Section boundaries\n- Section roles (introduction, methodology, results, etc.)\n- Section statistics","operationId":"identify_sections_api_v1_layer4_step2_0_identify_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SectionIdentifyRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SectionIdentifyResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer4/step2-0/analyze":{"post":{"tags":["Substeps","Layer 4: Section","Step 2.0: Section Identification"],"summary":"Analyze Sections","description":"Step 2.0: Analyze sections (alias for identify)\næ­¥éª¤ 2.0ï¼šåˆ†æç« èŠ‚ï¼ˆidentifyçš„åˆ«åï¼‰","operationId":"analyze_sections_api_v1_layer4_step2_0_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SectionIdentifyRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SectionIdentifyResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer4/step2-0/adjust":{"post":{"tags":["Substeps","Layer 4: Section","Step 2.0: Section Identification"],"summary":"Adjust Sections","description":"Adjust section boundaries (user-triggered)\nè°ƒæ•´ç« èŠ‚è¾¹ç•Œï¼ˆç”¨æˆ·è§¦å‘ï¼‰","operationId":"adjust_sections_api_v1_layer4_step2_0_adjust_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SectionIdentifyRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer4/step2-1/analyze":{"post":{"tags":["Substeps","Layer 4: Section","Step 2.1: Section Order"],"summary":"Analyze Section Order","description":"Step 2.1: Analyze section order and structure\næ­¥éª¤ 2.1ï¼šåˆ†æç« èŠ‚é¡ºåºå’Œç»“æ„","operationId":"analyze_section_order_api_v1_layer4_step2_1_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__SectionOrderResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer4/step2-1/ai-suggest":{"post":{"tags":["Substeps","Layer 4: Section","Step 2.1: Section Order"],"summary":"Get Order Suggestions","description":"Get AI suggestions for section reordering","operationId":"get_order_suggestions_api_v1_layer4_step2_1_ai_suggest_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer4/step2-1/apply":{"post":{"tags":["Substeps","Layer 4: Section","Step 2.1: Section Order"],"summary":"Apply Order Changes","description":"Apply section order changes","operationId":"apply_order_changes_api_v1_layer4_step2_1_apply_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer4/step2-2/analyze":{"post":{"tags":["Substeps","Layer 4: Section","Step 2.2: Section Length"],"summary":"Analyze Section Length","description":"Step 2.2: Analyze section length distribution\næ­¥éª¤ 2.2ï¼šåˆ†æç« èŠ‚é•¿åº¦åˆ†å¸ƒ\n\nDetects:\n- Section length CV (< 0.3 = too uniform = AI-like)\n- Extreme length sections\n- Key section weight issues\n- Paragraph count variance","operationId":"analyze_section_length_api_v1_layer4_step2_2_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__SectionLengthResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer4/step2-2/ai-suggest":{"post":{"tags":["Substeps","Layer 4: Section","Step 2.2: Section Length"],"summary":"Get Length Suggestions","operationId":"get_length_suggestions_api_v1_layer4_step2_2_ai_suggest_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer4/step2-2/apply":{"post":{"tags":["Substeps","Layer 4: Section","Step 2.2: Section Length"],"summary":"Apply Length Changes","operationId":"apply_length_changes_api_v1_layer4_step2_2_apply_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer4/step2-3/analyze":{"post":{"tags":["Substeps","Layer 4: Section","Step 2.3: Internal Similarity"],"summary":"Analyze Internal Similarity","description":"Step 2.3: Analyze internal structure similarity between sections\næ­¥éª¤ 2.3ï¼šåˆ†æç« èŠ‚é—´å†…éƒ¨ç»“æ„ç›¸ä¼¼æ€§\n\nDetects if different sections share highly similar internal structures (AI pattern)","operationId":"analyze_internal_similarity_api_v1_layer4_step2_3_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InternalSimilarityResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer4/step2-3/ai-suggest":{"post":{"tags":["Substeps","Layer 4: Section","Step 2.3: Internal Similarity"],"summary":"Get Similarity Suggestions","operationId":"get_similarity_suggestions_api_v1_layer4_step2_3_ai_suggest_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer4/step2-3/apply":{"post":{"tags":["Substeps","Layer 4: Section","Step 2.3: Internal Similarity"],"summary":"Apply Similarity Changes","operationId":"apply_similarity_changes_api_v1_layer4_step2_3_apply_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer4/step2-4/analyze":{"post":{"tags":["Substeps","Layer 4: Section","Step 2.4: Section Transition"],"summary":"Analyze Section Transitions","description":"Step 2.4: Analyze section transitions and connections\næ­¥éª¤ 2.4ï¼šåˆ†æç« èŠ‚è¡”æ¥ä¸è¿‡æ¸¡\n\nDetects:\n- Explicit transition words (strong/moderate/weak)\n- Semantic echo between sections\n- Section opener pattern diversity","operationId":"analyze_section_transitions_api_v1_layer4_step2_4_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__SectionTransitionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer4/step2-4/ai-suggest":{"post":{"tags":["Substeps","Layer 4: Section","Step 2.4: Section Transition"],"summary":"Get Transition Suggestions","description":"Get AI suggestions for transition improvements","operationId":"get_transition_suggestions_api_v1_layer4_step2_4_ai_suggest_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer4/step2-4/apply":{"post":{"tags":["Substeps","Layer 4: Section","Step 2.4: Section Transition"],"summary":"Apply Transition Changes","description":"Apply transition modifications","operationId":"apply_transition_changes_api_v1_layer4_step2_4_apply_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer4/step2-5/analyze":{"post":{"tags":["Substeps","Layer 4: Section","Step 2.5: Inter-Section Logic"],"summary":"Analyze Inter Section Logic","description":"Step 2.5: Analyze inter-section logical relationships\næ­¥éª¤ 2.5ï¼šåˆ†æç« èŠ‚é—´é€»è¾‘å…³ç³»\n\nDetects:\n- Argument chain completeness (perfect chain = AI risk)\n- Inter-section redundancy (excessive previews/summaries)\n- Progression pattern (perfect linear = AI risk)","operationId":"analyze_inter_section_logic_api_v1_layer4_step2_5_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__InterSectionLogicResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer4/step2-5/ai-suggest":{"post":{"tags":["Substeps","Layer 4: Section","Step 2.5: Inter-Section Logic"],"summary":"Get Logic Suggestions","description":"Get AI suggestions for logic improvements","operationId":"get_logic_suggestions_api_v1_layer4_step2_5_ai_suggest_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer4/step2-5/apply":{"post":{"tags":["Substeps","Layer 4: Section","Step 2.5: Inter-Section Logic"],"summary":"Apply Logic Changes","description":"Apply logic modifications","operationId":"apply_logic_changes_api_v1_layer4_step2_5_apply_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer3/step3-0/identify":{"post":{"tags":["Substeps","Layer 3: Paragraph","Step 3.0: Paragraph Identification"],"summary":"Identify Paragraphs","description":"Step 3.0: Identify and segment paragraphs\næ­¥éª¤ 3.0ï¼šè¯†åˆ«å’Œåˆ†å‰²æ®µè½\n\n- Splits text into paragraphs\n- Filters non-body content (headers, keywords, references)\n- Extracts paragraph metadata","operationId":"identify_paragraphs_api_v1_layer3_step3_0_identify_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ParagraphIdentifyResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer3/step3-0/analyze":{"post":{"tags":["Substeps","Layer 3: Paragraph","Step 3.0: Paragraph Identification"],"summary":"Analyze Paragraphs","description":"Alias for identify endpoint","operationId":"analyze_paragraphs_api_v1_layer3_step3_0_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer3/step3-1/analyze":{"post":{"tags":["Substeps","Layer 3: Paragraph","Step 3.1: Paragraph Role"],"summary":"Analyze Paragraph Roles","description":"Step 3.1: Detect paragraph roles\næ­¥éª¤ 3.1ï¼šæ£€æµ‹æ®µè½è§’è‰²\n\n- Identifies functional role of each paragraph\n- Calculates role distribution\n- Detects uniformity issues","operationId":"analyze_paragraph_roles_api_v1_layer3_step3_1_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ParagraphRoleResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer3/step3-1/update-role":{"post":{"tags":["Substeps","Layer 3: Paragraph","Step 3.1: Paragraph Role"],"summary":"Update Paragraph Role","description":"Manually update paragraph role","operationId":"update_paragraph_role_api_v1_layer3_step3_1_update_role_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer3/step3-2/analyze":{"post":{"tags":["Substeps","Layer 3: Paragraph","Step 3.2: Internal Coherence"],"summary":"Analyze Internal Coherence","description":"Step 3.2: Analyze internal coherence\næ­¥éª¤ 3.2ï¼šåˆ†æå†…éƒ¨è¿è´¯æ€§\n\n- Subject diversity analysis\n- Sentence length variation\n- Logic structure detection\n- Connector density analysis","operationId":"analyze_internal_coherence_api_v1_layer3_step3_2_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CoherenceAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer3/step3-2/suggest":{"post":{"tags":["Substeps","Layer 3: Paragraph","Step 3.2: Internal Coherence"],"summary":"Get Coherence Suggestions","description":"Get AI suggestions for coherence improvement","operationId":"get_coherence_suggestions_api_v1_layer3_step3_2_suggest_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer3/step3-3/analyze":{"post":{"tags":["Substeps","Layer 3: Paragraph","Step 3.3: Anchor Density"],"summary":"Analyze Anchor Density","description":"Step 3.3: Analyze anchor density\næ­¥éª¤ 3.3ï¼šåˆ†æé”šç‚¹å¯†åº¦\n\n- Detects 13 types of academic anchors\n- Calculates paragraph-level density\n- Identifies potential AI filler content (low anchors)","operationId":"analyze_anchor_density_api_v1_layer3_step3_3_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AnchorDensityResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer3/step3-3/ai-suggest":{"post":{"tags":["Substeps","Layer 3: Paragraph","Step 3.3: Anchor Density"],"summary":"Get Anchor Suggestions","description":"Get AI suggestions for adding anchors","operationId":"get_anchor_suggestions_api_v1_layer3_step3_3_ai_suggest_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer3/step3-4/analyze":{"post":{"tags":["Substeps","Layer 3: Paragraph","Step 3.4: Sentence Length"],"summary":"Analyze Sentence Length Distribution","description":"Step 3.4: Analyze sentence length distribution\næ­¥éª¤ 3.4ï¼šåˆ†æå¥å­é•¿åº¦åˆ†å¸ƒ\n\n- Calculates within-paragraph length CV\n- Analyzes burstiness (length variation pattern)\n- Identifies monotonous length patterns","operationId":"analyze_sentence_length_distribution_api_v1_layer3_step3_4_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SentenceLengthDistributionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer3/step3-4/ai-suggest":{"post":{"tags":["Substeps","Layer 3: Paragraph","Step 3.4: Sentence Length"],"summary":"Get Length Suggestions","description":"Get AI suggestions for length variation","operationId":"get_length_suggestions_api_v1_layer3_step3_4_ai_suggest_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer3/step3-5/analyze":{"post":{"tags":["Substeps","Layer 3: Paragraph","Step 3.5: Paragraph Transition"],"summary":"Analyze Paragraph Transitions","description":"Step 3.5: Analyze paragraph transitions\næ­¥éª¤ 3.5ï¼šåˆ†ææ®µè½è¿‡æ¸¡\n\n- Detects explicit connectors\n- Calculates semantic echo between paragraphs\n- Identifies formulaic transitions","operationId":"analyze_paragraph_transitions_api_v1_layer3_step3_5_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__ParagraphTransitionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer3/step3-5/suggest":{"post":{"tags":["Substeps","Layer 3: Paragraph","Step 3.5: Paragraph Transition"],"summary":"Get Transition Suggestions","description":"Get AI suggestions for transition improvements","operationId":"get_transition_suggestions_api_v1_layer3_step3_5_suggest_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer3/step3-5/apply":{"post":{"tags":["Substeps","Layer 3: Paragraph","Step 3.5: Paragraph Transition"],"summary":"Apply Transition Changes","description":"Apply transition modifications","operationId":"apply_transition_changes_api_v1_layer3_step3_5_apply_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer2/step4-0/identify":{"post":{"tags":["Substeps","Layer 2: Sentence","Step 4.0: Sentence Identification"],"summary":"Identify Sentences","description":"Step 4.0: Identify and label sentences\næ­¥éª¤ 4.0ï¼šè¯†åˆ«å’Œæ ‡æ³¨å¥å­\n\n- Splits paragraphs into sentences\n- Labels sentence type (simple/compound/complex/compound-complex)\n- Detects voice and clause depth","operationId":"identify_sentences_api_v1_layer2_step4_0_identify_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SentenceContextResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer2/step4-0/analyze":{"post":{"tags":["Substeps","Layer 2: Sentence","Step 4.0: Sentence Identification"],"summary":"Analyze Sentences","description":"Alias for identify endpoint","operationId":"analyze_sentences_api_v1_layer2_step4_0_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer2/step4-0/prepare":{"post":{"tags":["Substeps","Layer 2: Sentence","Step 4.0: Sentence Identification"],"summary":"Prepare Sentence Context","description":"Prepare sentence context (alias for identify endpoint)\nå‡†å¤‡å¥å­ä¸Šä¸‹æ–‡ï¼ˆidentifyç«¯ç‚¹çš„åˆ«åï¼‰","operationId":"prepare_sentence_context_api_v1_layer2_step4_0_prepare_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SentenceContextResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer2/step4-1/analyze":{"post":{"tags":["Substeps","Layer 2: Sentence","Step 4.1: Sentence Pattern"],"summary":"Analyze Sentence Patterns","description":"Step 4.1: Analyze sentence patterns\næ­¥éª¤ 4.1ï¼šåˆ†æå¥å¼æ¨¡å¼\n\n- Type distribution analysis\n- Opener repetition detection\n- Voice distribution","operationId":"analyze_sentence_patterns_api_v1_layer2_step4_1_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SentencePatternResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer2/step4-1/ai-suggest":{"post":{"tags":["Substeps","Layer 2: Sentence","Step 4.1: Sentence Pattern"],"summary":"Get Pattern Suggestions","description":"Get AI suggestions for pattern improvement","operationId":"get_pattern_suggestions_api_v1_layer2_step4_1_ai_suggest_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer2/step4-2/analyze":{"post":{"tags":["Substeps","Layer 2: Sentence","Step 4.2: Sentence Length"],"summary":"Analyze Sentence Lengths","description":"Step 4.2: Analyze sentence length distribution\næ­¥éª¤ 4.2ï¼šåˆ†æå¥å­é•¿åº¦åˆ†å¸ƒ\n\n- Per-paragraph CV calculation\n- Burstiness analysis\n- Merge/split candidate identification","operationId":"analyze_sentence_lengths_api_v1_layer2_step4_2_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SentenceLengthDiversityResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer2/step4-2/ai-suggest":{"post":{"tags":["Substeps","Layer 2: Sentence","Step 4.2: Sentence Length"],"summary":"Get Length Suggestions","description":"Get AI suggestions for length adjustment","operationId":"get_length_suggestions_api_v1_layer2_step4_2_ai_suggest_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer2/step4-3/analyze":{"post":{"tags":["Substeps","Layer 2: Sentence","Step 4.3: Sentence Merger"],"summary":"Analyze Merge Candidates","description":"Step 4.3: Identify sentence merge candidates\næ­¥éª¤ 4.3ï¼šè¯†åˆ«å¯åˆå¹¶çš„å¥å­\n\n- Finds semantically related adjacent sentences\n- Suggests merge strategies","operationId":"analyze_merge_candidates_api_v1_layer2_step4_3_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer2/step4-3/ai-suggest":{"post":{"tags":["Substeps","Layer 2: Sentence","Step 4.3: Sentence Merger"],"summary":"Get Merge Suggestions","description":"Get AI suggestions for sentence merging","operationId":"get_merge_suggestions_api_v1_layer2_step4_3_ai_suggest_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer2/step4-3/apply":{"post":{"tags":["Substeps","Layer 2: Sentence","Step 4.3: Sentence Merger"],"summary":"Apply Merges","description":"Apply selected merges","operationId":"apply_merges_api_v1_layer2_step4_3_apply_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer2/step4-4/analyze":{"post":{"tags":["Substeps","Layer 2: Sentence","Step 4.4: Connector Optimization"],"summary":"Analyze Connectors","description":"Step 4.4: Analyze sentence connectors\næ­¥éª¤ 4.4ï¼šåˆ†æå¥å­è¿æ¥è¯\n\n- Detects explicit sentence-initial connectors\n- Classifies connector types\n- Suggests replacements","operationId":"analyze_connectors_api_v1_layer2_step4_4_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SentenceConnectorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer2/step4-4/ai-suggest":{"post":{"tags":["Substeps","Layer 2: Sentence","Step 4.4: Connector Optimization"],"summary":"Get Connector Suggestions","description":"Get AI suggestions for connector optimization","operationId":"get_connector_suggestions_api_v1_layer2_step4_4_ai_suggest_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer2/step4-4/apply":{"post":{"tags":["Substeps","Layer 2: Sentence","Step 4.4: Connector Optimization"],"summary":"Apply Connector Changes","description":"Apply connector modifications","operationId":"apply_connector_changes_api_v1_layer2_step4_4_apply_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer2/step4-5/analyze":{"post":{"tags":["Substeps","Layer 2: Sentence","Step 4.5: Pattern Diversification"],"summary":"Analyze Diversification","description":"Step 4.5: Analyze and suggest pattern diversification\næ­¥éª¤ 4.5ï¼šåˆ†æå¹¶å»ºè®®å¥å¼å¤šæ ·åŒ–\n\n- Opener transformations\n- Voice transformations\n- Split suggestions","operationId":"analyze_diversification_api_v1_layer2_step4_5_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SentenceRewriteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer2/step4-5/ai-suggest":{"post":{"tags":["Substeps","Layer 2: Sentence","Step 4.5: Pattern Diversification"],"summary":"Get Diversification Suggestions","description":"Get AI suggestions for diversification","operationId":"get_diversification_suggestions_api_v1_layer2_step4_5_ai_suggest_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer2/step4-5/apply":{"post":{"tags":["Substeps","Layer 2: Sentence","Step 4.5: Pattern Diversification"],"summary":"Apply Diversification","description":"Apply diversification changes","operationId":"apply_diversification_api_v1_layer2_step4_5_apply_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer2/step4-5/rewrite":{"post":{"tags":["Substeps","Layer 2: Sentence","Step 4.5: Pattern Diversification"],"summary":"Rewrite Sentences","description":"Rewrite sentences for diversification (alias for analyze endpoint)\næ”¹å†™å¥å­ä»¥å®ç°å¤šæ ·åŒ–ï¼ˆanalyzeç«¯ç‚¹çš„åˆ«åï¼‰","operationId":"rewrite_sentences_api_v1_layer2_step4_5_rewrite_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SentenceRewriteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer1/step5-0/prepare":{"post":{"tags":["Substeps","Layer 1: Lexical","Step 5.0: Lexical Context"],"summary":"Prepare Lexical Context","description":"Step 5.0: Prepare lexical analysis context\næ­¥éª¤ 5.0ï¼šå‡†å¤‡è¯æ±‡åˆ†æä¸Šä¸‹æ–‡\n\n- Receives text and locked terms\n- Builds paragraph-word mapping\n- Calculates vocabulary statistics","operationId":"prepare_lexical_context_api_v1_layer1_step5_0_prepare_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LexicalContextResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer1/step5-0/analyze":{"post":{"tags":["Substeps","Layer 1: Lexical","Step 5.0: Lexical Context"],"summary":"Analyze Context","description":"Alias for prepare endpoint","operationId":"analyze_context_api_v1_layer1_step5_0_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer1/step5-1/analyze":{"post":{"tags":["Substeps","Layer 1: Lexical","Step 5.1: Fingerprint Detection"],"summary":"Detect Fingerprints","description":"Step 5.1: Detect AIGC fingerprints\næ­¥éª¤ 5.1ï¼šæ£€æµ‹AIGCæŒ‡çº¹\n\n- Type A: Dead giveaway words\n- Type B: Academic clichÃ©s\n- Type C: Fingerprint phrases","operationId":"detect_fingerprints_api_v1_layer1_step5_1_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FingerprintDetectionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer1/step5-1/ai-suggest":{"post":{"tags":["Substeps","Layer 1: Lexical","Step 5.1: Fingerprint Detection"],"summary":"Get Fingerprint Suggestions","description":"Get AI suggestions for fingerprint removal","operationId":"get_fingerprint_suggestions_api_v1_layer1_step5_1_ai_suggest_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer1/step5-2/analyze":{"post":{"tags":["Substeps","Layer 1: Lexical","Step 5.2: Human Features"],"summary":"Analyze Human Features","description":"Step 5.2: Analyze human feature vocabulary\næ­¥éª¤ 5.2ï¼šåˆ†æäººç±»ç‰¹å¾è¯æ±‡\n\n- Human academic verb coverage\n- Human adjective coverage\n- Human phrase occurrence","operationId":"analyze_human_features_api_v1_layer1_step5_2_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HumanFeatureResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer1/step5-2/ai-suggest":{"post":{"tags":["Substeps","Layer 1: Lexical","Step 5.2: Human Features"],"summary":"Get Feature Suggestions","description":"Get AI suggestions for human feature improvement","operationId":"get_feature_suggestions_api_v1_layer1_step5_2_ai_suggest_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer1/step5-3/analyze":{"post":{"tags":["Substeps","Layer 1: Lexical","Step 5.3: Replacement Generation"],"summary":"Generate Replacements","description":"Step 5.3: Generate replacement candidates\næ­¥éª¤ 5.3ï¼šç”Ÿæˆæ›¿æ¢å€™é€‰\n\n- Finds fingerprint words\n- Generates context-appropriate replacements\n- Excludes locked terms","operationId":"generate_replacements_api_v1_layer1_step5_3_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReplacementGenerationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer1/step5-3/ai-suggest":{"post":{"tags":["Substeps","Layer 1: Lexical","Step 5.3: Replacement Generation"],"summary":"Get Replacement Suggestions","description":"Get AI suggestions for replacements","operationId":"get_replacement_suggestions_api_v1_layer1_step5_3_ai_suggest_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer1/step5-3/apply":{"post":{"tags":["Substeps","Layer 1: Lexical","Step 5.3: Replacement Generation"],"summary":"Apply Replacements","description":"Apply selected replacements","operationId":"apply_replacements_api_v1_layer1_step5_3_apply_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer1/step5-3/generate":{"post":{"tags":["Substeps","Layer 1: Lexical","Step 5.3: Replacement Generation"],"summary":"Generate Replacement Candidates","description":"Generate replacement candidates (alias for analyze endpoint)\nç”Ÿæˆæ›¿æ¢å€™é€‰ï¼ˆanalyzeç«¯ç‚¹çš„åˆ«åï¼‰","operationId":"generate_replacement_candidates_api_v1_layer1_step5_3_generate_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReplacementGenerationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer1/step5-4/analyze":{"post":{"tags":["Substeps","Layer 1: Lexical","Step 5.4: Paragraph Rewriting"],"summary":"Rewrite Paragraphs","description":"Step 5.4: Rewrite paragraphs\næ­¥éª¤ 5.4ï¼šæ”¹å†™æ®µè½\n\n- Applies simple replacements\n- Preserves locked terms\n- Tracks changes","operationId":"rewrite_paragraphs_api_v1_layer1_step5_4_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ParagraphRewriteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer1/step5-4/ai-suggest":{"post":{"tags":["Substeps","Layer 1: Lexical","Step 5.4: Paragraph Rewriting"],"summary":"Get Rewrite Suggestions","description":"Get AI suggestions for rewriting","operationId":"get_rewrite_suggestions_api_v1_layer1_step5_4_ai_suggest_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer1/step5-4/apply":{"post":{"tags":["Substeps","Layer 1: Lexical","Step 5.4: Paragraph Rewriting"],"summary":"Apply Rewrites","description":"Apply paragraph rewrites","operationId":"apply_rewrites_api_v1_layer1_step5_4_apply_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer1/step5-4/rewrite":{"post":{"tags":["Substeps","Layer 1: Lexical","Step 5.4: Paragraph Rewriting"],"summary":"Rewrite Paragraphs Endpoint","description":"Rewrite paragraphs (alias for analyze endpoint)\næ”¹å†™æ®µè½ï¼ˆanalyzeç«¯ç‚¹çš„åˆ«åï¼‰","operationId":"rewrite_paragraphs_endpoint_api_v1_layer1_step5_4_rewrite_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ParagraphRewriteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer1/step5-5/validate":{"post":{"tags":["Substeps","Layer 1: Lexical","Step 5.5: Validation"],"summary":"Validate Rewrite","description":"Step 5.5: Validate rewriting results\næ­¥éª¤ 5.5ï¼šéªŒè¯æ”¹å†™ç»“æœ\n\n- Semantic similarity check\n- Risk reduction assessment\n- Locked terms verification\n- Academic norm compliance","operationId":"validate_rewrite_api_v1_layer1_step5_5_validate_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/layer1/step5-5/analyze":{"post":{"tags":["Substeps","Layer 1: Lexical","Step 5.5: Validation"],"summary":"Analyze Validation","description":"Analyze without original text comparison","operationId":"analyze_validation_api_v1_layer1_step5_5_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstepBaseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/register":{"post":{"tags":["Authentication"],"summary":"Register","description":"Register new user with phone, password and optional email\nä½¿ç”¨æ‰‹æœºå·ã€å¯†ç å’Œå¯é€‰é‚®ç®±æ³¨å†Œæ–°ç”¨æˆ·\n\n- Phone must be unique æ‰‹æœºå·å¿…é¡»å”¯ä¸€\n- Password must be 6-32 characters å¯†ç å¿…é¡»6-32ä½\n- Email is optional (for password recovery) é‚®ç®±å¯é€‰ï¼ˆç”¨äºæ‰¾å›å¯†ç ï¼‰","operationId":"register_api_v1_auth_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/login":{"post":{"tags":["Authentication"],"summary":"Login","description":"Login with phone and password\nä½¿ç”¨æ‰‹æœºå·å’Œå¯†ç ç™»å½•","operationId":"login_api_v1_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/me":{"get":{"tags":["Authentication"],"summary":"Get Current User Info","description":"Get current user info\nè·å–å½“å‰ç”¨æˆ·ä¿¡æ¯","operationId":"get_current_user_info_api_v1_auth_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserInfoResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/auth/mode":{"get":{"tags":["Authentication"],"summary":"Get System Mode","description":"Get current system mode\nè·å–å½“å‰ç³»ç»Ÿæ¨¡å¼\n\nUsed by frontend to determine whether to show login/payment UI.\nå‰ç«¯ç”¨äºåˆ¤æ–­æ˜¯å¦æ˜¾ç¤ºç™»å½•/æ”¯ä»˜UIã€‚","operationId":"get_system_mode_api_v1_auth_mode_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SystemModeResponse"}}}}}}},"/api/v1/auth/logout":{"post":{"tags":["Authentication"],"summary":"Logout","description":"Logout current user\nç™»å‡ºå½“å‰ç”¨æˆ·\n\nNote: JWT tokens are stateless, so this just returns success.\nClient should remove the token from local storage.\næ³¨æ„ï¼šJWTä»¤ç‰Œæ˜¯æ— çŠ¶æ€çš„ï¼Œå› æ­¤åªè¿”å›æˆåŠŸã€‚\nå®¢æˆ·ç«¯åº”ä»æœ¬åœ°å­˜å‚¨ä¸­ç§»é™¤ä»¤ç‰Œã€‚","operationId":"logout_api_v1_auth_logout_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/auth/profile":{"get":{"tags":["Authentication"],"summary":"Get User Profile","description":"Get detailed user profile\nè·å–è¯¦ç»†ç”¨æˆ·èµ„æ–™","operationId":"get_user_profile_api_v1_auth_profile_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserProfileResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/auth/orders":{"get":{"tags":["Authentication"],"summary":"Get User Orders","description":"Get user's order history\nè·å–ç”¨æˆ·è®¢å•å†å²\n\nReturns paginated list of orders sorted by creation time (newest first).\nè¿”å›æŒ‰åˆ›å»ºæ—¶é—´æ’åºçš„åˆ†é¡µè®¢å•åˆ—è¡¨ï¼ˆæœ€æ–°åœ¨å‰ï¼‰ã€‚","operationId":"get_user_orders_api_v1_auth_orders_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","default":1,"title":"Page"}},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Page Size"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/payment/quote/{task_id}":{"get":{"tags":["Payment"],"summary":"Get Task Quote","description":"Get price quote for a task\nè·å–ä»»åŠ¡æŠ¥ä»·\n\nDEBUG mode: Shows price but marks as no payment required\nè°ƒè¯•æ¨¡å¼ï¼šæ˜¾ç¤ºä»·æ ¼ä½†æ ‡è®°ä¸ºæ— éœ€æ”¯ä»˜\n\nOPERATIONAL mode: Returns actual price requiring payment\nè¿è¥æ¨¡å¼ï¼šè¿”å›éœ€è¦æ”¯ä»˜çš„å®é™…ä»·æ ¼","operationId":"get_task_quote_api_v1_payment_quote__task_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"string","title":"Task Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuoteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/payment/pay/{task_id}":{"post":{"tags":["Payment"],"summary":"Initiate Payment","description":"Initiate payment for a task\nå‘èµ·ä»»åŠ¡æ”¯ä»˜\n\nDEBUG mode: Auto-marks task as paid without actual payment\nè°ƒè¯•æ¨¡å¼ï¼šè‡ªåŠ¨æ ‡è®°ä»»åŠ¡ä¸ºå·²æ”¯ä»˜ï¼Œæ— éœ€å®é™…æ”¯ä»˜\n\nOPERATIONAL mode: Creates order on platform and returns payment info\nè¿è¥æ¨¡å¼ï¼šåœ¨å¹³å°åˆ›å»ºè®¢å•å¹¶è¿”å›æ”¯ä»˜ä¿¡æ¯","operationId":"initiate_payment_api_v1_payment_pay__task_id__post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"string","title":"Task Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentInitResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/payment/status/{task_id}":{"get":{"tags":["Payment"],"summary":"Check Payment Status","description":"Check payment status for a task\næ£€æŸ¥ä»»åŠ¡æ”¯ä»˜çŠ¶æ€\n\nFrontend should poll this endpoint to wait for payment confirmation.\nå‰ç«¯åº”è½®è¯¢æ­¤ç«¯ç‚¹ç­‰å¾…æ”¯ä»˜ç¡®è®¤ã€‚","operationId":"check_payment_status_api_v1_payment_status__task_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"string","title":"Task Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/payment/callback":{"post":{"tags":["Payment"],"summary":"Payment Callback","description":"Payment callback from central platform\næ¥è‡ªä¸­å¤®å¹³å°çš„æ”¯ä»˜å›è°ƒ\n\n========================================\nSecurity: HMAC-SHA256 Signature Required\nå®‰å…¨: éœ€è¦ HMAC-SHA256 ç­¾åéªŒè¯\n========================================\n\nCentral platform calls this endpoint after payment status change.\nä¸­å¤®å¹³å°åœ¨æ”¯ä»˜çŠ¶æ€å˜æ›´åè°ƒç”¨æ­¤ç«¯ç‚¹ã€‚\n\nExpected request format:\n{\n    \"order_id\": \"platform_order_xxx\",\n    \"status\": \"paid\",\n    \"paid_at\": \"2024-01-01T10:30:00Z\",\n    \"amount\": 50.00,\n    \"timestamp\": 1704067800,  # Unix timestamp\n    \"nonce\": \"random_string_123\",  # Random string\n    \"signature\": \"hmac_sha256_signature\"  # HMAC-SHA256(order_id|status|amount|timestamp|nonce, secret)\n}\n\nSignature Generation (for payment platform):\nç­¾åç”Ÿæˆæ–¹å¼ï¼ˆä¾›æ”¯ä»˜å¹³å°å‚è€ƒï¼‰:\n    sign_string = f\"{order_id}|{status}|{amount}|{timestamp}|{nonce}\"\n    signature = hmac.new(secret.encode(), sign_string.encode(), hashlib.sha256).hexdigest()","operationId":"payment_callback_api_v1_payment_callback_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentCallbackRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/task/create":{"post":{"tags":["Task"],"summary":"Create Task","description":"Create a billing task for a document\nä¸ºæ–‡æ¡£åˆ›å»ºè®¡è´¹ä»»åŠ¡\n\nThis calculates word count and pricing for the document.\næ­¤æ“ä½œä¼šè®¡ç®—æ–‡æ¡£çš„å­—æ•°å’Œå®šä»·ã€‚","operationId":"create_task_api_v1_task_create_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskCreateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/task/{task_id}":{"get":{"tags":["Task"],"summary":"Get Task","description":"Get task information\nè·å–ä»»åŠ¡ä¿¡æ¯","operationId":"get_task_api_v1_task__task_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"string","title":"Task Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Task"],"summary":"Delete Task","description":"Delete a task (only allowed for unpaid tasks)\nåˆ é™¤ä»»åŠ¡ï¼ˆä»…å…è®¸åˆ é™¤æœªæ”¯ä»˜çš„ä»»åŠ¡ï¼‰","operationId":"delete_task_api_v1_task__task_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"string","title":"Task Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/task/by-document/{document_id}":{"get":{"tags":["Task"],"summary":"Get Task By Document","description":"Get task for a document\nè·å–æ–‡æ¡£çš„ä»»åŠ¡","operationId":"get_task_by_document_api_v1_task_by_document__document_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"document_id","in":"path","required":true,"schema":{"type":"string","title":"Document Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/TaskResponse"},{"type":"null"}],"title":"Response Get Task By Document Api V1 Task By Document  Document Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/task/":{"get":{"tags":["Task"],"summary":"List Tasks","description":"List tasks for current user\nåˆ—å‡ºå½“å‰ç”¨æˆ·çš„ä»»åŠ¡\n\nIn debug mode, returns all tasks.\nè°ƒè¯•æ¨¡å¼ä¸‹è¿”å›æ‰€æœ‰ä»»åŠ¡ã€‚","operationId":"list_tasks_api_v1_task__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/task/{task_id}/check-can-process":{"post":{"tags":["Task"],"summary":"Check Can Process","description":"Check if task can start processing\næ£€æŸ¥ä»»åŠ¡æ˜¯å¦å¯ä»¥å¼€å§‹å¤„ç†\n\nThis validates:\n- Task exists\n- Task not expired\n- Payment completed (in operational mode)\n- Task not already processing/completed","operationId":"check_can_process_api_v1_task__task_id__check_can_process_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"string","title":"Task Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/feedback/submit":{"post":{"tags":["Feedback"],"summary":"Submit Feedback","description":"Submit user feedback or issue report.\næäº¤ç”¨æˆ·åé¦ˆæˆ–é—®é¢˜æŠ¥å‘Šã€‚\n\nThis endpoint allows users to submit feedback without authentication.\næ­¤ç«¯ç‚¹å…è®¸ç”¨æˆ·åœ¨æœªç™»å½•çŠ¶æ€ä¸‹æäº¤åé¦ˆã€‚","operationId":"submit_feedback_api_v1_feedback_submit_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FeedbackSubmitRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FeedbackSubmitResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/feedback/list":{"get":{"tags":["Feedback"],"summary":"List Feedbacks","description":"List all feedbacks (admin endpoint).\nåˆ—å‡ºæ‰€æœ‰åé¦ˆï¼ˆç®¡ç†å‘˜ç«¯ç‚¹ï¼‰ã€‚\n\nTODO: Add admin authentication check.\nTODO: æ·»åŠ ç®¡ç†å‘˜è®¤è¯æ£€æŸ¥ã€‚","operationId":"list_feedbacks_api_v1_feedback_list_get","parameters":[{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FeedbackListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/feedback/{feedback_id}/status":{"patch":{"tags":["Feedback"],"summary":"Update Feedback Status","description":"Update feedback status (admin endpoint).\næ›´æ–°åé¦ˆçŠ¶æ€ï¼ˆç®¡ç†å‘˜ç«¯ç‚¹ï¼‰ã€‚\n\nValid statuses: pending, reviewed, resolved, spam\næœ‰æ•ˆçŠ¶æ€: pending, reviewed, resolved, spam","operationId":"update_feedback_status_api_v1_feedback__feedback_id__status_patch","parameters":[{"name":"feedback_id","in":"path","required":true,"schema":{"type":"string","title":"Feedback Id"}},{"name":"status","in":"query","required":true,"schema":{"type":"string","title":"Status"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/login":{"post":{"tags":["Admin"],"summary":"Admin Login","description":"Admin login with secret key\nä½¿ç”¨å¯†é’¥ç™»å½•ç®¡ç†å‘˜\n\nArgs:\n    request: Login request with secret_key\n\nReturns:\n    AdminLoginResponse with JWT token","operationId":"admin_login_api_v1_admin_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminLoginRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminLoginResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/stats/overview":{"get":{"tags":["Admin"],"summary":"Get Overview Stats","description":"Get dashboard overview statistics\nè·å–ä»ªè¡¨æ¿æ¦‚è§ˆç»Ÿè®¡\n\nReturns comprehensive statistics for the admin dashboard.\nè¿”å›ç®¡ç†å‘˜ä»ªè¡¨æ¿çš„ç»¼åˆç»Ÿè®¡æ•°æ®ã€‚","operationId":"get_overview_stats_api_v1_admin_stats_overview_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OverviewStatsResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/admin/stats/revenue":{"get":{"tags":["Admin"],"summary":"Get Revenue Stats","description":"Get revenue statistics with time series data\nè·å–å¸¦æ—¶é—´åºåˆ—æ•°æ®çš„è¥æ”¶ç»Ÿè®¡\n\nArgs:\n    period: Aggregation period (daily/weekly/monthly)\n    days: Number of days to look back\n\nReturns:\n    Revenue statistics with time series","operationId":"get_revenue_stats_api_v1_admin_stats_revenue_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"period","in":"query","required":false,"schema":{"type":"string","description":"Period: daily/weekly/monthly","default":"daily","title":"Period"},"description":"Period: daily/weekly/monthly"},{"name":"days","in":"query","required":false,"schema":{"type":"integer","maximum":365,"minimum":1,"description":"Number of days to look back | å›æº¯å¤©æ•°","default":30,"title":"Days"},"description":"Number of days to look back | å›æº¯å¤©æ•°"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RevenueStatsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/stats/tasks":{"get":{"tags":["Admin"],"summary":"Get Task Stats","description":"Get task statistics\nè·å–ä»»åŠ¡ç»Ÿè®¡\n\nArgs:\n    days: Number of days to look back\n\nReturns:\n    Task statistics with status distribution","operationId":"get_task_stats_api_v1_admin_stats_tasks_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"days","in":"query","required":false,"schema":{"type":"integer","maximum":365,"minimum":1,"description":"Number of days to look back | å›æº¯å¤©æ•°","default":30,"title":"Days"},"description":"Number of days to look back | å›æº¯å¤©æ•°"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskStatsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/stats/users":{"get":{"tags":["Admin"],"summary":"Get User Stats","description":"Get user statistics\nè·å–ç”¨æˆ·ç»Ÿè®¡\n\nArgs:\n    days: Number of days to look back\n\nReturns:\n    User statistics with registration trend","operationId":"get_user_stats_api_v1_admin_stats_users_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"days","in":"query","required":false,"schema":{"type":"integer","maximum":365,"minimum":1,"description":"Number of days to look back | å›æº¯å¤©æ•°","default":30,"title":"Days"},"description":"Number of days to look back | å›æº¯å¤©æ•°"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/stats/feedback":{"get":{"tags":["Admin"],"summary":"Get Feedback Stats","description":"Get feedback statistics\nè·å–åé¦ˆç»Ÿè®¡\n\nReturns:\n    Feedback statistics with status distribution","operationId":"get_feedback_stats_api_v1_admin_stats_feedback_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/admin/anomaly/overview":{"get":{"tags":["Admin"],"summary":"Get Anomaly Overview","description":"Get anomaly detection overview\nè·å–å¼‚å¸¸æ£€æµ‹æ¦‚è§ˆ\n\nReturns:\n    Overview statistics with anomaly count and price range breakdown","operationId":"get_anomaly_overview_api_v1_admin_anomaly_overview_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"sigma","in":"query","required":false,"schema":{"type":"number","maximum":4.0,"minimum":1.0,"description":"Standard deviation multiplier | æ ‡å‡†å·®å€æ•°","default":2.0,"title":"Sigma"},"description":"Standard deviation multiplier | æ ‡å‡†å·®å€æ•°"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/anomaly/distribution":{"get":{"tags":["Admin"],"summary":"Get Anomaly Distribution","description":"Get order distribution data for charts\nè·å–è®¢å•åˆ†å¸ƒæ•°æ®ï¼ˆç”¨äºå›¾è¡¨ï¼‰\n\nReturns:\n    Scatter plot data, histogram data, and statistics","operationId":"get_anomaly_distribution_api_v1_admin_anomaly_distribution_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"min_price","in":"query","required":false,"schema":{"anyOf":[{"type":"number"},{"type":"null"}],"description":"Minimum price filter | æœ€å°é‡‘é¢","title":"Min Price"},"description":"Minimum price filter | æœ€å°é‡‘é¢"},{"name":"max_price","in":"query","required":false,"schema":{"anyOf":[{"type":"number"},{"type":"null"}],"description":"Maximum price filter | æœ€å¤§é‡‘é¢","title":"Max Price"},"description":"Maximum price filter | æœ€å¤§é‡‘é¢"},{"name":"sigma","in":"query","required":false,"schema":{"type":"number","maximum":4.0,"minimum":1.0,"description":"Standard deviation multiplier | æ ‡å‡†å·®å€æ•°","default":2.0,"title":"Sigma"},"description":"Standard deviation multiplier | æ ‡å‡†å·®å€æ•°"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/admin/anomaly/orders":{"get":{"tags":["Admin"],"summary":"Get Anomaly Orders","description":"Get list of anomaly orders with details\nè·å–å¼‚å¸¸è®¢å•åˆ—è¡¨åŠè¯¦æƒ…\n\nReturns:\n    Paginated list of anomaly orders","operationId":"get_anomaly_orders_api_v1_admin_anomaly_orders_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"min_price","in":"query","required":false,"schema":{"anyOf":[{"type":"number"},{"type":"null"}],"description":"Minimum price filter | æœ€å°é‡‘é¢","title":"Min Price"},"description":"Minimum price filter | æœ€å°é‡‘é¢"},{"name":"max_price","in":"query","required":false,"schema":{"anyOf":[{"type":"number"},{"type":"null"}],"description":"Maximum price filter | æœ€å¤§é‡‘é¢","title":"Max Price"},"description":"Maximum price filter | æœ€å¤§é‡‘é¢"},{"name":"sigma","in":"query","required":false,"schema":{"type":"number","maximum":4.0,"minimum":1.0,"description":"Standard deviation multiplier | æ ‡å‡†å·®å€æ•°","default":2.0,"title":"Sigma"},"description":"Standard deviation multiplier | æ ‡å‡†å·®å€æ•°"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Page number","default":1,"title":"Page"},"description":"Page number"},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Items per page","default":20,"title":"Page Size"},"description":"Items per page"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"summary":"Root","description":"Root endpoint - Health check\næ ¹ç«¯ç‚¹ - å¥åº·æ£€æŸ¥","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"summary":"Health Check","description":"Health check endpoint\nå¥åº·æ£€æŸ¥ç«¯ç‚¹","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"AIWordSuggestion":{"properties":{"word":{"type":"string","title":"Word"},"level":{"type":"integer","title":"Level"},"level_desc":{"type":"string","title":"Level Desc"},"alternatives":{"items":{"type":"string"},"type":"array","title":"Alternatives"},"context_suggestion":{"type":"string","title":"Context Suggestion"}},"type":"object","required":["word","level","level_desc","alternatives","context_suggestion"],"title":"AIWordSuggestion","description":"AI word replacement suggestion\nAIè¯æ±‡æ›¿æ¢å»ºè®®"},"AdminLoginRequest":{"properties":{"secret_key":{"type":"string","title":"Secret Key","description":"Admin secret key | ç®¡ç†å‘˜å¯†é’¥"}},"type":"object","required":["secret_key"],"title":"AdminLoginRequest","description":"Admin login request ç®¡ç†å‘˜ç™»å½•è¯·æ±‚"},"AdminLoginResponse":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type","default":"bearer"},"expires_in":{"type":"integer","title":"Expires In"},"admin_id":{"type":"string","title":"Admin Id"},"message":{"type":"string","title":"Message","default":"Login successful"},"message_zh":{"type":"string","title":"Message Zh","default":"ç™»å½•æˆåŠŸ"}},"type":"object","required":["access_token","expires_in","admin_id"],"title":"AdminLoginResponse","description":"Admin login response ç®¡ç†å‘˜ç™»å½•å“åº”"},"AnalyzeRequest":{"properties":{"text":{"type":"string","minLength":1,"title":"Text","description":"Text to analyze"},"target_lang":{"type":"string","title":"Target Lang","description":"Target language for explanations","default":"zh"},"include_turnitin":{"type":"boolean","title":"Include Turnitin","description":"Include Turnitin perspective","default":true},"include_gptzero":{"type":"boolean","title":"Include Gptzero","description":"Include GPTZero perspective","default":true}},"type":"object","required":["text"],"title":"AnalyzeRequest","description":"Text analysis request\næ–‡æœ¬åˆ†æè¯·æ±‚"},"AnchorDensityResponse":{"properties":{"risk_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Risk Score","description":"Risk score 0-100","default":0},"risk_level":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__RiskLevel","description":"Risk level","default":"low"},"issues":{"items":{"type":"object"},"type":"array","title":"Issues","description":"Detected issues"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations","description":"Recommendations (English)"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh","description":"Recommendations (Chinese)"},"processing_time_ms":{"type":"integer","title":"Processing Time Ms","description":"Processing time in milliseconds","default":0},"overall_density":{"type":"number","title":"Overall Density","default":0},"paragraph_densities":{"items":{"$ref":"#/components/schemas/ParagraphAnchorInfo"},"type":"array","title":"Paragraph Densities"},"high_risk_paragraphs":{"items":{"type":"integer"},"type":"array","title":"High Risk Paragraphs"},"anchor_type_distribution":{"additionalProperties":{"type":"integer"},"type":"object","title":"Anchor Type Distribution"},"document_hallucination_risk":{"type":"string","title":"Document Hallucination Risk","default":"low"}},"type":"object","title":"AnchorDensityResponse","description":"Response for anchor density analysis (Step 3.3)"},"ApplyParagraphStrategiesRequest":{"properties":{"documentId":{"type":"string","title":"Documentid","description":"Document ID"},"sessionId":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sessionid","description":"Session ID for colloquialism level"},"selectedStrategies":{"items":{"$ref":"#/components/schemas/SelectedStrategy"},"type":"array","title":"Selectedstrategies","description":"User-selected strategies"}},"type":"object","required":["documentId","selectedStrategies"],"title":"ApplyParagraphStrategiesRequest","description":"Request for Phase 2: Apply selected paragraph strategies\nç¬¬äºŒé˜¶æ®µè¯·æ±‚ï¼šåº”ç”¨é€‰ä¸­çš„æ®µè½ç­–ç•¥"},"ApplyParagraphStrategiesResponse":{"properties":{"modifiedText":{"type":"string","title":"Modifiedtext","description":"Modified document text"},"changesSummaryZh":{"type":"string","title":"Changessummaryzh","description":"Summary of changes in Chinese","default":""},"strategiesApplied":{"type":"integer","title":"Strategiesapplied","description":"Number of strategies applied"},"newCv":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Newcv","description":"New CV after modifications"}},"type":"object","required":["modifiedText","strategiesApplied"],"title":"ApplyParagraphStrategiesResponse","description":"Response from Phase 2: Applied paragraph strategies\nç¬¬äºŒé˜¶æ®µå“åº”ï¼šå·²åº”ç”¨çš„æ®µè½ç­–ç•¥"},"ApplyStructureFixRequest":{"properties":{"documentId":{"type":"string","title":"Documentid","description":"Document ID"},"issueId":{"type":"string","title":"Issueid","description":"Issue ID"},"fixType":{"type":"string","title":"Fixtype","description":"Fix type: use_reference, custom, skip, mark_done"},"customText":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Customtext","description":"Custom text if fix_type is 'custom'"},"affectedPositions":{"items":{"type":"string"},"type":"array","title":"Affectedpositions","description":"Affected positions","default":[]}},"type":"object","required":["documentId","issueId","fixType"],"title":"ApplyStructureFixRequest","description":"Request to apply a structure fix\nåº”ç”¨ç»“æ„ä¿®å¤çš„è¯·æ±‚"},"ApplyStructureFixResponse":{"properties":{"success":{"type":"boolean","title":"Success","description":"Whether the fix was applied successfully"},"issue_id":{"type":"string","title":"Issue Id","description":"Issue ID"},"new_status":{"type":"string","title":"New Status","description":"New status of the issue"},"message":{"type":"string","title":"Message","description":"Status message","default":""},"message_zh":{"type":"string","title":"Message Zh","description":"Chinese status message","default":""},"updated_text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Updated Text","description":"The updated text after fix"}},"type":"object","required":["success","issue_id","new_status"],"title":"ApplyStructureFixResponse","description":"Response after applying a structure fix\nåº”ç”¨ç»“æ„ä¿®å¤åçš„å“åº”"},"ApplySuggestionRequest":{"properties":{"session_id":{"type":"string","title":"Session Id"},"sentence_id":{"type":"string","title":"Sentence Id"},"source":{"$ref":"#/components/schemas/SuggestionSource"},"modified_text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Modified Text"}},"type":"object","required":["session_id","sentence_id","source"],"title":"ApplySuggestionRequest","description":"Request body for applying a suggestion\nåº”ç”¨å»ºè®®çš„è¯·æ±‚ä½“"},"ArgumentChainNode":{"properties":{"section_index":{"type":"integer","title":"Section Index"},"section_role":{"type":"string","title":"Section Role"},"main_argument":{"type":"string","title":"Main Argument","description":"Main argument/claim in this section","default":""},"supporting_points":{"items":{"type":"string"},"type":"array","title":"Supporting Points"},"connects_to_previous":{"type":"boolean","title":"Connects To Previous","description":"Logically connects to previous section","default":false},"connection_type":{"type":"string","title":"Connection Type","description":"Type: supports, extends, contrasts, etc.","default":""}},"type":"object","required":["section_index","section_role"],"title":"ArgumentChainNode","description":"Node in the argument chain\nè®ºç‚¹é“¾ä¸­çš„èŠ‚ç‚¹"},"BatchConfigRequest":{"properties":{"paragraph_indices":{"items":{"type":"integer"},"type":"array","title":"Paragraph Indices"},"config":{"type":"object","title":"Config"}},"type":"object","required":["paragraph_indices","config"],"title":"BatchConfigRequest","description":"Request for batch configuration.\næ‰¹é‡é…ç½®è¯·æ±‚ã€‚"},"BatchLockRequest":{"properties":{"paragraph_indices":{"items":{"type":"integer"},"type":"array","title":"Paragraph Indices"},"locked":{"type":"boolean","title":"Locked"}},"type":"object","required":["paragraph_indices","locked"],"title":"BatchLockRequest","description":"Request for batch lock/unlock.\næ‰¹é‡é”å®š/è§£é”è¯·æ±‚ã€‚"},"Body_upload_document_api_v1_documents_upload_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_upload_document_api_v1_documents_upload_post"},"BreakPoint":{"properties":{"position":{"type":"integer","title":"Position"},"type":{"type":"string","title":"Type"},"description":{"type":"string","title":"Description"},"description_zh":{"type":"string","title":"Description Zh"}},"type":"object","required":["position","type","description","description_zh"],"title":"BreakPoint","description":"Logic break point in document structure\næ–‡æ¡£ç»“æ„ä¸­çš„é€»è¾‘æ–­ç‚¹"},"BurstinessAnalysisItem":{"properties":{"sentenceLengths":{"items":{"type":"integer"},"type":"array","title":"Sentencelengths"},"meanLength":{"type":"number","title":"Meanlength"},"stdDev":{"type":"number","title":"Stddev"},"cv":{"type":"number","title":"Cv"},"burstinessLevel":{"type":"string","title":"Burstinesslevel"},"burstinessZh":{"type":"string","title":"Burstinesszh"},"hasDramaticVariation":{"type":"boolean","title":"Hasdramaticvariation"},"longestSentence":{"type":"object","title":"Longestsentence"},"shortestSentence":{"type":"object","title":"Shortestsentence"}},"type":"object","required":["sentenceLengths","meanLength","stdDev","cv","burstinessLevel","burstinessZh","hasDramaticVariation","longestSentence","shortestSentence"],"title":"BurstinessAnalysisItem","description":"Response model for burstiness analysis"},"CandidateRequest":{"properties":{"document_text":{"type":"string","title":"Document Text","description":"Full document text"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id","description":"Session ID for locked terms"},"colloquialism_level":{"type":"integer","maximum":10.0,"minimum":0.0,"title":"Colloquialism Level","default":4}},"type":"object","required":["document_text"],"title":"CandidateRequest","description":"Request for Step 5.3 Candidate Generation"},"ChangeDetail":{"properties":{"original":{"type":"string","title":"Original"},"replacement":{"type":"string","title":"Replacement"},"reason":{"type":"string","title":"Reason"},"reason_zh":{"type":"string","title":"Reason Zh"}},"type":"object","required":["original","replacement","reason","reason_zh"],"title":"ChangeDetail","description":"Single change detail\nå•ä¸ªæ”¹åŠ¨è¯¦æƒ…"},"ChangeRecord":{"properties":{"sentence_index":{"type":"integer","title":"Sentence Index"},"original":{"type":"string","title":"Original"},"modified":{"type":"string","title":"Modified"},"change_type":{"type":"string","title":"Change Type"},"strategy":{"type":"string","title":"Strategy"},"improvement_type":{"type":"string","title":"Improvement Type"}},"type":"object","required":["sentence_index","original","modified","change_type","strategy","improvement_type"],"title":"ChangeRecord","description":"Record of a single change.\nå•ä¸ªä¿®æ”¹è®°å½•ã€‚"},"ClauseInfo":{"properties":{"type":{"type":"string","title":"Type"},"type_zh":{"type":"string","title":"Type Zh"},"text":{"type":"string","title":"Text"},"function":{"type":"string","title":"Function"},"function_zh":{"type":"string","title":"Function Zh"}},"type":"object","required":["type","type_zh","text","function","function_zh"],"title":"ClauseInfo","description":"Clause information\nä»å¥ä¿¡æ¯"},"ClosureAnalysisResult":{"properties":{"closure_type":{"type":"string","title":"Closure Type"},"closure_type_zh":{"type":"string","title":"Closure Type Zh"},"has_formulaic_ending":{"type":"boolean","title":"Has Formulaic Ending"},"has_complete_resolution":{"type":"boolean","title":"Has Complete Resolution"},"open_questions":{"type":"integer","title":"Open Questions"},"hedging_in_conclusion":{"type":"integer","title":"Hedging In Conclusion"},"score":{"type":"integer","title":"Score"},"detected_patterns":{"items":{"type":"string"},"type":"array","title":"Detected Patterns","default":[]}},"type":"object","required":["closure_type","closure_type_zh","has_formulaic_ending","has_complete_resolution","open_questions","hedging_in_conclusion","score"],"title":"ClosureAnalysisResult","description":"Closure pattern analysis result\né—­åˆæ¨¡å¼åˆ†æç»“æœ"},"ClosureType":{"type":"string","enum":["strong","moderate","weak","open"],"title":"ClosureType","description":"Closure type classification"},"CoherenceAnalysisResponse":{"properties":{"risk_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Risk Score","description":"Risk score 0-100","default":0},"risk_level":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__RiskLevel","description":"Risk level","default":"low"},"issues":{"items":{"type":"object"},"type":"array","title":"Issues","description":"Detected issues"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations","description":"Recommendations (English)"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh","description":"Recommendations (Chinese)"},"processing_time_ms":{"type":"integer","title":"Processing Time Ms","description":"Processing time in milliseconds","default":0},"paragraph_coherence":{"items":{"$ref":"#/components/schemas/ParagraphCoherenceInfo"},"type":"array","title":"Paragraph Coherence"},"overall_coherence_score":{"type":"number","title":"Overall Coherence Score","default":0},"high_risk_paragraphs":{"items":{"type":"integer"},"type":"array","title":"High Risk Paragraphs"}},"type":"object","title":"CoherenceAnalysisResponse","description":"Response for internal coherence analysis (Step 3.2)"},"ConnectorAnalysisRequest":{"properties":{"text":{"type":"string","minLength":1,"title":"Text","description":"Full document text"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id","description":"Session ID for locked terms"}},"type":"object","required":["text"],"title":"ConnectorAnalysisRequest","description":"Request for Step 1.4: Connector & Transition Analysis\næ­¥éª¤ 1.4ï¼šè¿æ¥è¯ä¸è¡”æ¥åˆ†æè¯·æ±‚"},"ConnectorAnalysisResponse":{"properties":{"total_transitions":{"type":"integer","title":"Total Transitions","description":"Total number of paragraph transitions"},"problematic_transitions":{"type":"integer","title":"Problematic Transitions","description":"Number of transitions with issues"},"overall_smoothness_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Overall Smoothness Score","description":"Average smoothness score"},"overall_risk_level":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__RiskLevel","description":"Overall risk level"},"total_explicit_connectors":{"type":"integer","title":"Total Explicit Connectors","description":"Total explicit connectors found","default":0},"connector_density":{"type":"number","title":"Connector Density","description":"Percentage of paragraphs starting with explicit connectors","default":0.0},"connector_list":{"items":{"type":"string"},"type":"array","title":"Connector List","description":"All explicit connectors found"},"transitions":{"items":{"$ref":"#/components/schemas/TransitionResultSchema"},"type":"array","title":"Transitions","description":"Analysis for each transition"},"issues":{"items":{"$ref":"#/components/schemas/DetectionIssue"},"type":"array","title":"Issues","description":"All issues across all transitions"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations","description":"English recommendations"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh","description":"Chinese recommendations"},"processing_time_ms":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Processing Time Ms","description":"Processing time in milliseconds"}},"type":"object","required":["total_transitions","problematic_transitions","overall_smoothness_score","overall_risk_level"],"title":"ConnectorAnalysisResponse","description":"Response for Step 1.4: Connector & Transition Analysis\næ­¥éª¤ 1.4ï¼šè¿æ¥è¯ä¸è¡”æ¥åˆ†æå“åº”"},"ConnectorIssue":{"properties":{"sentence_index":{"type":"integer","title":"Sentence Index"},"connector":{"type":"string","title":"Connector"},"connector_type":{"type":"string","title":"Connector Type"},"position":{"type":"string","title":"Position"},"risk_level":{"type":"string","title":"Risk Level"},"context":{"type":"string","title":"Context"}},"type":"object","required":["sentence_index","connector","connector_type","position","risk_level","context"],"title":"ConnectorIssue","description":"A connector issue.\nè¿æ¥è¯é—®é¢˜ã€‚"},"ConnectorOptimizationRequest":{"properties":{"paragraph_text":{"type":"string","title":"Paragraph Text"},"paragraph_index":{"type":"integer","title":"Paragraph Index"},"preserve_connectors":{"items":{"type":"string"},"type":"array","title":"Preserve Connectors","default":[]},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id"}},"type":"object","required":["paragraph_text","paragraph_index"],"title":"ConnectorOptimizationRequest","description":"Request for connector optimization (Step 4.4).\nè¿æ¥è¯ä¼˜åŒ–è¯·æ±‚ï¼ˆæ­¥éª¤4.4ï¼‰ã€‚"},"ConnectorOptimizationResponse":{"properties":{"paragraph_index":{"type":"integer","title":"Paragraph Index"},"connector_issues":{"items":{"$ref":"#/components/schemas/ConnectorIssue"},"type":"array","title":"Connector Issues"},"total_connectors":{"type":"integer","title":"Total Connectors"},"explicit_ratio":{"type":"number","title":"Explicit Ratio"},"connector_type_distribution":{"additionalProperties":{"type":"integer"},"type":"object","title":"Connector Type Distribution"},"replacement_suggestions":{"items":{"$ref":"#/components/schemas/ReplacementSuggestion"},"type":"array","title":"Replacement Suggestions"},"risk_level":{"type":"string","title":"Risk Level"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh"},"processing_time_ms":{"type":"integer","title":"Processing Time Ms"}},"type":"object","required":["paragraph_index","connector_issues","total_connectors","explicit_ratio","connector_type_distribution","replacement_suggestions","risk_level","recommendations","recommendations_zh","processing_time_ms"],"title":"ConnectorOptimizationResponse","description":"Response for connector optimization (Step 4.4).\nè¿æ¥è¯ä¼˜åŒ–å“åº”ï¼ˆæ­¥éª¤4.4ï¼‰ã€‚"},"ConnectorTransitionResponse":{"properties":{"risk_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Risk Score","description":"Risk score 0-100","default":0},"risk_level":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__RiskLevel","description":"Risk level","default":"low"},"issues":{"items":{"type":"object"},"type":"array","title":"Issues","description":"Detected issues"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations","description":"Recommendations (English)"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh","description":"Recommendations (Chinese)"},"processing_time_ms":{"type":"integer","title":"Processing Time Ms","description":"Processing time in milliseconds","default":0},"total_transitions":{"type":"integer","title":"Total Transitions","description":"Total transition points","default":0},"problematic_transitions":{"type":"integer","title":"Problematic Transitions","description":"Problematic transitions count","default":0},"connector_density":{"type":"number","title":"Connector Density","description":"Connector density percentage","default":0},"explicit_connectors":{"items":{"type":"string"},"type":"array","title":"Explicit Connectors","description":"Detected connectors"},"transitions":{"items":{"type":"object"},"type":"array","title":"Transitions","description":"Transition details"}},"type":"object","title":"ConnectorTransitionResponse","description":"Response for connector/transition analysis (Step 1.5)"},"ContentSubstantialityRequest":{"properties":{"text":{"type":"string","minLength":1,"title":"Text","description":"Full document text"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id","description":"Session ID"}},"type":"object","required":["text"],"title":"ContentSubstantialityRequest","description":"Request for Step 1.5: Content Substantiality Analysis\næ­¥éª¤ 1.5ï¼šå†…å®¹å®è´¨æ€§åˆ†æè¯·æ±‚"},"ContentSubstantialityResponse":{"properties":{"paragraph_count":{"type":"integer","title":"Paragraph Count","description":"Total paragraphs analyzed"},"overall_specificity_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Overall Specificity Score","description":"Overall specificity (higher = more specific = more human-like)"},"overall_substantiality":{"$ref":"#/components/schemas/SubstantialityLevel","description":"Overall substantiality level"},"risk_level":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__RiskLevel","description":"Risk level based on substantiality"},"total_generic_phrases":{"type":"integer","title":"Total Generic Phrases","description":"Total generic phrases in document","default":0},"total_specific_details":{"type":"integer","title":"Total Specific Details","description":"Total specific details in document","default":0},"average_filler_ratio":{"type":"number","title":"Average Filler Ratio","description":"Average filler word ratio","default":0.0},"low_substantiality_paragraphs":{"items":{"type":"integer"},"type":"array","title":"Low Substantiality Paragraphs","description":"Indices of low substantiality paragraphs"},"paragraphs":{"items":{"$ref":"#/components/schemas/ParagraphSubstantiality"},"type":"array","title":"Paragraphs","description":"Per-paragraph analysis"},"common_generic_phrases":{"items":{"type":"string"},"type":"array","title":"Common Generic Phrases","description":"Most common generic phrases"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations","description":"English recommendations"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh","description":"Chinese recommendations"},"processing_time_ms":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Processing Time Ms","description":"Processing time in milliseconds"}},"type":"object","required":["paragraph_count","overall_specificity_score","overall_substantiality","risk_level"],"title":"ContentSubstantialityResponse","description":"Response for Step 1.5: Content Substantiality Analysis\næ­¥éª¤ 1.5ï¼šå†…å®¹å®è´¨æ€§åˆ†æå“åº”"},"ContextRequest":{"properties":{"document_text":{"type":"string","title":"Document Text","description":"Full document text"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id","description":"Session ID for locked terms"},"colloquialism_level":{"type":"integer","maximum":10.0,"minimum":0.0,"title":"Colloquialism Level","description":"Target formality level","default":4}},"type":"object","required":["document_text"],"title":"ContextRequest","description":"Request for Step 5.0 Context Preparation"},"CustomInputRequest":{"properties":{"session_id":{"type":"string","title":"Session Id","description":"Session ID"},"sentence_id":{"type":"string","title":"Sentence Id","description":"Sentence ID"},"custom_text":{"type":"string","minLength":1,"title":"Custom Text","description":"User's custom modification"}},"type":"object","required":["session_id","sentence_id","custom_text"],"title":"CustomInputRequest","description":"Custom input validation request\nè‡ªå®šä¹‰è¾“å…¥éªŒè¯è¯·æ±‚"},"DetailedImprovementSuggestions":{"properties":{"abstract_suggestions":{"items":{"type":"string"},"type":"array","title":"Abstract Suggestions","default":[]},"logic_suggestions":{"items":{"type":"string"},"type":"array","title":"Logic Suggestions","default":[]},"section_suggestions":{"items":{"$ref":"#/components/schemas/SectionSuggestion"},"type":"array","title":"Section Suggestions","default":[]},"priority_order":{"items":{"type":"string"},"type":"array","title":"Priority Order","default":[]},"overall_assessment_zh":{"type":"string","title":"Overall Assessment Zh","default":""},"overall_assessment_en":{"type":"string","title":"Overall Assessment En","default":""}},"type":"object","title":"DetailedImprovementSuggestions","description":"Comprehensive improvement suggestions for the document\næ–‡æ¡£çš„å…¨é¢æ”¹è¿›å»ºè®®"},"DetectionIssue":{"properties":{"type":{"type":"string","title":"Type","description":"Issue type identifier"},"description":{"type":"string","title":"Description","description":"English description"},"description_zh":{"type":"string","title":"Description Zh","description":"Chinese description"},"severity":{"$ref":"#/components/schemas/IssueSeverity","description":"Issue severity"},"layer":{"$ref":"#/components/schemas/LayerLevel","description":"Which layer detected this"},"position":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Position","description":"Position reference"},"suggestion":{"type":"string","title":"Suggestion","description":"Suggestion for fix","default":""},"suggestion_zh":{"type":"string","title":"Suggestion Zh","description":"Chinese suggestion","default":""},"details":{"type":"object","title":"Details","description":"Additional details"}},"type":"object","required":["type","description","description_zh","severity","layer"],"title":"DetectionIssue","description":"Unified issue model for all layers\næ‰€æœ‰å±‚çº§çš„ç»Ÿä¸€é—®é¢˜æ¨¡å‹"},"DetectorView":{"properties":{"detector":{"type":"string","title":"Detector"},"risk_score":{"type":"integer","title":"Risk Score"},"key_issues":{"items":{"type":"string"},"type":"array","title":"Key Issues"},"key_issues_zh":{"items":{"type":"string"},"type":"array","title":"Key Issues Zh"}},"type":"object","required":["detector","risk_score","key_issues","key_issues_zh"],"title":"DetectorView","description":"Detector-specific analysis view\næ£€æµ‹å™¨ç‰¹å®šçš„åˆ†æè§†è§’"},"DiversificationRequest":{"properties":{"paragraph_text":{"type":"string","title":"Paragraph Text"},"paragraph_index":{"type":"integer","title":"Paragraph Index"},"rewrite_intensity":{"type":"string","enum":["conservative","moderate","aggressive"],"title":"Rewrite Intensity","default":"moderate"},"target_passive_ratio":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Target Passive Ratio"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id"}},"type":"object","required":["paragraph_text","paragraph_index"],"title":"DiversificationRequest","description":"Request for pattern diversification (Step 4.5).\nå¥å¼å¤šæ ·åŒ–è¯·æ±‚ï¼ˆæ­¥éª¤4.5ï¼‰ã€‚"},"DiversificationResponse":{"properties":{"paragraph_index":{"type":"integer","title":"Paragraph Index"},"original_text":{"type":"string","title":"Original Text"},"diversified_text":{"type":"string","title":"Diversified Text"},"changes":{"items":{"$ref":"#/components/schemas/ChangeRecord"},"type":"array","title":"Changes"},"applied_strategies":{"additionalProperties":{"type":"integer"},"type":"object","title":"Applied Strategies"},"before_metrics":{"$ref":"#/components/schemas/PatternMetrics"},"after_metrics":{"$ref":"#/components/schemas/PatternMetrics"},"improvement_summary":{"additionalProperties":{"type":"number"},"type":"object","title":"Improvement Summary"},"risk_level":{"type":"string","title":"Risk Level"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh"},"processing_time_ms":{"type":"integer","title":"Processing Time Ms"}},"type":"object","required":["paragraph_index","original_text","diversified_text","changes","applied_strategies","before_metrics","after_metrics","improvement_summary","risk_level","recommendations","recommendations_zh","processing_time_ms"],"title":"DiversificationResponse","description":"Response for pattern diversification (Step 4.5).\nå¥å¼å¤šæ ·åŒ–å“åº”ï¼ˆæ­¥éª¤4.5ï¼‰ã€‚"},"DocumentAnalysisRequest":{"properties":{"text":{"type":"string","minLength":1,"title":"Text","description":"Text to analyze"},"include_recommendations":{"type":"boolean","title":"Include Recommendations","description":"Include recommendations","default":true},"include_style_analysis":{"type":"boolean","title":"Include Style Analysis","description":"Include style analysis","default":true}},"type":"object","required":["text"],"title":"DocumentAnalysisRequest","description":"Request for Layer 5: Document analysis\nç¬¬5å±‚æ–‡æ¡£åˆ†æè¯·æ±‚"},"DocumentAnalysisResponse":{"properties":{"layer":{"$ref":"#/components/schemas/LayerLevel","default":"document"},"risk_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Risk Score","description":"Risk score 0-100"},"risk_level":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__RiskLevel"},"issues":{"items":{"$ref":"#/components/schemas/DetectionIssue"},"type":"array","title":"Issues","description":"Detected issues"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations","description":"English recommendations"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh","description":"Chinese recommendations"},"details":{"type":"object","title":"Details","description":"Layer-specific details"},"processing_time_ms":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Processing Time Ms","description":"Processing time in milliseconds"},"structure":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Structure","description":"Document structure info"},"predictability_score":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Predictability Score","description":"Structure predictability scores"},"paragraph_count":{"type":"integer","title":"Paragraph Count","description":"Number of paragraphs","default":0},"word_count":{"type":"integer","title":"Word Count","description":"Total word count","default":0},"structure_score":{"type":"integer","title":"Structure Score","description":"Structure predictability total score","default":0},"structure_pattern":{"type":"string","title":"Structure Pattern","description":"Detected structure pattern","default":"unknown"},"sections":{"items":{"$ref":"#/components/schemas/DocumentSection"},"type":"array","title":"Sections","description":"Detected document sections"},"global_risk_factors":{"items":{"type":"string"},"type":"array","title":"Global Risk Factors","description":"Global risk factors"},"predictability_scores":{"additionalProperties":{"type":"integer"},"type":"object","title":"Predictability Scores","description":"Predictability dimension scores"}},"type":"object","required":["risk_score","risk_level"],"title":"DocumentAnalysisResponse","description":"Response for Layer 5: Document analysis\nç¬¬5å±‚æ–‡æ¡£åˆ†æå“åº”"},"DocumentInfo":{"properties":{"id":{"type":"string","title":"Id"},"filename":{"type":"string","title":"Filename"},"status":{"type":"string","title":"Status"},"total_sentences":{"type":"integer","title":"Total Sentences"},"high_risk_count":{"type":"integer","title":"High Risk Count"},"medium_risk_count":{"type":"integer","title":"Medium Risk Count"},"low_risk_count":{"type":"integer","title":"Low Risk Count"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"original_text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Original Text"}},"type":"object","required":["id","filename","status","total_sentences","high_risk_count","medium_risk_count","low_risk_count","created_at"],"title":"DocumentInfo","description":"Document information\næ–‡æ¡£ä¿¡æ¯"},"DocumentSection":{"properties":{"index":{"type":"integer","title":"Index","description":"Section index"},"role":{"type":"string","title":"Role","description":"Section role"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title","description":"Section title if detected"},"paragraphCount":{"type":"integer","title":"Paragraphcount","description":"Number of paragraphs in section","default":0},"wordCount":{"type":"integer","title":"Wordcount","description":"Word count in section","default":0}},"type":"object","required":["index","role"],"title":"DocumentSection","description":"Document section info for frontend display"},"DocumentStructureRequest":{"properties":{"document_id":{"type":"string","title":"Document Id","description":"Document ID to analyze"},"extract_thesis":{"type":"boolean","title":"Extract Thesis","description":"Whether to extract core thesis","default":true},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id","description":"Session ID to get colloquialism_level for style analysis"}},"type":"object","required":["document_id"],"title":"DocumentStructureRequest","description":"Request to analyze document structure by ID\næŒ‰IDåˆ†ææ–‡æ¡£ç»“æ„çš„è¯·æ±‚"},"DocumentTransitionAnalysisRequest":{"properties":{"document_id":{"type":"string","title":"Document Id","description":"Document ID to analyze"},"context_hint":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Context Hint","description":"Core thesis for the document"}},"type":"object","required":["document_id"],"title":"DocumentTransitionAnalysisRequest","description":"Request to analyze all transitions in a document\nåˆ†ææ–‡æ¡£ä¸­æ‰€æœ‰è¡”æ¥çš„è¯·æ±‚"},"DocumentTransitionSummary":{"properties":{"document_id":{"type":"string","title":"Document Id"},"total_transitions":{"type":"integer","title":"Total Transitions"},"high_risk_count":{"type":"integer","title":"High Risk Count"},"medium_risk_count":{"type":"integer","title":"Medium Risk Count"},"low_risk_count":{"type":"integer","title":"Low Risk Count"},"avg_smoothness_score":{"type":"number","title":"Avg Smoothness Score"},"common_issues":{"items":{"type":"string"},"type":"array","title":"Common Issues","default":[]},"transitions":{"items":{"$ref":"#/components/schemas/TransitionAnalysisResponse"},"type":"array","title":"Transitions","default":[]}},"type":"object","required":["document_id","total_transitions","high_risk_count","medium_risk_count","low_risk_count","avg_smoothness_score"],"title":"DocumentTransitionSummary","description":"Summary of all paragraph transitions in a document\næ–‡æ¡£ä¸­æ‰€æœ‰æ®µè½è¡”æ¥çš„æ‘˜è¦"},"ExplicitConnector":{"properties":{"word":{"type":"string","title":"Word"},"position":{"type":"string","title":"Position"},"location":{"type":"string","title":"Location"},"severity":{"type":"string","title":"Severity"}},"type":"object","required":["word","position","location","severity"],"title":"ExplicitConnector","description":"Detected explicit connector word (AI fingerprint)\næ£€æµ‹åˆ°çš„æ˜¾æ€§è¿æ¥è¯ï¼ˆAIæŒ‡çº¹ï¼‰"},"ExportResult":{"properties":{"filename":{"type":"string","title":"Filename"},"format":{"type":"string","title":"Format"},"size":{"type":"integer","title":"Size"},"download_url":{"type":"string","title":"Download Url"}},"type":"object","required":["filename","format","size","download_url"],"title":"ExportResult","description":"Export result\nå¯¼å‡ºç»“æœ"},"ExtractTermsRequest":{"properties":{"document_text":{"type":"string","minLength":10,"title":"Document Text","description":"Document text to analyze"},"session_id":{"type":"string","title":"Session Id","description":"Session ID for term storage"}},"type":"object","required":["document_text","session_id"],"title":"ExtractTermsRequest","description":"Request to extract terms from document"},"ExtractedTerm":{"properties":{"term":{"type":"string","title":"Term","description":"The extracted term"},"term_type":{"type":"string","title":"Term Type","description":"Type: technical_term, proper_noun, acronym, key_phrase, core_word"},"frequency":{"type":"integer","title":"Frequency","description":"Frequency in document"},"reason":{"type":"string","title":"Reason","description":"Why this should be locked (English)"},"reason_zh":{"type":"string","title":"Reason Zh","description":"Why this should be locked (Chinese)"},"recommended":{"type":"boolean","title":"Recommended","description":"Whether recommended for locking","default":true}},"type":"object","required":["term","term_type","frequency","reason","reason_zh"],"title":"ExtractedTerm","description":"Single extracted term"},"ExtractedTermResponse":{"properties":{"term":{"type":"string","title":"Term","description":"The extracted term"},"term_type":{"$ref":"#/components/schemas/TermTypeEnum","description":"Type of term"},"frequency":{"type":"integer","title":"Frequency","description":"Frequency in document"},"reason":{"type":"string","title":"Reason","description":"Why this should be locked (English)"},"reason_zh":{"type":"string","title":"Reason Zh","description":"Why this should be locked (Chinese)"},"recommended":{"type":"boolean","title":"Recommended","description":"Whether recommended for locking","default":true}},"type":"object","required":["term","term_type","frequency","reason","reason_zh"],"title":"ExtractedTermResponse","description":"Single extracted term in response"},"FeedbackItem":{"properties":{"id":{"type":"string","title":"Id"},"contact":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Contact"},"content":{"type":"string","title":"Content"},"status":{"type":"string","title":"Status"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"ip_address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ip Address"}},"type":"object","required":["id","contact","content","status","created_at","ip_address"],"title":"FeedbackItem","description":"Feedback item for listing (admin use)\nåé¦ˆé¡¹ï¼ˆç®¡ç†å‘˜ä½¿ç”¨ï¼‰"},"FeedbackListResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"feedbacks":{"items":{"$ref":"#/components/schemas/FeedbackItem"},"type":"array","title":"Feedbacks"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["success","feedbacks","total"],"title":"FeedbackListResponse","description":"Response for feedback list\nåé¦ˆåˆ—è¡¨å“åº”"},"FeedbackSubmitRequest":{"properties":{"contact":{"anyOf":[{"type":"string","maxLength":200},{"type":"null"}],"title":"Contact","description":"Contact info (email/phone/wechat) è”ç³»æ–¹å¼"},"content":{"type":"string","maxLength":2000,"minLength":5,"title":"Content","description":"Feedback content (5-2000 chars) åé¦ˆå†…å®¹"}},"type":"object","required":["content"],"title":"FeedbackSubmitRequest","description":"Request to submit feedback\næäº¤åé¦ˆè¯·æ±‚"},"FeedbackSubmitResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"type":"string","title":"Message"},"message_zh":{"type":"string","title":"Message Zh"},"feedback_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Feedback Id"}},"type":"object","required":["success","message","message_zh"],"title":"FeedbackSubmitResponse","description":"Response for feedback submission\nåé¦ˆæäº¤å“åº”"},"FingerprintDetectionResponse":{"properties":{"risk_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Risk Score","description":"Risk score 0-100","default":0},"risk_level":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__RiskLevel","description":"Risk level","default":"low"},"issues":{"items":{"type":"object"},"type":"array","title":"Issues","description":"Detected issues"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations","description":"Recommendations (English)"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh","description":"Recommendations (Chinese)"},"processing_time_ms":{"type":"integer","title":"Processing Time Ms","description":"Processing time in milliseconds","default":0},"type_a_words":{"items":{"type":"object"},"type":"array","title":"Type A Words"},"type_b_words":{"items":{"type":"object"},"type":"array","title":"Type B Words"},"type_c_phrases":{"items":{"type":"object"},"type":"array","title":"Type C Phrases"},"total_fingerprints":{"type":"integer","title":"Total Fingerprints","default":0},"fingerprint_density":{"type":"number","title":"Fingerprint Density","default":0},"ppl_score":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Ppl Score","description":"Perplexity score from ONNX model"},"ppl_risk_level":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ppl Risk Level","description":"PPL risk: low (>40), medium (20-40), high (<20)"},"ppl_used_onnx":{"type":"boolean","title":"Ppl Used Onnx","description":"Whether ONNX model was used for PPL calculation","default":false},"ppl_analysis":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Ppl Analysis","description":"Detailed PPL analysis per paragraph"}},"type":"object","title":"FingerprintDetectionResponse","description":"Response for fingerprint detection (Step 5.1)"},"FingerprintMatch":{"properties":{"word":{"type":"string","title":"Word"},"position":{"type":"integer","title":"Position"},"risk_weight":{"type":"number","title":"Risk Weight"},"category":{"type":"string","title":"Category"},"replacements":{"items":{"type":"string"},"type":"array","title":"Replacements","default":[]}},"type":"object","required":["word","position","risk_weight","category"],"title":"FingerprintMatch","description":"Fingerprint word match result\næŒ‡çº¹è¯åŒ¹é…ç»“æœ"},"FingerprintRequest":{"properties":{"document_text":{"type":"string","title":"Document Text","description":"Full document text"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id","description":"Session ID for locked terms"},"colloquialism_level":{"type":"integer","maximum":10.0,"minimum":0.0,"title":"Colloquialism Level","default":4}},"type":"object","required":["document_text"],"title":"FingerprintRequest","description":"Request for Step 5.1 Fingerprint Detection"},"FlowProgressResponse":{"properties":{"flow_id":{"type":"string","title":"Flow Id"},"mode":{"type":"string","title":"Mode"},"current_level":{"type":"string","title":"Current Level"},"overall_status":{"type":"string","title":"Overall Status"},"levels":{"items":{"type":"object"},"type":"array","title":"Levels"},"summary":{"type":"object","title":"Summary"}},"type":"object","required":["flow_id","mode","current_level","overall_status","levels","summary"],"title":"FlowProgressResponse","description":"Response for flow progress æµç¨‹è¿›åº¦å“åº”"},"FlowRelation":{"properties":{"from":{"type":"integer","title":"From"},"to":{"type":"integer","title":"To"},"relation":{"type":"string","title":"Relation"},"symbol":{"type":"string","title":"Symbol"}},"type":"object","required":["from","to","relation","symbol"],"title":"FlowRelation","description":"Logical flow relation between paragraphs\næ®µè½ä¹‹é—´çš„é€»è¾‘æµå…³ç³»"},"FlowStartRequest":{"properties":{"document_id":{"type":"string","title":"Document Id","description":"Document ID to process"},"mode":{"type":"string","title":"Mode","description":"Processing mode: quick or deep","default":"deep"},"colloquialism_level":{"type":"integer","maximum":5.0,"minimum":1.0,"title":"Colloquialism Level","description":"Target tone level 1-5","default":4},"whitelist":{"items":{"type":"string"},"type":"array","title":"Whitelist","description":"Terms to whitelist"}},"type":"object","required":["document_id"],"title":"FlowStartRequest","description":"Request to start a new processing flow å¼€å§‹æ–°å¤„ç†æµç¨‹çš„è¯·æ±‚"},"FlowStartResponse":{"properties":{"flow_id":{"type":"string","title":"Flow Id"},"session_id":{"type":"string","title":"Session Id"},"mode":{"type":"string","title":"Mode"},"current_level":{"type":"string","title":"Current Level"},"levels":{"items":{"type":"object"},"type":"array","title":"Levels"}},"type":"object","required":["flow_id","session_id","mode","current_level","levels"],"title":"FlowStartResponse","description":"Response for flow start æµç¨‹å¯åŠ¨å“åº”"},"FullPipelineRequest":{"properties":{"document_text":{"type":"string","title":"Document Text","description":"Full document text"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id","description":"Session ID for locked terms"},"colloquialism_level":{"type":"integer","maximum":10.0,"minimum":0.0,"title":"Colloquialism Level","default":4},"skip_validation":{"type":"boolean","title":"Skip Validation","description":"Skip Step 5.5 validation","default":false}},"type":"object","required":["document_text"],"title":"FullPipelineRequest","description":"Request for full Layer 1 pipeline"},"FunctionDistributionResult":{"properties":{"distribution_type":{"type":"string","title":"Distribution Type"},"distribution_type_zh":{"type":"string","title":"Distribution Type Zh"},"function_counts":{"additionalProperties":{"type":"integer"},"type":"object","title":"Function Counts"},"depth_variance":{"type":"number","title":"Depth Variance"},"longest_section_ratio":{"type":"number","title":"Longest Section Ratio"},"score":{"type":"integer","title":"Score"},"asymmetry_opportunities":{"items":{"type":"object"},"type":"array","title":"Asymmetry Opportunities","default":[]}},"type":"object","required":["distribution_type","distribution_type_zh","function_counts","depth_variance","longest_section_ratio","score"],"title":"FunctionDistributionResult","description":"Function distribution analysis result\nåŠŸèƒ½åˆ†å¸ƒåˆ†æç»“æœ"},"GrammarModifier":{"properties":{"type":{"type":"string","title":"Type"},"type_zh":{"type":"string","title":"Type Zh"},"text":{"type":"string","title":"Text"},"modifies":{"type":"string","title":"Modifies"}},"type":"object","required":["type","type_zh","text","modifies"],"title":"GrammarModifier","description":"Grammar modifier (attributive/adverbial/complement)\nè¯­æ³•ä¿®é¥°æˆåˆ†ï¼ˆå®šè¯­/çŠ¶è¯­/è¡¥è¯­ï¼‰"},"GrammarStructure":{"properties":{"subject":{"type":"string","title":"Subject"},"subject_zh":{"type":"string","title":"Subject Zh"},"predicate":{"type":"string","title":"Predicate"},"predicate_zh":{"type":"string","title":"Predicate Zh"},"object":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Object"},"object_zh":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Object Zh"},"modifiers":{"items":{"$ref":"#/components/schemas/GrammarModifier"},"type":"array","title":"Modifiers","default":[]}},"type":"object","required":["subject","subject_zh","predicate","predicate_zh"],"title":"GrammarStructure","description":"Sentence grammar structure\nå¥å­è¯­æ³•ç»“æ„"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HintsRequest":{"properties":{"sentence":{"type":"string","title":"Sentence"}},"type":"object","required":["sentence"],"title":"HintsRequest","description":"Request body for getting writing hints\nè·å–å†™ä½œæç¤ºçš„è¯·æ±‚ä½“"},"HumanFeatureRequest":{"properties":{"document_text":{"type":"string","title":"Document Text","description":"Full document text"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id","description":"Session ID for locked terms"},"colloquialism_level":{"type":"integer","maximum":10.0,"minimum":0.0,"title":"Colloquialism Level","default":4}},"type":"object","required":["document_text"],"title":"HumanFeatureRequest","description":"Request for Step 5.2 Human Feature Analysis"},"HumanFeatureResponse":{"properties":{"risk_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Risk Score","description":"Risk score 0-100","default":0},"risk_level":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__RiskLevel","description":"Risk level","default":"low"},"issues":{"items":{"type":"object"},"type":"array","title":"Issues","description":"Detected issues"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations","description":"Recommendations (English)"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh","description":"Recommendations (Chinese)"},"processing_time_ms":{"type":"integer","title":"Processing Time Ms","description":"Processing time in milliseconds","default":0},"human_features":{"items":{"type":"object"},"type":"array","title":"Human Features"},"feature_score":{"type":"number","title":"Feature Score","default":0}},"type":"object","title":"HumanFeatureResponse","description":"Response for human feature analysis (Step 5.2)"},"InterSectionLogicRequest":{"properties":{"text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Text"},"paragraphs":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Paragraphs"},"sections":{"anyOf":[{"items":{"type":"object"},"type":"array"},{"type":"null"}],"title":"Sections"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id"}},"type":"object","title":"InterSectionLogicRequest","description":"Request for Step 2.5: Inter-Section Logic\næ­¥éª¤ 2.5ï¼šç« èŠ‚é—´é€»è¾‘å…³ç³»è¯·æ±‚"},"InternalSimilarityResponse":{"properties":{"risk_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Risk Score","description":"Risk score 0-100","default":0},"risk_level":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__RiskLevel","description":"Risk level","default":"low"},"issues":{"items":{"type":"object"},"type":"array","title":"Issues","description":"Detected issues"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations","description":"Recommendations (English)"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh","description":"Recommendations (Chinese)"},"processing_time_ms":{"type":"integer","title":"Processing Time Ms","description":"Processing time in milliseconds","default":0},"avg_similarity":{"type":"number","title":"Avg Similarity","description":"Average structure similarity 0-1","default":0},"similarity_matrix":{"items":{"items":{"type":"number"},"type":"array"},"type":"array","title":"Similarity Matrix"},"heading_variance":{"type":"number","title":"Heading Variance","description":"Heading depth variance","default":0},"argument_density_cv":{"type":"number","title":"Argument Density Cv","description":"Argument density CV","default":0},"paragraph_functions":{"items":{"type":"object"},"type":"array","title":"Paragraph Functions"}},"type":"object","title":"InternalSimilarityResponse","description":"Response for internal structure similarity (Step 2.3)"},"InternalStructureSimilarityRequest":{"properties":{"text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Text"},"paragraphs":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Paragraphs"},"sections":{"anyOf":[{"items":{"type":"object"},"type":"array"},{"type":"null"}],"title":"Sections"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id"}},"type":"object","title":"InternalStructureSimilarityRequest","description":"Request for Step 2.3: Internal Structure Similarity\næ­¥éª¤ 2.3ï¼šç« èŠ‚å†…éƒ¨ç»“æ„ç›¸ä¼¼æ€§è¯·æ±‚"},"InternalStructureSimilarityResponse":{"properties":{"risk_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Risk Score","default":0},"risk_level":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__RiskLevel","default":"low"},"section_structures":{"items":{"$ref":"#/components/schemas/SectionInternalStructure"},"type":"array","title":"Section Structures"},"similarity_pairs":{"items":{"$ref":"#/components/schemas/StructureSimilarityPair"},"type":"array","title":"Similarity Pairs"},"average_similarity":{"type":"number","title":"Average Similarity","description":"Average pairwise similarity","default":0.0},"max_similarity":{"type":"number","title":"Max Similarity","description":"Maximum pairwise similarity","default":0.0},"heading_depth_cv":{"type":"number","title":"Heading Depth Cv","description":"CV of heading depths across sections","default":0.0},"argument_density_cv":{"type":"number","title":"Argument Density Cv","description":"CV of argument densities","default":0.0},"suspicious_pairs":{"items":{"$ref":"#/components/schemas/StructureSimilarityPair"},"type":"array","title":"Suspicious Pairs"},"issues":{"items":{"$ref":"#/components/schemas/DetectionIssue"},"type":"array","title":"Issues"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh"},"processing_time_ms":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Processing Time Ms"}},"type":"object","title":"InternalStructureSimilarityResponse","description":"Response for Step 2.3: Internal Structure Similarity\næ­¥éª¤ 2.3ï¼šç« èŠ‚å†…éƒ¨ç»“æ„ç›¸ä¼¼æ€§å“åº”"},"IssueDetail":{"properties":{"type":{"type":"string","title":"Type"},"description":{"type":"string","title":"Description"},"description_zh":{"type":"string","title":"Description Zh"},"severity":{"$ref":"#/components/schemas/src__api__schemas__RiskLevel"},"position":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Position"},"word":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Word"}},"type":"object","required":["type","description","description_zh","severity"],"title":"IssueDetail","description":"Detected issue detail\næ£€æµ‹åˆ°çš„é—®é¢˜è¯¦æƒ…"},"IssueGuidanceRequest":{"properties":{"documentId":{"type":"string","title":"Documentid","description":"Document ID"},"issueId":{"type":"string","title":"Issueid","description":"Issue ID from issue list"},"issueType":{"type":"string","title":"Issuetype","description":"Issue type"},"affectedPositions":{"items":{"type":"string"},"type":"array","title":"Affectedpositions","description":"Affected positions","default":[]},"affectedText":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Affectedtext","description":"The affected text (if not fetching from DB)"},"prevParagraph":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Prevparagraph","description":"Previous paragraph text"},"nextParagraph":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nextparagraph","description":"Next paragraph text"},"connectorWord":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Connectorword","description":"For explicit_connector issues"}},"type":"object","required":["documentId","issueId","issueType"],"title":"IssueGuidanceRequest","description":"Request for detailed guidance on a specific issue\nè·å–ç‰¹å®šé—®é¢˜è¯¦ç»†æŒ‡å¼•çš„è¯·æ±‚"},"IssueGuidanceResponse":{"properties":{"issue_id":{"type":"string","title":"Issue Id","description":"Issue ID"},"issue_type":{"type":"string","title":"Issue Type","description":"Issue type"},"guidance_zh":{"type":"string","title":"Guidance Zh","description":"Detailed Chinese guidance with sections"},"guidance_en":{"type":"string","title":"Guidance En","description":"Brief English summary","default":""},"reference_version":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reference Version","description":"Suggested rewritten text"},"reference_explanation_zh":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reference Explanation Zh","description":"Explanation of the reference version"},"why_no_reference":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Why No Reference","description":"Explanation of why no reference is provided"},"affected_text":{"type":"string","title":"Affected Text","description":"The original affected text","default":""},"key_concepts":{"$ref":"#/components/schemas/KeyConcepts","description":"Key concepts for semantic echo"},"confidence":{"type":"number","title":"Confidence","description":"Confidence score 0-1","default":0.8},"can_generate_reference":{"type":"boolean","title":"Can Generate Reference","description":"Whether reference was/could be generated","default":true}},"type":"object","required":["issue_id","issue_type","guidance_zh"],"title":"IssueGuidanceResponse","description":"Response containing detailed guidance for an issue\nåŒ…å«é—®é¢˜è¯¦ç»†æŒ‡å¼•çš„å“åº”"},"IssueSeverity":{"type":"string","enum":["low","medium","high"],"title":"IssueSeverity","description":"Issue severity levels"},"KeyConcepts":{"properties":{"from_prev":{"items":{"type":"string"},"type":"array","title":"From Prev","description":"Key concepts from previous paragraph","default":[]},"from_next":{"items":{"type":"string"},"type":"array","title":"From Next","description":"Key concepts from next paragraph","default":[]}},"type":"object","title":"KeyConcepts","description":"Key concepts extracted for semantic echo\nç”¨äºè¯­ä¹‰å›å£°çš„å…³é”®æ¦‚å¿µ"},"LayerAnalysisResult":{"properties":{"layer":{"$ref":"#/components/schemas/LayerLevel","description":"Layer that produced this result"},"risk_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Risk Score","description":"Risk score 0-100"},"risk_level":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__RiskLevel"},"issues":{"items":{"$ref":"#/components/schemas/DetectionIssue"},"type":"array","title":"Issues","description":"Detected issues"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations","description":"English recommendations"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh","description":"Chinese recommendations"},"details":{"type":"object","title":"Details","description":"Layer-specific details"},"processing_time_ms":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Processing Time Ms","description":"Processing time in milliseconds"}},"type":"object","required":["layer","risk_score","risk_level"],"title":"LayerAnalysisResult","description":"Unified result model for all layer analyses\næ‰€æœ‰å±‚çº§åˆ†æçš„ç»Ÿä¸€ç»“æœæ¨¡å‹"},"LayerLevel":{"type":"string","enum":["document","section","paragraph","sentence","lexical"],"title":"LayerLevel","description":"Layer levels in the detection hierarchy"},"LengthAnalysisRequest":{"properties":{"text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Text"},"paragraphs":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Paragraphs"},"paragraph_index":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Paragraph Index"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id"}},"type":"object","title":"LengthAnalysisRequest","description":"Request for length analysis (Step 4.2).\nå¥é•¿åˆ†æè¯·æ±‚ï¼ˆæ­¥éª¤4.2ï¼‰ã€‚"},"LengthAnalysisResponse":{"properties":{"paragraph_length_stats":{"items":{"type":"object"},"type":"array","title":"Paragraph Length Stats"},"overall_length_cv":{"type":"number","title":"Overall Length Cv"},"uniformity_issues":{"items":{"type":"object"},"type":"array","title":"Uniformity Issues"},"merge_candidates":{"items":{"type":"object"},"type":"array","title":"Merge Candidates"},"split_candidates":{"items":{"type":"object"},"type":"array","title":"Split Candidates"},"risk_level":{"type":"string","title":"Risk Level"},"risk_score":{"type":"integer","title":"Risk Score"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh"},"processing_time_ms":{"type":"integer","title":"Processing Time Ms"}},"type":"object","required":["paragraph_length_stats","overall_length_cv","uniformity_issues","merge_candidates","split_candidates","risk_level","risk_score","recommendations","recommendations_zh","processing_time_ms"],"title":"LengthAnalysisResponse","description":"Response for length analysis (Step 4.2).\nå¥é•¿åˆ†æå“åº”ï¼ˆæ­¥éª¤4.2ï¼‰ã€‚"},"LevelCompleteRequest":{"properties":{"flow_id":{"type":"string","title":"Flow Id","description":"Flow ID"},"level":{"type":"string","title":"Level","description":"Level that was completed"},"score_before":{"type":"integer","title":"Score Before","description":"Score before processing","default":0},"score_after":{"type":"integer","title":"Score After","description":"Score after processing","default":0},"issues_found":{"type":"integer","title":"Issues Found","description":"Number of issues found","default":0},"issues_fixed":{"type":"integer","title":"Issues Fixed","description":"Number of issues fixed","default":0},"changes":{"items":{"type":"object"},"type":"array","title":"Changes","description":"Changes made"},"updated_text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Updated Text","description":"Updated document text"}},"type":"object","required":["flow_id","level"],"title":"LevelCompleteRequest","description":"Request to complete a level å®Œæˆå±‚çº§çš„è¯·æ±‚"},"LevelContextResponse":{"properties":{"flow_id":{"type":"string","title":"Flow Id"},"level":{"type":"string","title":"Level"},"context":{"type":"object","title":"Context"}},"type":"object","required":["flow_id","level","context"],"title":"LevelContextResponse","description":"Response containing context for a level åŒ…å«å±‚çº§ä¸Šä¸‹æ–‡çš„å“åº”"},"LexicalAnalysisRequest":{"properties":{"text":{"type":"string","minLength":1,"title":"Text","description":"Text to analyze"},"sentences":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Sentences","description":"Pre-segmented sentences"},"sentence_context":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Sentence Context","description":"Context from Layer 2"}},"type":"object","required":["text"],"title":"LexicalAnalysisRequest","description":"Request for Layer 1: Lexical analysis\nç¬¬1å±‚è¯æ±‡åˆ†æè¯·æ±‚"},"LexicalAnalysisResponse":{"properties":{"layer":{"$ref":"#/components/schemas/LayerLevel","default":"lexical"},"risk_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Risk Score","description":"Risk score 0-100"},"risk_level":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__RiskLevel"},"issues":{"items":{"$ref":"#/components/schemas/DetectionIssue"},"type":"array","title":"Issues","description":"Detected issues"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations","description":"English recommendations"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh","description":"Chinese recommendations"},"details":{"type":"object","title":"Details","description":"Layer-specific details"},"processing_time_ms":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Processing Time Ms","description":"Processing time in milliseconds"},"fingerprint_matches":{"additionalProperties":{"items":{"type":"object"},"type":"array"},"type":"object","title":"Fingerprint Matches","description":"Fingerprint matches by type (type_a, type_b, phrases)"},"fingerprint_density":{"type":"number","title":"Fingerprint Density","description":"Fingerprint density percentage","default":0.0},"connector_matches":{"items":{"type":"object"},"type":"array","title":"Connector Matches","description":"Detected connector overuse"},"connector_ratio":{"type":"number","title":"Connector Ratio","description":"Ratio of sentences starting with connectors","default":0.0},"replacement_suggestions":{"additionalProperties":{"items":{"type":"string"},"type":"array"},"type":"object","title":"Replacement Suggestions","description":"Suggested replacements for flagged words"}},"type":"object","required":["risk_score","risk_level"],"title":"LexicalAnalysisResponse","description":"Response for Layer 1: Lexical analysis\nç¬¬1å±‚è¯æ±‡åˆ†æå“åº”"},"LexicalContextResponse":{"properties":{"risk_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Risk Score","description":"Risk score 0-100","default":0},"risk_level":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__RiskLevel","description":"Risk level","default":"low"},"issues":{"items":{"type":"object"},"type":"array","title":"Issues","description":"Detected issues"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations","description":"Recommendations (English)"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh","description":"Recommendations (Chinese)"},"processing_time_ms":{"type":"integer","title":"Processing Time Ms","description":"Processing time in milliseconds","default":0},"tokens":{"items":{"type":"object"},"type":"array","title":"Tokens"},"vocabulary_stats":{"type":"object","title":"Vocabulary Stats"}},"type":"object","title":"LexicalContextResponse","description":"Response for lexical context preparation (Step 5.0)"},"LexicalEchoResult":{"properties":{"total_transitions":{"type":"integer","title":"Total Transitions"},"echo_transitions":{"type":"integer","title":"Echo Transitions"},"explicit_connector_transitions":{"type":"integer","title":"Explicit Connector Transitions"},"echo_ratio":{"type":"number","title":"Echo Ratio"},"score":{"type":"integer","title":"Score"},"transition_details":{"items":{"type":"object"},"type":"array","title":"Transition Details","default":[]}},"type":"object","required":["total_transitions","echo_transitions","explicit_connector_transitions","echo_ratio","score"],"title":"LexicalEchoResult","description":"Lexical echo analysis result\nè¯æ±‡å›å£°åˆ†æç»“æœ"},"LockedTermsResponse":{"properties":{"session_id":{"type":"string","title":"Session Id","description":"Session ID"},"locked_terms":{"items":{"type":"string"},"type":"array","title":"Locked Terms","description":"Locked terms"},"locked_count":{"type":"integer","title":"Locked Count","description":"Number of locked terms","default":0},"created_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Created At","description":"When terms were locked"}},"type":"object","required":["session_id"],"title":"LockedTermsResponse","description":"Response with current locked terms for session"},"LogicBreak":{"properties":{"from_position":{"type":"string","title":"From Position"},"to_position":{"type":"string","title":"To Position"},"transition_type":{"type":"string","title":"Transition Type"},"issue":{"type":"string","title":"Issue"},"issue_zh":{"type":"string","title":"Issue Zh"},"suggestion":{"type":"string","title":"Suggestion","default":""},"suggestion_zh":{"type":"string","title":"Suggestion Zh","default":""}},"type":"object","required":["from_position","to_position","transition_type","issue","issue_zh"],"title":"LogicBreak","description":"Detected logic break between paragraphs\næ£€æµ‹åˆ°çš„æ®µè½é—´é€»è¾‘æ–­è£‚ç‚¹"},"LogicDiagnosisResponse":{"properties":{"flow_map":{"items":{"$ref":"#/components/schemas/FlowRelation"},"type":"array","title":"Flow Map","default":[]},"structure_pattern":{"type":"string","title":"Structure Pattern"},"structure_pattern_zh":{"type":"string","title":"Structure Pattern Zh"},"pattern_description":{"type":"string","title":"Pattern Description"},"pattern_description_zh":{"type":"string","title":"Pattern Description Zh"},"risk_areas":{"items":{"$ref":"#/components/schemas/RiskArea"},"type":"array","title":"Risk Areas","default":[]},"recommended_strategy":{"$ref":"#/components/schemas/StructureStrategy"},"recommendation_reason":{"type":"string","title":"Recommendation Reason"},"recommendation_reason_zh":{"type":"string","title":"Recommendation Reason Zh"}},"type":"object","required":["structure_pattern","structure_pattern_zh","pattern_description","pattern_description_zh","recommended_strategy","recommendation_reason","recommendation_reason_zh"],"title":"LogicDiagnosisResponse","description":"Response for logic diagnosis card\né€»è¾‘è¯Šæ–­å¡å“åº”"},"LogicFrameworkItem":{"properties":{"pattern":{"type":"string","title":"Pattern"},"patternZh":{"type":"string","title":"Patternzh"},"isAiLike":{"type":"boolean","title":"Isailike"},"riskLevel":{"type":"string","title":"Risklevel"},"description":{"type":"string","title":"Description"},"descriptionZh":{"type":"string","title":"Descriptionzh"}},"type":"object","required":["pattern","patternZh","isAiLike","riskLevel","description","descriptionZh"],"title":"LogicFrameworkItem","description":"Response model for logic framework detection"},"LogicIssueResponse":{"properties":{"type":{"type":"string","title":"Type"},"description":{"type":"string","title":"Description"},"description_zh":{"type":"string","title":"Description Zh"},"severity":{"type":"string","title":"Severity"},"position":{"items":{"type":"integer"},"type":"array","title":"Position"},"suggestion":{"type":"string","title":"Suggestion"},"suggestion_zh":{"type":"string","title":"Suggestion Zh"},"details":{"type":"object","title":"Details"}},"type":"object","required":["type","description","description_zh","severity","position","suggestion","suggestion_zh"],"title":"LogicIssueResponse","description":"Response model for a single logic issue"},"LogicPatternResponse":{"properties":{"risk_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Risk Score","description":"Risk score 0-100","default":0},"risk_level":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__RiskLevel","description":"Risk level","default":"low"},"issues":{"items":{"type":"object"},"type":"array","title":"Issues","description":"Detected issues"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations","description":"Recommendations (English)"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh","description":"Recommendations (Chinese)"},"processing_time_ms":{"type":"integer","title":"Processing Time Ms","description":"Processing time in milliseconds","default":0},"progression_score":{"type":"integer","title":"Progression Score","description":"Progression predictability score","default":0},"progression_type":{"type":"string","title":"Progression Type","description":"monotonic, non_monotonic, mixed","default":"unknown"},"closure_score":{"type":"integer","title":"Closure Score","description":"Closure strength score","default":0},"closure_type":{"type":"string","title":"Closure Type","description":"strong, moderate, weak, open","default":"unknown"},"sequential_markers_count":{"type":"integer","title":"Sequential Markers Count","description":"Count of sequential markers","default":0},"progression_markers":{"items":{"type":"object"},"type":"array","title":"Progression Markers"}},"type":"object","title":"LogicPatternResponse","description":"Response for logic pattern analysis (Step 1.3)"},"LoginRequest":{"properties":{"phone":{"type":"string","pattern":"^1[3-9]\\d{9}$","title":"Phone","description":"Phone number (æ‰‹æœºå·)"},"password":{"type":"string","minLength":1,"title":"Password","description":"Password (å¯†ç )"}},"type":"object","required":["phone","password"],"title":"LoginRequest","description":"Request for user login with phone and password\nç”¨æˆ·ç™»å½•è¯·æ±‚ï¼ˆæ‰‹æœºå·+å¯†ç ï¼‰"},"LoginResponse":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type","default":"bearer"},"expires_in":{"type":"integer","title":"Expires In"},"user":{"$ref":"#/components/schemas/UserInfo"},"system_mode":{"type":"string","title":"System Mode"}},"type":"object","required":["access_token","expires_in","user","system_mode"],"title":"LoginResponse","description":"Response for successful login ç™»å½•æˆåŠŸå“åº”"},"MergeCandidate":{"properties":{"sentence_indices":{"items":{"type":"integer"},"type":"array","title":"Sentence Indices"},"original_sentences":{"items":{"type":"string"},"type":"array","title":"Original Sentences"},"merged_text":{"type":"string","title":"Merged Text"},"merge_type":{"type":"string","title":"Merge Type"},"similarity_score":{"type":"number","title":"Similarity Score"},"readability_score":{"type":"number","title":"Readability Score"},"word_count_before":{"type":"integer","title":"Word Count Before"},"word_count_after":{"type":"integer","title":"Word Count After"},"complexity_gain":{"type":"string","title":"Complexity Gain"}},"type":"object","required":["sentence_indices","original_sentences","merged_text","merge_type","similarity_score","readability_score","word_count_before","word_count_after","complexity_gain"],"title":"MergeCandidate","description":"A candidate for sentence merging.\nå¥å­åˆå¹¶å€™é€‰ã€‚"},"MergeSuggestionRequest":{"properties":{"paragraph_text":{"type":"string","title":"Paragraph Text"},"paragraph_index":{"type":"integer","title":"Paragraph Index"},"sentences":{"anyOf":[{"items":{"$ref":"#/components/schemas/SentenceInfo"},"type":"array"},{"type":"null"}],"title":"Sentences"},"max_merge_count":{"type":"integer","title":"Max Merge Count","default":2},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id"}},"type":"object","required":["paragraph_text","paragraph_index"],"title":"MergeSuggestionRequest","description":"Request for sentence merge suggestions (Step 4.3).\nå¥å­åˆå¹¶å»ºè®®è¯·æ±‚ï¼ˆæ­¥éª¤4.3ï¼‰ã€‚"},"MergeSuggestionResponse":{"properties":{"paragraph_index":{"type":"integer","title":"Paragraph Index"},"candidates":{"items":{"$ref":"#/components/schemas/MergeCandidate"},"type":"array","title":"Candidates"},"estimated_improvement":{"additionalProperties":{"type":"number"},"type":"object","title":"Estimated Improvement"},"risk_level":{"type":"string","title":"Risk Level"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh"},"processing_time_ms":{"type":"integer","title":"Processing Time Ms"}},"type":"object","required":["paragraph_index","candidates","estimated_improvement","risk_level","recommendations","recommendations_zh","processing_time_ms"],"title":"MergeSuggestionResponse","description":"Response for sentence merge suggestions (Step 4.3).\nå¥å­åˆå¹¶å»ºè®®å“åº”ï¼ˆæ­¥éª¤4.3ï¼‰ã€‚"},"OpenerAnalysis":{"properties":{"opener_counts":{"additionalProperties":{"type":"integer"},"type":"object","title":"Opener Counts"},"top_repeated":{"items":{"type":"string"},"type":"array","title":"Top Repeated"},"repetition_rate":{"type":"number","title":"Repetition Rate"},"subject_opening_rate":{"type":"number","title":"Subject Opening Rate"},"issues":{"items":{"type":"string"},"type":"array","title":"Issues"}},"type":"object","required":["opener_counts","top_repeated","repetition_rate","subject_opening_rate","issues"],"title":"OpenerAnalysis","description":"Analysis of sentence openers.\nå¥é¦–è¯åˆ†æã€‚"},"OrderItem":{"properties":{"task_id":{"type":"string","title":"Task Id"},"document_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Document Name"},"word_count":{"type":"integer","title":"Word Count","default":0},"price":{"type":"number","title":"Price","default":0.0},"status":{"type":"string","title":"Status"},"payment_status":{"type":"string","title":"Payment Status"},"created_at":{"type":"string","title":"Created At"},"paid_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Paid At"}},"type":"object","required":["task_id","status","payment_status","created_at"],"title":"OrderItem","description":"Order item in list è®¢å•åˆ—è¡¨é¡¹"},"OrderListResponse":{"properties":{"orders":{"items":{"$ref":"#/components/schemas/OrderItem"},"type":"array","title":"Orders"},"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"page_size":{"type":"integer","title":"Page Size"}},"type":"object","required":["orders","total","page","page_size"],"title":"OrderListResponse","description":"Order list response è®¢å•åˆ—è¡¨å“åº”"},"OverviewStatsResponse":{"properties":{"total_revenue":{"type":"number","title":"Total Revenue","description":"Total revenue | æ€»è¥æ”¶"},"today_revenue":{"type":"number","title":"Today Revenue","description":"Today's revenue | ä»Šæ—¥è¥æ”¶"},"this_week_revenue":{"type":"number","title":"This Week Revenue","description":"This week's revenue | æœ¬å‘¨è¥æ”¶"},"this_month_revenue":{"type":"number","title":"This Month Revenue","description":"This month's revenue | æœ¬æœˆè¥æ”¶"},"total_tasks":{"type":"integer","title":"Total Tasks","description":"Total tasks | æ€»ä»»åŠ¡æ•°"},"paid_tasks":{"type":"integer","title":"Paid Tasks","description":"Paid tasks | å·²ä»˜æ¬¾ä»»åŠ¡"},"pending_tasks":{"type":"integer","title":"Pending Tasks","description":"Pending payment tasks | å¾…ä»˜æ¬¾ä»»åŠ¡"},"completed_tasks":{"type":"integer","title":"Completed Tasks","description":"Completed tasks | å·²å®Œæˆä»»åŠ¡"},"failed_tasks":{"type":"integer","title":"Failed Tasks","description":"Failed tasks | å¤±è´¥ä»»åŠ¡"},"total_users":{"type":"integer","title":"Total Users","description":"Total users | æ€»ç”¨æˆ·æ•°"},"active_users_today":{"type":"integer","title":"Active Users Today","description":"Active users today | ä»Šæ—¥æ´»è·ƒç”¨æˆ·"},"active_users_week":{"type":"integer","title":"Active Users Week","description":"Active users this week | æœ¬å‘¨æ´»è·ƒç”¨æˆ·"},"new_users_today":{"type":"integer","title":"New Users Today","description":"New users today | ä»Šæ—¥æ–°å¢ç”¨æˆ·"},"total_words_processed":{"type":"integer","title":"Total Words Processed","description":"Total words processed | æ€»å¤„ç†å­—æ•°"},"total_documents":{"type":"integer","title":"Total Documents","description":"Total documents | æ€»æ–‡æ¡£æ•°"},"data_from":{"type":"string","title":"Data From","description":"Data start time | æ•°æ®èµ·å§‹æ—¶é—´"},"data_to":{"type":"string","title":"Data To","description":"Data end time | æ•°æ®æˆªæ­¢æ—¶é—´"}},"type":"object","required":["total_revenue","today_revenue","this_week_revenue","this_month_revenue","total_tasks","paid_tasks","pending_tasks","completed_tasks","failed_tasks","total_users","active_users_today","active_users_week","new_users_today","total_words_processed","total_documents","data_from","data_to"],"title":"OverviewStatsResponse","description":"Overview statistics response æ¦‚è§ˆç»Ÿè®¡å“åº”"},"ParagraphAnchorInfo":{"properties":{"paragraph_index":{"type":"integer","title":"Paragraph Index"},"word_count":{"type":"integer","title":"Word Count"},"anchor_count":{"type":"integer","title":"Anchor Count"},"density":{"type":"number","title":"Density"},"has_hallucination_risk":{"type":"boolean","title":"Has Hallucination Risk"},"risk_level":{"type":"string","title":"Risk Level"},"anchor_types":{"additionalProperties":{"type":"integer"},"type":"object","title":"Anchor Types"}},"type":"object","required":["paragraph_index","word_count","anchor_count","density","has_hallucination_risk","risk_level"],"title":"ParagraphAnchorInfo","description":"Paragraph anchor density information"},"ParagraphCoherenceInfo":{"properties":{"paragraph_index":{"type":"integer","title":"Paragraph Index"},"subject_diversity":{"type":"number","title":"Subject Diversity"},"length_variation_cv":{"type":"number","title":"Length Variation Cv"},"logic_structure":{"type":"string","title":"Logic Structure"},"connector_density":{"type":"number","title":"Connector Density"},"first_person_ratio":{"type":"number","title":"First Person Ratio"},"overall_score":{"type":"number","title":"Overall Score"}},"type":"object","required":["paragraph_index","subject_diversity","length_variation_cv","logic_structure","connector_density","first_person_ratio","overall_score"],"title":"ParagraphCoherenceInfo","description":"Paragraph coherence information"},"ParagraphFunctionInfo":{"properties":{"paragraph_index":{"type":"integer","title":"Paragraph Index","description":"Global paragraph index"},"local_index":{"type":"integer","title":"Local Index","description":"Index within section"},"function":{"type":"string","title":"Function","default":"unknown"},"function_confidence":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Function Confidence","default":0.0},"preview":{"type":"string","title":"Preview","description":"First 100 chars","default":""}},"type":"object","required":["paragraph_index","local_index"],"title":"ParagraphFunctionInfo","description":"Function information for a paragraph within a section\næ®µè½åœ¨ç« èŠ‚å†…çš„åŠŸèƒ½ä¿¡æ¯"},"ParagraphIdentificationRequest":{"properties":{"text":{"type":"string","minLength":1,"title":"Text","description":"Full document text"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id","description":"Session ID"},"section_context":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Section Context","description":"Context from Layer 4"}},"type":"object","required":["text"],"title":"ParagraphIdentificationRequest","description":"Request for paragraph identification"},"ParagraphIdentificationResponse":{"properties":{"paragraphs":{"items":{"type":"string"},"type":"array","title":"Paragraphs"},"paragraph_count":{"type":"integer","title":"Paragraph Count"},"paragraph_section_map":{"items":{"type":"integer"},"type":"array","title":"Paragraph Section Map"},"paragraph_metadata":{"items":{"$ref":"#/components/schemas/src__api__routes__analysis__paragraph__ParagraphMeta"},"type":"array","title":"Paragraph Metadata"},"filtered_count":{"type":"integer","title":"Filtered Count"},"total_word_count":{"type":"integer","title":"Total Word Count"},"risk_level":{"type":"string","title":"Risk Level","default":"low"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations","default":[]},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh","default":[]},"processing_time_ms":{"type":"integer","title":"Processing Time Ms"}},"type":"object","required":["paragraphs","paragraph_count","paragraph_section_map","paragraph_metadata","filtered_count","total_word_count","processing_time_ms"],"title":"ParagraphIdentificationResponse","description":"Response for paragraph identification"},"ParagraphIdentifyResponse":{"properties":{"risk_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Risk Score","description":"Risk score 0-100","default":0},"risk_level":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__RiskLevel","description":"Risk level","default":"low"},"issues":{"items":{"type":"object"},"type":"array","title":"Issues","description":"Detected issues"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations","description":"Recommendations (English)"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh","description":"Recommendations (Chinese)"},"processing_time_ms":{"type":"integer","title":"Processing Time Ms","description":"Processing time in milliseconds","default":0},"paragraphs":{"items":{"type":"string"},"type":"array","title":"Paragraphs"},"paragraph_count":{"type":"integer","title":"Paragraph Count","default":0},"paragraph_metadata":{"items":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__ParagraphMeta"},"type":"array","title":"Paragraph Metadata"},"filtered_count":{"type":"integer","title":"Filtered Count","description":"Filtered non-body paragraphs","default":0}},"type":"object","title":"ParagraphIdentifyResponse","description":"Response for paragraph identification (Step 3.0)"},"ParagraphInfo":{"properties":{"index":{"type":"integer","title":"Index"},"first_sentence":{"type":"string","title":"First Sentence"},"last_sentence":{"type":"string","title":"Last Sentence"},"word_count":{"type":"integer","title":"Word Count"},"sentence_count":{"type":"integer","title":"Sentence Count"},"has_topic_sentence":{"type":"boolean","title":"Has Topic Sentence"},"has_summary_ending":{"type":"boolean","title":"Has Summary Ending"},"connector_words":{"items":{"type":"string"},"type":"array","title":"Connector Words","default":[]},"function_type":{"type":"string","title":"Function Type"},"position":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Position"},"summary":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Summary"},"summary_zh":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Summary Zh"},"ai_risk":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ai Risk"},"ai_risk_reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ai Risk Reason"},"rewrite_suggestion_zh":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rewrite Suggestion Zh"},"rewrite_example":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rewrite Example"}},"type":"object","required":["index","first_sentence","last_sentence","word_count","sentence_count","has_topic_sentence","has_summary_ending","function_type"],"title":"ParagraphInfo","description":"Information about a paragraph\næ®µè½ä¿¡æ¯"},"ParagraphLengthStrategy":{"type":"string","enum":["merge","split","expand","compress","none"],"title":"ParagraphLengthStrategy","description":"Strategy type for paragraph length adjustment"},"ParagraphLengthStrategyItem":{"properties":{"strategyType":{"type":"string","title":"Strategytype","description":"merge|expand|split|compress"},"targetPositions":{"items":{"type":"string"},"type":"array","title":"Targetpositions","description":"Affected paragraph positions"},"description":{"type":"string","title":"Description","description":"Strategy description in English"},"descriptionZh":{"type":"string","title":"Descriptionzh","description":"ç­–ç•¥æè¿°"},"reason":{"type":"string","title":"Reason","description":"Why this strategy is suggested"},"reasonZh":{"type":"string","title":"Reasonzh","description":"å»ºè®®åŸå› "},"priority":{"type":"integer","title":"Priority","description":"Priority 1-5, lower = more important"},"expandSuggestion":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Expandsuggestion","description":"Suggestion for what to expand"},"expandSuggestionZh":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Expandsuggestionzh","description":"æ‰©å±•å»ºè®®"},"semanticRelation":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Semanticrelation","description":"Semantic relationship for merge"},"semanticRelationZh":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Semanticrelationzh","description":"åˆå¹¶çš„è¯­ä¹‰å…³ç³»è¯´æ˜"},"splitPoints":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Splitpoints","description":"Points where to split"},"splitPointsZh":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Splitpointszh","description":"å»ºè®®æ‹†åˆ†ç‚¹"}},"type":"object","required":["strategyType","targetPositions","description","descriptionZh","reason","reasonZh","priority"],"title":"ParagraphLengthStrategyItem","description":"Single strategy suggestion for paragraph length optimization\næ®µè½é•¿åº¦ä¼˜åŒ–çš„å•ä¸ªç­–ç•¥å»ºè®®"},"ParagraphLogicFrameworkRequest":{"properties":{"paragraph":{"type":"string","title":"Paragraph","description":"The paragraph text to analyze"},"paragraphPosition":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Paragraphposition","description":"Position in document e.g. '1(2)'"}},"type":"object","required":["paragraph"],"title":"ParagraphLogicFrameworkRequest","description":"Request model for paragraph logic framework analysis"},"ParagraphLogicFrameworkResponse":{"properties":{"sentenceRoles":{"items":{"$ref":"#/components/schemas/SentenceRoleItem"},"type":"array","title":"Sentenceroles"},"roleDistribution":{"type":"object","title":"Roledistribution"},"logicFramework":{"$ref":"#/components/schemas/LogicFrameworkItem"},"burstinessAnalysis":{"$ref":"#/components/schemas/BurstinessAnalysisItem"},"missingElements":{"type":"object","title":"Missingelements"},"improvementSuggestions":{"items":{"type":"object"},"type":"array","title":"Improvementsuggestions"},"overallAssessment":{"type":"object","title":"Overallassessment"},"basicAnalysis":{"type":"object","title":"Basicanalysis"},"sentences":{"items":{"type":"string"},"type":"array","title":"Sentences"}},"type":"object","required":["sentenceRoles","roleDistribution","logicFramework","burstinessAnalysis","missingElements","improvementSuggestions","overallAssessment","basicAnalysis","sentences"],"title":"ParagraphLogicFrameworkResponse","description":"Response model for paragraph logic framework analysis (Step 2 enhancement)"},"ParagraphParams":{"properties":{"target_passive_ratio":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Target Passive Ratio"},"allow_merge":{"type":"boolean","title":"Allow Merge","default":true},"max_merge_count":{"type":"integer","title":"Max Merge Count","default":2},"preserve_connectors":{"items":{"type":"string"},"type":"array","title":"Preserve Connectors","default":[]},"rewrite_intensity":{"type":"string","enum":["conservative","moderate","aggressive"],"title":"Rewrite Intensity","default":"moderate"}},"type":"object","title":"ParagraphParams","description":"Paragraph-level parameter overrides.\næ®µè½çº§å‚æ•°è¦†ç›–ã€‚"},"ParagraphProcessingConfig":{"properties":{"paragraph_index":{"type":"integer","title":"Paragraph Index"},"status":{"type":"string","enum":["pending","in_progress","completed","skipped","locked"],"title":"Status","default":"pending"},"mode":{"type":"string","enum":["auto","merge_only","connector_only","diversify_only","custom"],"title":"Mode","default":"auto"},"enabled_steps":{"items":{"type":"string"},"type":"array","title":"Enabled Steps","default":["step4-2","step4-3","step4-4","step4-5"]},"params":{"$ref":"#/components/schemas/ParagraphParams"},"versions":{"items":{"$ref":"#/components/schemas/ParagraphVersion"},"type":"array","title":"Versions","default":[]},"current_version":{"type":"integer","title":"Current Version","default":0}},"type":"object","required":["paragraph_index"],"title":"ParagraphProcessingConfig","description":"Configuration for processing each paragraph.\næ¯ä¸ªæ®µè½çš„å¤„ç†é…ç½®ã€‚"},"ParagraphRestructureRequest":{"properties":{"paragraph":{"type":"string","title":"Paragraph","description":"The paragraph text to restructure"},"strategy":{"type":"string","enum":["ani","subject_diversity","implicit_connector","rhythm","citation_entanglement","document_aware","sentence_fusion","all"],"title":"Strategy","description":"Restructuring strategy to apply"},"tone_level":{"type":"integer","maximum":10.0,"minimum":0.0,"title":"Tone Level","description":"Target tone level","default":4},"detected_issues":{"anyOf":[{"items":{"type":"object"},"type":"array"},{"type":"null"}],"title":"Detected Issues","description":"Pre-detected issues from analysis"},"repeated_subject":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Repeated Subject","description":"For subject_diversity: the repeated subject"},"subject_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Subject Count","description":"For subject_diversity: count of repetitions"},"connectors_found":{"anyOf":[{"items":{"type":"object"},"type":"array"},{"type":"null"}],"title":"Connectors Found","description":"For implicit_connector: detected connectors"},"lengths":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Lengths","description":"For rhythm: current sentence lengths"},"cv":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Cv","description":"For rhythm: coefficient of variation"},"citations_found":{"anyOf":[{"items":{"type":"object"},"type":"array"},{"type":"null"}],"title":"Citations Found","description":"For citation_entanglement: detected citations"},"paragraph_index":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Paragraph Index","description":"For document_aware: 0-based index of paragraph in document"},"total_paragraphs":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total Paragraphs","description":"For document_aware: total number of paragraphs in document"}},"type":"object","required":["paragraph","strategy"],"title":"ParagraphRestructureRequest","description":"Request model for paragraph restructuring"},"ParagraphRestructureResponse":{"properties":{"original":{"type":"string","title":"Original"},"restructured":{"type":"string","title":"Restructured"},"strategy":{"type":"string","title":"Strategy"},"strategy_name":{"type":"string","title":"Strategy Name"},"strategy_name_zh":{"type":"string","title":"Strategy Name Zh"},"changes":{"items":{"$ref":"#/components/schemas/RestructureChange"},"type":"array","title":"Changes"},"explanation":{"type":"string","title":"Explanation"},"explanation_zh":{"type":"string","title":"Explanation Zh"},"original_risk_adjustment":{"type":"integer","title":"Original Risk Adjustment"},"new_risk_adjustment":{"type":"integer","title":"New Risk Adjustment"},"improvement":{"type":"integer","title":"Improvement"}},"type":"object","required":["original","restructured","strategy","strategy_name","strategy_name_zh","changes","explanation","explanation_zh","original_risk_adjustment","new_risk_adjustment","improvement"],"title":"ParagraphRestructureResponse","description":"Response model for paragraph restructuring"},"ParagraphRewriteResponse":{"properties":{"risk_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Risk Score","description":"Risk score 0-100","default":0},"risk_level":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__RiskLevel","description":"Risk level","default":"low"},"issues":{"items":{"type":"object"},"type":"array","title":"Issues","description":"Detected issues"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations","description":"Recommendations (English)"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh","description":"Recommendations (Chinese)"},"processing_time_ms":{"type":"integer","title":"Processing Time Ms","description":"Processing time in milliseconds","default":0},"original_text":{"type":"string","title":"Original Text","default":""},"rewritten_text":{"type":"string","title":"Rewritten Text","default":""},"changes":{"items":{"type":"object"},"type":"array","title":"Changes"},"locked_terms_preserved":{"type":"boolean","title":"Locked Terms Preserved","default":true}},"type":"object","title":"ParagraphRewriteResponse","description":"Response for paragraph rewriting (Step 5.4)"},"ParagraphRoleInfo":{"properties":{"paragraph_index":{"type":"integer","title":"Paragraph Index"},"role":{"type":"string","title":"Role"},"confidence":{"type":"number","title":"Confidence"},"section_index":{"type":"integer","title":"Section Index"},"role_matches_section":{"type":"boolean","title":"Role Matches Section"},"keywords_found":{"items":{"type":"string"},"type":"array","title":"Keywords Found"}},"type":"object","required":["paragraph_index","role","confidence","section_index","role_matches_section"],"title":"ParagraphRoleInfo","description":"Paragraph role information"},"ParagraphRoleResponse":{"properties":{"risk_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Risk Score","description":"Risk score 0-100","default":0},"risk_level":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__RiskLevel","description":"Risk level","default":"low"},"issues":{"items":{"type":"object"},"type":"array","title":"Issues","description":"Detected issues"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations","description":"Recommendations (English)"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh","description":"Recommendations (Chinese)"},"processing_time_ms":{"type":"integer","title":"Processing Time Ms","description":"Processing time in milliseconds","default":0},"paragraph_roles":{"items":{"$ref":"#/components/schemas/ParagraphRoleInfo"},"type":"array","title":"Paragraph Roles"},"role_distribution":{"additionalProperties":{"type":"integer"},"type":"object","title":"Role Distribution"},"uniformity_score":{"type":"number","title":"Uniformity Score","description":"0-1, higher = more uniform (AI-like)","default":0},"missing_roles":{"items":{"type":"string"},"type":"array","title":"Missing Roles"}},"type":"object","title":"ParagraphRoleResponse","description":"Response for paragraph role detection (Step 3.1)"},"ParagraphSentenceLengthInfo":{"properties":{"paragraph_index":{"type":"integer","title":"Paragraph Index"},"sentence_count":{"type":"integer","title":"Sentence Count"},"sentence_lengths":{"items":{"type":"integer"},"type":"array","title":"Sentence Lengths"},"mean_length":{"type":"number","title":"Mean Length"},"std_length":{"type":"number","title":"Std Length"},"cv":{"type":"number","title":"Cv"},"burstiness":{"type":"number","title":"Burstiness"},"has_short_sentence":{"type":"boolean","title":"Has Short Sentence"},"has_long_sentence":{"type":"boolean","title":"Has Long Sentence"},"rhythm_score":{"type":"number","title":"Rhythm Score"}},"type":"object","required":["paragraph_index","sentence_count","mean_length","std_length","cv","burstiness","has_short_sentence","has_long_sentence","rhythm_score"],"title":"ParagraphSentenceLengthInfo","description":"Paragraph sentence length information"},"ParagraphSubstantiality":{"properties":{"index":{"type":"integer","title":"Index","description":"Paragraph index"},"preview":{"type":"string","title":"Preview","description":"First 100 chars of paragraph"},"word_count":{"type":"integer","title":"Word Count","description":"Word count"},"specificity_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Specificity Score","description":"How specific/concrete (higher = better)"},"generic_phrase_count":{"type":"integer","title":"Generic Phrase Count","description":"Number of generic phrases detected","default":0},"specific_detail_count":{"type":"integer","title":"Specific Detail Count","description":"Number of specific details (numbers, names, etc.)","default":0},"filler_ratio":{"type":"number","title":"Filler Ratio","description":"Ratio of filler words","default":0.0},"generic_phrases":{"items":{"type":"string"},"type":"array","title":"Generic Phrases","description":"Generic phrases found"},"specific_details":{"items":{"type":"string"},"type":"array","title":"Specific Details","description":"Specific details found"},"substantiality_level":{"$ref":"#/components/schemas/SubstantialityLevel","description":"Overall substantiality level"},"suggestion":{"type":"string","title":"Suggestion","description":"Suggestion for improvement","default":""},"suggestion_zh":{"type":"string","title":"Suggestion Zh","description":"Chinese suggestion","default":""}},"type":"object","required":["index","preview","word_count","specificity_score","substantiality_level"],"title":"ParagraphSubstantiality","description":"Substantiality analysis for a single paragraph\nå•ä¸ªæ®µè½çš„å®è´¨æ€§åˆ†æ"},"ParagraphSuggestionRequest":{"properties":{"paragraph_text":{"type":"string","minLength":10,"title":"Paragraph Text","description":"The paragraph text to analyze"},"paragraph_position":{"type":"string","title":"Paragraph Position","description":"Paragraph position like '3.2(1)'"},"ai_risk":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ai Risk","description":"Already detected AI risk level"},"ai_risk_reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ai Risk Reason","description":"Already detected AI risk reason"},"context_hint":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Context Hint","description":"Context from previous paragraph or document"}},"type":"object","required":["paragraph_text","paragraph_position"],"title":"ParagraphSuggestionRequest","description":"Request for single paragraph rewrite suggestion\nå•ä¸ªæ®µè½æ”¹å†™å»ºè®®è¯·æ±‚"},"ParagraphSuggestionResponse":{"properties":{"paragraph_position":{"type":"string","title":"Paragraph Position","description":"Paragraph position"},"rewrite_suggestion_zh":{"type":"string","title":"Rewrite Suggestion Zh","description":"Structured Chinese rewrite suggestion"},"rewrite_example":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rewrite Example","description":"Optional rewrite example in English"},"ai_risk":{"type":"string","title":"Ai Risk","description":"AI risk level: high/medium/low"},"ai_risk_reason":{"type":"string","title":"Ai Risk Reason","description":"Chinese reason for AI risk level"}},"type":"object","required":["paragraph_position","rewrite_suggestion_zh","ai_risk","ai_risk_reason"],"title":"ParagraphSuggestionResponse","description":"Response for single paragraph rewrite suggestion\nå•ä¸ªæ®µè½æ”¹å†™å»ºè®®å“åº”"},"ParagraphTransitionInfo":{"properties":{"from_paragraph":{"type":"integer","title":"From Paragraph"},"to_paragraph":{"type":"integer","title":"To Paragraph"},"has_explicit_connector":{"type":"boolean","title":"Has Explicit Connector"},"connector_words":{"items":{"type":"string"},"type":"array","title":"Connector Words","default":[]},"semantic_echo_score":{"type":"number","title":"Semantic Echo Score"},"echoed_keywords":{"items":{"type":"string"},"type":"array","title":"Echoed Keywords","default":[]},"transition_quality":{"type":"string","title":"Transition Quality"},"opener_text":{"type":"string","title":"Opener Text"},"opener_pattern":{"type":"string","title":"Opener Pattern","default":""},"is_formulaic_opener":{"type":"boolean","title":"Is Formulaic Opener","default":false},"risk_score":{"type":"integer","title":"Risk Score"}},"type":"object","required":["from_paragraph","to_paragraph","has_explicit_connector","semantic_echo_score","transition_quality","opener_text","risk_score"],"title":"ParagraphTransitionInfo","description":"Transition info between two paragraphs"},"ParagraphTransitionRequest":{"properties":{"text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Text","description":"Full document text"},"paragraphs":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Paragraphs","description":"Pre-split paragraphs"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id","description":"Session ID"},"section_context":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Section Context","description":"Context from Layer 4"}},"type":"object","title":"ParagraphTransitionRequest","description":"Request for paragraph transition analysis"},"ParagraphVersion":{"properties":{"version":{"type":"integer","title":"Version"},"step":{"type":"string","title":"Step"},"text":{"type":"string","title":"Text"},"timestamp":{"type":"string","title":"Timestamp"},"changes":{"items":{"$ref":"#/components/schemas/ChangeRecord"},"type":"array","title":"Changes","default":[]},"metrics":{"anyOf":[{"additionalProperties":{"type":"number"},"type":"object"},{"type":"null"}],"title":"Metrics"}},"type":"object","required":["version","step","text","timestamp"],"title":"ParagraphVersion","description":"Version record for paragraph edits.\næ®µè½ç¼–è¾‘çš„ç‰ˆæœ¬è®°å½•ã€‚"},"PatternAnalysisRequest":{"properties":{"text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Text"},"paragraphs":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Paragraphs"},"sentences":{"anyOf":[{"items":{"$ref":"#/components/schemas/SentenceInfo"},"type":"array"},{"type":"null"}],"title":"Sentences"},"paragraph_sentence_map":{"anyOf":[{"additionalProperties":{"items":{"type":"integer"},"type":"array"},"type":"object"},{"type":"null"}],"title":"Paragraph Sentence Map"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id"}},"type":"object","title":"PatternAnalysisRequest","description":"Request for pattern analysis (Step 4.1).\nå¥å¼ç»“æ„åˆ†æè¯·æ±‚ï¼ˆæ­¥éª¤4.1ï¼‰ã€‚"},"PatternAnalysisResponse":{"properties":{"type_distribution":{"additionalProperties":{"$ref":"#/components/schemas/TypeStats"},"type":"object","title":"Type Distribution"},"opener_analysis":{"$ref":"#/components/schemas/OpenerAnalysis"},"voice_distribution":{"additionalProperties":{"type":"integer"},"type":"object","title":"Voice Distribution"},"clause_depth_stats":{"additionalProperties":{"type":"number"},"type":"object","title":"Clause Depth Stats"},"parallel_structure_count":{"type":"integer","title":"Parallel Structure Count"},"issues":{"items":{"type":"object"},"type":"array","title":"Issues"},"risk_level":{"type":"string","title":"Risk Level"},"risk_score":{"type":"integer","title":"Risk Score"},"high_risk_paragraphs":{"items":{"type":"object"},"type":"array","title":"High Risk Paragraphs","default":[]},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh"},"processing_time_ms":{"type":"integer","title":"Processing Time Ms"},"syntactic_voids":{"items":{"type":"object"},"type":"array","title":"Syntactic Voids","description":"Detected syntactic void patterns / æ£€æµ‹åˆ°çš„å¥æ³•ç©ºæ´æ¨¡å¼"},"void_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Void Score","description":"Overall void score 0-100 / æ€»ä½“ç©ºæ´åˆ†æ•°","default":0},"void_density":{"type":"number","title":"Void Density","description":"Voids per 100 words / æ¯100è¯çš„ç©ºæ´æ•°","default":0},"has_critical_void":{"type":"boolean","title":"Has Critical Void","description":"Has high-severity void patterns / æ˜¯å¦æœ‰é«˜ä¸¥é‡åº¦ç©ºæ´","default":false}},"type":"object","required":["type_distribution","opener_analysis","voice_distribution","clause_depth_stats","parallel_structure_count","issues","risk_level","risk_score","recommendations","recommendations_zh","processing_time_ms"],"title":"PatternAnalysisResponse","description":"Response for pattern analysis (Step 4.1).\nå¥å¼ç»“æ„åˆ†æå“åº”ï¼ˆæ­¥éª¤4.1ï¼‰ã€‚\n\nNow includes Syntactic Void Detection integration.\nç°å·²é›†æˆå¥æ³•ç©ºæ´æ£€æµ‹ã€‚"},"PatternMetrics":{"properties":{"simple_ratio":{"type":"number","title":"Simple Ratio"},"compound_ratio":{"type":"number","title":"Compound Ratio"},"complex_ratio":{"type":"number","title":"Complex Ratio"},"compound_complex_ratio":{"type":"number","title":"Compound Complex Ratio"},"opener_diversity":{"type":"number","title":"Opener Diversity"},"voice_balance":{"type":"number","title":"Voice Balance"},"length_cv":{"type":"number","title":"Length Cv"},"overall_score":{"type":"number","title":"Overall Score"}},"type":"object","required":["simple_ratio","compound_ratio","complex_ratio","compound_complex_ratio","opener_diversity","voice_balance","length_cv","overall_score"],"title":"PatternMetrics","description":"Pattern metrics for before/after comparison.\nç”¨äºå‰åå¯¹æ¯”çš„å¥å¼æŒ‡æ ‡ã€‚"},"PaymentCallbackRequest":{"properties":{"order_id":{"type":"string","title":"Order Id"},"status":{"type":"string","title":"Status"},"paid_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Paid At"},"amount":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Amount"},"timestamp":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Timestamp"},"nonce":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nonce"},"signature":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Signature"}},"type":"object","required":["order_id","status"],"title":"PaymentCallbackRequest","description":"Payment callback request from platform å¹³å°æ”¯ä»˜å›è°ƒè¯·æ±‚"},"PaymentInitResponse":{"properties":{"task_id":{"type":"string","title":"Task Id"},"platform_order_id":{"type":"string","title":"Platform Order Id"},"payment_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Payment Url"},"qr_code_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Qr Code Url"},"amount":{"type":"number","title":"Amount"},"expires_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Expires At"},"is_debug_mode":{"type":"boolean","title":"Is Debug Mode"},"auto_paid":{"type":"boolean","title":"Auto Paid","default":false}},"type":"object","required":["task_id","platform_order_id","amount","is_debug_mode"],"title":"PaymentInitResponse","description":"Payment initiation response æ”¯ä»˜å‘èµ·å“åº”"},"PaymentStatusResponse":{"properties":{"task_id":{"type":"string","title":"Task Id"},"status":{"type":"string","title":"Status"},"payment_status":{"type":"string","title":"Payment Status"},"paid_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Paid At"},"can_process":{"type":"boolean","title":"Can Process"}},"type":"object","required":["task_id","status","payment_status","can_process"],"title":"PaymentStatusResponse","description":"Payment status response æ”¯ä»˜çŠ¶æ€å“åº”"},"PipelineAnalysisRequest":{"properties":{"text":{"type":"string","minLength":1,"title":"Text","description":"Full document text"},"layers":{"items":{"$ref":"#/components/schemas/LayerLevel"},"type":"array","title":"Layers","description":"Layers to analyze (in order)","default":["document","section","paragraph","sentence","lexical"]},"stop_on_low_risk":{"type":"boolean","title":"Stop On Low Risk","description":"Stop if layer returns low risk","default":false},"include_context_passing":{"type":"boolean","title":"Include Context Passing","description":"Pass context between layers","default":true}},"type":"object","required":["text"],"title":"PipelineAnalysisRequest","description":"Request for full pipeline analysis (all layers)\nå…¨æµæ°´çº¿åˆ†æè¯·æ±‚ï¼ˆæ‰€æœ‰å±‚çº§ï¼‰"},"PipelineAnalysisResponse":{"properties":{"overall_risk_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Overall Risk Score","description":"Combined risk score"},"overall_risk_level":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__RiskLevel","description":"Overall risk level"},"layers_analyzed":{"items":{"$ref":"#/components/schemas/LayerLevel"},"type":"array","title":"Layers Analyzed","description":"Layers that were analyzed"},"layer_results":{"additionalProperties":{"$ref":"#/components/schemas/LayerAnalysisResult"},"type":"object","title":"Layer Results","description":"Results from each layer"},"total_issues":{"type":"integer","title":"Total Issues","description":"Total issues across all layers","default":0},"priority_issues":{"items":{"$ref":"#/components/schemas/DetectionIssue"},"type":"array","title":"Priority Issues","description":"High-priority issues to address"},"processing_time_ms":{"type":"integer","title":"Processing Time Ms","description":"Total processing time","default":0},"timestamp":{"type":"string","format":"date-time","title":"Timestamp","description":"Analysis timestamp"}},"type":"object","required":["overall_risk_score","overall_risk_level","layers_analyzed","layer_results"],"title":"PipelineAnalysisResponse","description":"Response for full pipeline analysis\nå…¨æµæ°´çº¿åˆ†æå“åº”"},"PredictabilityAnalysisRequest":{"properties":{"text":{"type":"string","title":"Text","description":"Full document text to analyze"}},"type":"object","required":["text"],"title":"PredictabilityAnalysisRequest","description":"Request for structure predictability analysis\nç»“æ„é¢„æµ‹æ€§åˆ†æè¯·æ±‚"},"PredictabilityAnalysisResponse":{"properties":{"total_score":{"type":"integer","title":"Total Score","description":"0-100, higher = more AI-like"},"risk_level":{"type":"string","title":"Risk Level"},"progression_analysis":{"anyOf":[{"$ref":"#/components/schemas/ProgressionAnalysisResult"},{"type":"null"}]},"function_distribution":{"anyOf":[{"$ref":"#/components/schemas/FunctionDistributionResult"},{"type":"null"}]},"closure_analysis":{"anyOf":[{"$ref":"#/components/schemas/ClosureAnalysisResult"},{"type":"null"}]},"lexical_echo_analysis":{"anyOf":[{"$ref":"#/components/schemas/LexicalEchoResult"},{"type":"null"}]},"recommended_disruption_level":{"type":"string","title":"Recommended Disruption Level"},"recommended_strategies":{"items":{"type":"string"},"type":"array","title":"Recommended Strategies","default":[]},"message":{"type":"string","title":"Message","default":""},"message_zh":{"type":"string","title":"Message Zh","default":""}},"type":"object","required":["total_score","risk_level","recommended_disruption_level"],"title":"PredictabilityAnalysisResponse","description":"Response for structure predictability analysis\nç»“æ„é¢„æµ‹æ€§åˆ†æå“åº”"},"ProcessMode":{"type":"string","enum":["intervention","yolo"],"title":"ProcessMode","description":"Processing mode enumeration å¤„ç†æ¨¡å¼æšä¸¾"},"ProgressionAnalysisResult":{"properties":{"progression_type":{"type":"string","title":"Progression Type"},"progression_type_zh":{"type":"string","title":"Progression Type Zh"},"forward_transitions":{"type":"integer","title":"Forward Transitions"},"backward_references":{"type":"integer","title":"Backward References"},"conditional_statements":{"type":"integer","title":"Conditional Statements"},"score":{"type":"integer","title":"Score"}},"type":"object","required":["progression_type","progression_type_zh","forward_transitions","backward_references","conditional_statements","score"],"title":"ProgressionAnalysisResult","description":"Progression type analysis result\næ¨è¿›ç±»å‹åˆ†æç»“æœ"},"ProgressionClosureRequest":{"properties":{"text":{"type":"string","minLength":1,"title":"Text","description":"Full document text"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id","description":"Session ID"}},"type":"object","required":["text"],"title":"ProgressionClosureRequest","description":"Request for Step 1.3: Progression & Closure Analysis\næ­¥éª¤ 1.3ï¼šæ¨è¿›æ¨¡å¼ä¸é—­åˆåˆ†æè¯·æ±‚"},"ProgressionClosureResponse":{"properties":{"progression_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Progression Score","description":"Progression predictability score (higher = more AI-like)"},"progression_type":{"$ref":"#/components/schemas/ProgressionType","description":"Detected progression type"},"monotonic_count":{"type":"integer","title":"Monotonic Count","description":"Number of monotonic markers found","default":0},"non_monotonic_count":{"type":"integer","title":"Non Monotonic Count","description":"Number of non-monotonic markers found","default":0},"sequential_markers_found":{"type":"integer","title":"Sequential Markers Found","description":"Number of sequential markers (First, Second, etc.)","default":0},"progression_markers":{"items":{"$ref":"#/components/schemas/ProgressionMarker"},"type":"array","title":"Progression Markers","description":"All progression markers found"},"closure_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Closure Score","description":"Closure strength score (higher = stronger = more AI-like)"},"closure_type":{"$ref":"#/components/schemas/ClosureType","description":"Detected closure type"},"strong_closure_patterns":{"items":{"type":"string"},"type":"array","title":"Strong Closure Patterns","description":"Strong closure patterns detected"},"weak_closure_patterns":{"items":{"type":"string"},"type":"array","title":"Weak Closure Patterns","description":"Weak/open closure patterns detected"},"last_paragraph_preview":{"type":"string","title":"Last Paragraph Preview","description":"Preview of last paragraph","default":""},"combined_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Combined Score","description":"Combined progression + closure score"},"risk_level":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__RiskLevel","description":"Overall risk level"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations","description":"English recommendations"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh","description":"Chinese recommendations"},"processing_time_ms":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Processing Time Ms","description":"Processing time in milliseconds"}},"type":"object","required":["progression_score","progression_type","closure_score","closure_type","combined_score","risk_level"],"title":"ProgressionClosureResponse","description":"Response for Step 1.3: Progression & Closure Analysis\næ­¥éª¤ 1.3ï¼šæ¨è¿›æ¨¡å¼ä¸é—­åˆåˆ†æå“åº”"},"ProgressionMarker":{"properties":{"paragraph_index":{"type":"integer","title":"Paragraph Index","description":"Paragraph index where marker was found"},"marker":{"type":"string","title":"Marker","description":"The marker text"},"category":{"type":"string","title":"Category","description":"Category: sequential, additive, causal, return, conditional, etc."},"is_monotonic":{"type":"boolean","title":"Is Monotonic","description":"Whether this is a monotonic (AI-like) marker"}},"type":"object","required":["paragraph_index","marker","category","is_monotonic"],"title":"ProgressionMarker","description":"Detected progression marker in the document\næ–‡æ¡£ä¸­æ£€æµ‹åˆ°çš„æ¨è¿›æ ‡è®°"},"ProgressionPatternInfo":{"properties":{"pattern_type":{"type":"string","title":"Pattern Type","description":"Type: sequential, parallel, comparative, etc.","default":""},"description":{"type":"string","title":"Description","default":""},"description_zh":{"type":"string","title":"Description Zh","default":""},"is_ai_typical":{"type":"boolean","title":"Is Ai Typical","default":false},"sections_involved":{"items":{"type":"integer"},"type":"array","title":"Sections Involved"}},"type":"object","title":"ProgressionPatternInfo","description":"Progression pattern analysis\næ¨è¿›æ¨¡å¼åˆ†æ"},"ProgressionType":{"type":"string","enum":["monotonic","non_monotonic","mixed","unknown"],"title":"ProgressionType","description":"Progression type classification"},"PronounReference":{"properties":{"pronoun":{"type":"string","title":"Pronoun"},"reference":{"type":"string","title":"Reference"},"reference_zh":{"type":"string","title":"Reference Zh"},"context":{"type":"string","title":"Context"}},"type":"object","required":["pronoun","reference","reference_zh","context"],"title":"PronounReference","description":"Pronoun reference information\nä»£è¯æŒ‡ä»£ä¿¡æ¯"},"QuoteResponse":{"properties":{"task_id":{"type":"string","title":"Task Id"},"word_count_raw":{"type":"integer","title":"Word Count Raw"},"word_count_billable":{"type":"integer","title":"Word Count Billable"},"billable_units":{"type":"integer","title":"Billable Units"},"calculated_price":{"type":"number","title":"Calculated Price"},"final_price":{"type":"number","title":"Final Price"},"is_minimum_charge":{"type":"boolean","title":"Is Minimum Charge"},"currency":{"type":"string","title":"Currency","default":"CNY"},"minimum_charge":{"type":"number","title":"Minimum Charge"},"is_debug_mode":{"type":"boolean","title":"Is Debug Mode"},"payment_required":{"type":"boolean","title":"Payment Required"}},"type":"object","required":["task_id","word_count_raw","word_count_billable","billable_units","calculated_price","final_price","is_minimum_charge","minimum_charge","is_debug_mode","payment_required"],"title":"QuoteResponse","description":"Price quote response æŠ¥ä»·å“åº”"},"RedundancyInfo":{"properties":{"section_a_index":{"type":"integer","title":"Section A Index"},"section_b_index":{"type":"integer","title":"Section B Index"},"redundant_content":{"type":"string","title":"Redundant Content","description":"The redundant content","default":""},"redundancy_type":{"type":"string","title":"Redundancy Type","description":"Type: repeated_point, overlapping_evidence, etc.","default":""},"severity":{"type":"string","title":"Severity","description":"Severity: low, medium, high","default":"low"}},"type":"object","required":["section_a_index","section_b_index"],"title":"RedundancyInfo","description":"Redundancy detection between sections\nç« èŠ‚é—´å†—ä½™æ£€æµ‹"},"RegisterRequest":{"properties":{"phone":{"type":"string","pattern":"^1[3-9]\\d{9}$","title":"Phone","description":"Phone number (æ‰‹æœºå·)"},"password":{"type":"string","maxLength":32,"minLength":6,"title":"Password","description":"Password (å¯†ç )"},"password_confirm":{"type":"string","maxLength":32,"minLength":6,"title":"Password Confirm","description":"Password confirmation (ç¡®è®¤å¯†ç )"},"email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email","description":"Email for password recovery (é‚®ç®±ï¼Œç”¨äºæ‰¾å›å¯†ç )"}},"type":"object","required":["phone","password","password_confirm"],"title":"RegisterRequest","description":"Request for user registration\nç”¨æˆ·æ³¨å†Œè¯·æ±‚"},"RegisterResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"type":"string","title":"Message"},"message_zh":{"type":"string","title":"Message Zh"},"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id"}},"type":"object","required":["success","message","message_zh"],"title":"RegisterResponse","description":"Response for registration æ³¨å†Œå“åº”"},"ReorderChange":{"properties":{"action":{"type":"string","title":"Action","description":"Action type: move","default":"move"},"paragraph_index":{"type":"integer","title":"Paragraph Index","description":"Original paragraph index"},"from_position":{"type":"integer","title":"From Position","description":"Original position in order"},"to_position":{"type":"integer","title":"To Position","description":"New position in order"},"paragraph_summary":{"type":"string","title":"Paragraph Summary","description":"Brief summary of the paragraph","default":""},"reason_zh":{"type":"string","title":"Reason Zh","description":"Chinese reason for this change"},"reason_en":{"type":"string","title":"Reason En","description":"English reason for this change","default":""}},"type":"object","required":["paragraph_index","from_position","to_position","reason_zh"],"title":"ReorderChange","description":"Single reorder change in paragraph reordering\næ®µè½é‡æ’ä¸­çš„å•ä¸ªå˜æ›´"},"ReorderSuggestionRequest":{"properties":{"documentId":{"type":"string","title":"Documentid","description":"Document ID"}},"type":"object","required":["documentId"],"title":"ReorderSuggestionRequest","description":"Request for paragraph reorder suggestion\næ®µè½é‡æ’å»ºè®®è¯·æ±‚"},"ReorderSuggestionResponse":{"properties":{"current_order":{"items":{"type":"integer"},"type":"array","title":"Current Order","description":"Current paragraph order (indices)"},"suggested_order":{"items":{"type":"integer"},"type":"array","title":"Suggested Order","description":"Suggested new order (indices)"},"changes":{"items":{"$ref":"#/components/schemas/ReorderChange"},"type":"array","title":"Changes","description":"List of specific changes","default":[]},"overall_guidance_zh":{"type":"string","title":"Overall Guidance Zh","description":"Overall Chinese guidance","default":""},"warnings_zh":{"items":{"type":"string"},"type":"array","title":"Warnings Zh","description":"Chinese warnings about the reorder","default":[]},"preview_flow_zh":{"type":"string","title":"Preview Flow Zh","description":"Preview of new structure flow","default":""},"estimated_improvement":{"type":"integer","title":"Estimated Improvement","description":"Estimated score improvement","default":0},"confidence":{"type":"number","title":"Confidence","description":"Confidence score 0-1","default":0.8}},"type":"object","required":["current_order","suggested_order"],"title":"ReorderSuggestionResponse","description":"Response containing paragraph reorder suggestion\nåŒ…å«æ®µè½é‡æ’å»ºè®®çš„å“åº”"},"ReplacementGenerationResponse":{"properties":{"risk_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Risk Score","description":"Risk score 0-100","default":0},"risk_level":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__RiskLevel","description":"Risk level","default":"low"},"issues":{"items":{"type":"object"},"type":"array","title":"Issues","description":"Detected issues"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations","description":"Recommendations (English)"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh","description":"Recommendations (Chinese)"},"processing_time_ms":{"type":"integer","title":"Processing Time Ms","description":"Processing time in milliseconds","default":0},"replacements":{"items":{"type":"object"},"type":"array","title":"Replacements"},"replacement_count":{"type":"integer","title":"Replacement Count","default":0}},"type":"object","title":"ReplacementGenerationResponse","description":"Response for replacement generation (Step 5.3)"},"ReplacementSuggestion":{"properties":{"original_connector":{"type":"string","title":"Original Connector"},"sentence_index":{"type":"integer","title":"Sentence Index"},"replacement_type":{"type":"string","title":"Replacement Type"},"new_text":{"type":"string","title":"New Text"},"explanation":{"type":"string","title":"Explanation"},"explanation_zh":{"type":"string","title":"Explanation Zh"}},"type":"object","required":["original_connector","sentence_index","replacement_type","new_text","explanation","explanation_zh"],"title":"ReplacementSuggestion","description":"A replacement suggestion for a connector.\nè¿æ¥è¯æ›¿æ¢å»ºè®®ã€‚"},"RestructureChange":{"properties":{"type":{"type":"string","title":"Type"},"description":{"type":"string","title":"Description"},"original":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Original"},"result":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Result"}},"type":"object","required":["type","description"],"title":"RestructureChange","description":"Model for a single restructuring change"},"RevenueDataPoint":{"properties":{"date":{"type":"string","title":"Date"},"revenue":{"type":"number","title":"Revenue"},"task_count":{"type":"integer","title":"Task Count"},"avg_price":{"type":"number","title":"Avg Price"}},"type":"object","required":["date","revenue","task_count","avg_price"],"title":"RevenueDataPoint","description":"Revenue data point è¥æ”¶æ•°æ®ç‚¹"},"RevenueStatsResponse":{"properties":{"period":{"type":"string","title":"Period","description":"Period type: daily/weekly/monthly"},"data":{"items":{"$ref":"#/components/schemas/RevenueDataPoint"},"type":"array","title":"Data","description":"Time series data | æ—¶é—´åºåˆ—æ•°æ®"},"total_revenue":{"type":"number","title":"Total Revenue","description":"Total revenue in period | æœŸé—´æ€»è¥æ”¶"},"total_tasks":{"type":"integer","title":"Total Tasks","description":"Total tasks in period | æœŸé—´æ€»ä»»åŠ¡æ•°"},"average_order_value":{"type":"number","title":"Average Order Value","description":"Average order value | å¹³å‡è®¢å•é‡‘é¢"},"growth_rate":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Growth Rate","description":"Growth rate vs previous period | ç¯æ¯”å¢é•¿ç‡"}},"type":"object","required":["period","data","total_revenue","total_tasks","average_order_value"],"title":"RevenueStatsResponse","description":"Revenue statistics response è¥æ”¶ç»Ÿè®¡å“åº”"},"RewriteContextRequest":{"properties":{"sentence_index":{"type":"integer","minimum":0.0,"title":"Sentence Index","description":"Global sentence index"},"paragraphs":{"items":{"type":"string"},"type":"array","minItems":1,"title":"Paragraphs","description":"All paragraphs"},"paragraph_roles":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Paragraph Roles","description":"Paragraph roles"},"sentence_roles":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Sentence Roles","description":"Sentence roles"}},"type":"object","required":["sentence_index","paragraphs"],"title":"RewriteContextRequest","description":"Request for getting rewrite context for a sentence\nè·å–å¥å­æ”¹å†™ä¸Šä¸‹æ–‡çš„è¯·æ±‚"},"RewriteContextResponse":{"properties":{"original_sentence":{"type":"string","title":"Original Sentence","description":"Original sentence to rewrite"},"full_paragraph":{"type":"string","title":"Full Paragraph","description":"Full paragraph for context"},"paragraph_role":{"type":"string","title":"Paragraph Role","description":"Role of the paragraph"},"sentence_role":{"type":"string","title":"Sentence Role","description":"Role of the sentence"},"position_info":{"type":"string","title":"Position Info","description":"Position info like '2/5' (sentence 2 of 5)"},"is_first_sentence":{"type":"boolean","title":"Is First Sentence","description":"Is first in paragraph"},"is_last_sentence":{"type":"boolean","title":"Is Last Sentence","description":"Is last in paragraph"},"previous_sentence":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Previous Sentence","description":"Previous sentence"},"next_sentence":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Next Sentence","description":"Next sentence"},"issues_to_fix":{"items":{"type":"string"},"type":"array","title":"Issues To Fix","description":"Issues to address"},"section_role":{"type":"string","title":"Section Role","description":"Role of containing section","default":"body"}},"type":"object","required":["original_sentence","full_paragraph","paragraph_role","sentence_role","position_info","is_first_sentence","is_last_sentence"],"title":"RewriteContextResponse","description":"Response with full context for rewriting\nåŒ…å«å®Œæ•´æ”¹å†™ä¸Šä¸‹æ–‡çš„å“åº”"},"RewriteRequest":{"properties":{"document_text":{"type":"string","title":"Document Text","description":"Full document text"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id","description":"Session ID for locked terms"},"colloquialism_level":{"type":"integer","maximum":10.0,"minimum":0.0,"title":"Colloquialism Level","default":4},"paragraph_indices":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Paragraph Indices","description":"Specific paragraphs to rewrite"}},"type":"object","required":["document_text"],"title":"RewriteRequest","description":"Request for Step 5.4 LLM Rewriting"},"RewriteSuggestion":{"properties":{"type":{"type":"string","title":"Type"},"type_zh":{"type":"string","title":"Type Zh"},"description":{"type":"string","title":"Description"},"description_zh":{"type":"string","title":"Description Zh"},"example":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Example"}},"type":"object","required":["type","type_zh","description","description_zh"],"title":"RewriteSuggestion","description":"Sentence rewrite suggestion\nå¥å¼æ”¹å†™å»ºè®®"},"RiskArea":{"properties":{"paragraph":{"type":"integer","title":"Paragraph"},"risk_level":{"type":"string","title":"Risk Level"},"reason":{"type":"string","title":"Reason"},"reason_zh":{"type":"string","title":"Reason Zh"}},"type":"object","required":["paragraph","risk_level","reason","reason_zh"],"title":"RiskArea","description":"Risk area in document structure\næ–‡æ¡£ç»“æ„ä¸­çš„é£é™©åŒºåŸŸ"},"RiskCardRequest":{"properties":{"text":{"type":"string","title":"Text","description":"Full document text to analyze"}},"type":"object","required":["text"],"title":"RiskCardRequest","description":"Request for structural risk card analysis\nç»“æ„é£é™©å¡ç‰‡åˆ†æè¯·æ±‚"},"SectionAnalysisRequest":{"properties":{"text":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"Text","description":"Raw text to analyze (will be split into paragraphs)"},"paragraphs":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Paragraphs","description":"List of paragraphs (alternative to text)"},"document_context":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Document Context","description":"Context from Layer 5"}},"type":"object","title":"SectionAnalysisRequest","description":"Request for Layer 4: Section analysis\nç¬¬4å±‚ç« èŠ‚åˆ†æè¯·æ±‚\n\nAccepts either raw text or pre-split paragraphs.\næ¥å—åŸå§‹æ–‡æœ¬æˆ–å·²åˆ†å‰²çš„æ®µè½åˆ—è¡¨ã€‚"},"SectionAnalysisResponse":{"properties":{"layer":{"$ref":"#/components/schemas/LayerLevel","default":"section"},"risk_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Risk Score","description":"Risk score 0-100"},"risk_level":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__RiskLevel"},"issues":{"items":{"$ref":"#/components/schemas/DetectionIssue"},"type":"array","title":"Issues","description":"Detected issues"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations","description":"English recommendations"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh","description":"Chinese recommendations"},"details":{"type":"object","title":"Details","description":"Layer-specific details"},"processing_time_ms":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Processing Time Ms","description":"Processing time in milliseconds"},"section_details":{"items":{"type":"object"},"type":"array","title":"Section Details","description":"Detected sections with details"},"section_count":{"type":"integer","title":"Section Count","description":"Number of sections","default":0},"logic_flow_score":{"type":"integer","title":"Logic Flow Score","description":"Logic flow score","default":0},"transition_quality":{"type":"integer","title":"Transition Quality","description":"Transition quality score","default":0},"logic_flow":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Logic Flow","description":"Section logic flow analysis"},"transitions":{"items":{"type":"object"},"type":"array","title":"Transitions","description":"Section transitions"},"length_distribution":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Length Distribution","description":"Length distribution analysis"}},"type":"object","required":["risk_score","risk_level"],"title":"SectionAnalysisResponse","description":"Response for Layer 4: Section analysis\nç¬¬4å±‚ç« èŠ‚åˆ†æå“åº”"},"SectionIdentificationRequest":{"properties":{"text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Text","description":"Full document text"},"paragraphs":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Paragraphs","description":"Pre-split paragraphs"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id","description":"Session ID"}},"type":"object","title":"SectionIdentificationRequest","description":"Request for Step 2.0: Section Identification\næ­¥éª¤ 2.0ï¼šç« èŠ‚è¯†åˆ«è¯·æ±‚"},"SectionIdentificationResponse":{"properties":{"section_count":{"type":"integer","title":"Section Count","description":"Number of detected sections"},"sections":{"items":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__SectionInfo"},"type":"array","title":"Sections","description":"Detected sections"},"total_paragraphs":{"type":"integer","title":"Total Paragraphs","description":"Total number of paragraphs","default":0},"total_words":{"type":"integer","title":"Total Words","description":"Total word count","default":0},"role_distribution":{"additionalProperties":{"type":"integer"},"type":"object","title":"Role Distribution","description":"Count of each role"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh"},"processing_time_ms":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Processing Time Ms"}},"type":"object","required":["section_count"],"title":"SectionIdentificationResponse","description":"Response for Step 2.0: Section Identification\næ­¥éª¤ 2.0ï¼šç« èŠ‚è¯†åˆ«å“åº”"},"SectionIdentifyRequest":{"properties":{"text":{"type":"string","minLength":10,"title":"Text","description":"Document text to analyze"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id","description":"Session ID for context tracking"},"locked_terms":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Locked Terms","description":"Terms locked in Step 1.0"}},"type":"object","required":["text"],"title":"SectionIdentifyRequest","description":"Request for section identification"},"SectionIdentifyResponse":{"properties":{"risk_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Risk Score","description":"Risk score 0-100","default":0},"risk_level":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__RiskLevel","description":"Risk level","default":"low"},"issues":{"items":{"type":"object"},"type":"array","title":"Issues","description":"Detected issues"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations","description":"Recommendations (English)"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh","description":"Recommendations (Chinese)"},"processing_time_ms":{"type":"integer","title":"Processing Time Ms","description":"Processing time in milliseconds","default":0},"sections":{"items":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__SectionInfo"},"type":"array","title":"Sections"},"section_boundaries":{"items":{"type":"integer"},"type":"array","title":"Section Boundaries"},"total_sections":{"type":"integer","title":"Total Sections","default":0},"total_paragraphs":{"type":"integer","title":"Total Paragraphs","default":0}},"type":"object","title":"SectionIdentifyResponse","description":"Response for section identification (Step 2.0)"},"SectionInternalStructure":{"properties":{"section_index":{"type":"integer","title":"Section Index"},"section_role":{"type":"string","title":"Section Role"},"paragraph_functions":{"items":{"$ref":"#/components/schemas/ParagraphFunctionInfo"},"type":"array","title":"Paragraph Functions"},"function_sequence":{"items":{"type":"string"},"type":"array","title":"Function Sequence","description":"Sequence of function labels"},"heading_depth":{"type":"integer","title":"Heading Depth","description":"Maximum heading depth in section","default":0},"has_subheadings":{"type":"boolean","title":"Has Subheadings","default":false},"argument_count":{"type":"integer","title":"Argument Count","description":"Number of argument markers detected","default":0},"argument_density":{"type":"number","title":"Argument Density","description":"Arguments per 100 words","default":0.0}},"type":"object","required":["section_index","section_role"],"title":"SectionInternalStructure","description":"Internal structure analysis for a single section\nå•ä¸ªç« èŠ‚çš„å†…éƒ¨ç»“æ„åˆ†æ"},"SectionLengthInfo":{"properties":{"index":{"type":"integer","title":"Index","description":"Section index"},"role":{"type":"string","title":"Role","description":"Section role"},"word_count":{"type":"integer","title":"Word Count","default":0},"paragraph_count":{"type":"integer","title":"Paragraph Count","default":0},"deviation_from_mean":{"type":"number","title":"Deviation From Mean","description":"Deviation from mean in stddev units","default":0.0},"is_extreme":{"type":"boolean","title":"Is Extreme","description":"True if extremely long or short","default":false},"expected_weight":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Expected Weight","description":"Expected proportion for this role"},"actual_weight":{"type":"number","title":"Actual Weight","description":"Actual proportion of total","default":0.0},"weight_deviation":{"type":"number","title":"Weight Deviation","description":"Difference from expected","default":0.0}},"type":"object","required":["index","role"],"title":"SectionLengthInfo","description":"Length information for a single section\nå•ä¸ªç« èŠ‚çš„é•¿åº¦ä¿¡æ¯"},"SectionLengthRequest":{"properties":{"text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Text"},"paragraphs":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Paragraphs"},"sections":{"anyOf":[{"items":{"type":"object"},"type":"array"},{"type":"null"}],"title":"Sections"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id"}},"type":"object","title":"SectionLengthRequest","description":"Request for Step 2.2: Section Length Distribution\næ­¥éª¤ 2.2ï¼šç« èŠ‚é•¿åº¦åˆ†å¸ƒè¯·æ±‚"},"SectionOrderAnalysis":{"properties":{"detected_order":{"items":{"type":"string"},"type":"array","title":"Detected Order","description":"Detected section order"},"expected_order":{"items":{"type":"string"},"type":"array","title":"Expected Order","description":"Expected academic order"},"order_match_score":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Order Match Score","description":"How well order matches template","default":0.0},"is_predictable":{"type":"boolean","title":"Is Predictable","description":"True if order is highly predictable (AI-like)","default":false},"missing_sections":{"items":{"type":"string"},"type":"array","title":"Missing Sections","description":"Missing critical sections"},"unexpected_sections":{"items":{"type":"string"},"type":"array","title":"Unexpected Sections","description":"Unexpected section positions"},"fusion_score":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Fusion Score","description":"Section function purity","default":0.0},"multi_function_sections":{"items":{"type":"integer"},"type":"array","title":"Multi Function Sections","description":"Indices of multi-function sections"}},"type":"object","title":"SectionOrderAnalysis","description":"Analysis of section order and structure\nç« èŠ‚é¡ºåºä¸ç»“æ„åˆ†æ"},"SectionOrderRequest":{"properties":{"text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Text","description":"Full document text"},"paragraphs":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Paragraphs","description":"Pre-split paragraphs"},"sections":{"anyOf":[{"items":{"type":"object"},"type":"array"},{"type":"null"}],"title":"Sections","description":"Pre-identified sections from Step 2.0"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id","description":"Session ID"}},"type":"object","title":"SectionOrderRequest","description":"Request for Step 2.1: Section Order & Structure\næ­¥éª¤ 2.1ï¼šç« èŠ‚é¡ºåºä¸ç»“æ„è¯·æ±‚"},"SectionSuggestion":{"properties":{"section_number":{"type":"string","title":"Section Number"},"section_title":{"type":"string","title":"Section Title"},"severity":{"type":"string","title":"Severity"},"suggestion_type":{"type":"string","title":"Suggestion Type"},"suggestion_zh":{"type":"string","title":"Suggestion Zh"},"suggestion_en":{"type":"string","title":"Suggestion En"},"details":{"items":{"type":"string"},"type":"array","title":"Details","default":[]},"affected_paragraphs":{"items":{"type":"string"},"type":"array","title":"Affected Paragraphs","default":[]}},"type":"object","required":["section_number","section_title","severity","suggestion_type","suggestion_zh","suggestion_en"],"title":"SectionSuggestion","description":"Detailed suggestion for a specific section/chapter\né’ˆå¯¹ç‰¹å®šç« èŠ‚çš„è¯¦ç»†å»ºè®®"},"SectionTransitionInfo":{"properties":{"from_section_index":{"type":"integer","title":"From Section Index"},"to_section_index":{"type":"integer","title":"To Section Index"},"from_section_role":{"type":"string","title":"From Section Role"},"to_section_role":{"type":"string","title":"To Section Role"},"has_explicit_transition":{"type":"boolean","title":"Has Explicit Transition","description":"Has explicit transition words","default":false},"explicit_words":{"items":{"type":"string"},"type":"array","title":"Explicit Words","description":"Explicit transition words found"},"transition_strength":{"type":"string","title":"Transition Strength","default":"none"},"semantic_echo_score":{"type":"number","maximum":100.0,"minimum":0.0,"title":"Semantic Echo Score","description":"Keyword echo between sections","default":0.0},"echoed_keywords":{"items":{"type":"string"},"type":"array","title":"Echoed Keywords"},"opener_text":{"type":"string","title":"Opener Text","description":"First sentence of target section","default":""},"opener_pattern":{"type":"string","title":"Opener Pattern","description":"Detected opener pattern type","default":""},"is_formulaic_opener":{"type":"boolean","title":"Is Formulaic Opener","description":"True if opener is formulaic (AI-like)","default":false},"transition_risk_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Transition Risk Score","default":0}},"type":"object","required":["from_section_index","to_section_index","from_section_role","to_section_role"],"title":"SectionTransitionInfo","description":"Transition analysis between two sections\nä¸¤ä¸ªç« èŠ‚ä¹‹é—´çš„è¿‡æ¸¡åˆ†æ"},"SectionTransitionRequest":{"properties":{"text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Text"},"paragraphs":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Paragraphs"},"sections":{"anyOf":[{"items":{"type":"object"},"type":"array"},{"type":"null"}],"title":"Sections"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id"}},"type":"object","title":"SectionTransitionRequest","description":"Request for Step 2.4: Section Transition\næ­¥éª¤ 2.4ï¼šç« èŠ‚è¡”æ¥ä¸è¿‡æ¸¡è¯·æ±‚"},"SectionUniformityResponse":{"properties":{"risk_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Risk Score","description":"Risk score 0-100","default":0},"risk_level":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__RiskLevel","description":"Risk level","default":"low"},"issues":{"items":{"type":"object"},"type":"array","title":"Issues","description":"Detected issues"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations","description":"Recommendations (English)"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh","description":"Recommendations (Chinese)"},"processing_time_ms":{"type":"integer","title":"Processing Time Ms","description":"Processing time in milliseconds","default":0},"paragraph_count":{"type":"integer","title":"Paragraph Count","description":"Total paragraph count","default":0},"mean_length":{"type":"number","title":"Mean Length","description":"Mean paragraph length in words","default":0},"stdev_length":{"type":"number","title":"Stdev Length","description":"Standard deviation of lengths","default":0},"cv":{"type":"number","title":"Cv","description":"Coefficient of variation","default":0},"target_cv":{"type":"number","title":"Target Cv","description":"Target CV for human-like writing","default":0.4},"paragraphs":{"items":{"type":"object"},"type":"array","title":"Paragraphs","description":"Paragraph info"}},"type":"object","title":"SectionUniformityResponse","description":"Response for section uniformity analysis (Step 1.2)"},"SelectedStrategy":{"properties":{"strategyType":{"type":"string","title":"Strategytype","description":"merge|expand|split"},"targetPositions":{"items":{"type":"string"},"type":"array","title":"Targetpositions","description":"Affected paragraph positions"},"expandText":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Expandtext","description":"User-provided text for expand strategy"}},"type":"object","required":["strategyType","targetPositions"],"title":"SelectedStrategy","description":"User-selected strategy with optional expand text\nç”¨æˆ·é€‰æ‹©çš„ç­–ç•¥ï¼ˆå¯é€‰æ‰©å±•æ–‡æœ¬ï¼‰"},"SentenceAnalysis":{"properties":{"id":{"type":"string","title":"Id"},"index":{"type":"integer","title":"Index"},"text":{"type":"string","title":"Text"},"risk_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Risk Score"},"risk_level":{"$ref":"#/components/schemas/src__api__schemas__RiskLevel"},"ppl":{"type":"number","title":"Ppl"},"ppl_risk":{"$ref":"#/components/schemas/src__api__schemas__RiskLevel"},"fingerprints":{"items":{"$ref":"#/components/schemas/FingerprintMatch"},"type":"array","title":"Fingerprints","default":[]},"fingerprint_density":{"type":"number","title":"Fingerprint Density"},"issues":{"items":{"$ref":"#/components/schemas/IssueDetail"},"type":"array","title":"Issues","default":[]},"turnitin_view":{"anyOf":[{"$ref":"#/components/schemas/DetectorView"},{"type":"null"}]},"gptzero_view":{"anyOf":[{"$ref":"#/components/schemas/DetectorView"},{"type":"null"}]},"locked_terms":{"items":{"type":"string"},"type":"array","title":"Locked Terms","default":[]},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"},"new_risk_score":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"New Risk Score"},"new_risk_level":{"anyOf":[{"$ref":"#/components/schemas/src__api__schemas__RiskLevel"},{"type":"null"}]},"burstiness_value":{"type":"number","title":"Burstiness Value","default":0.0},"burstiness_risk":{"type":"string","title":"Burstiness Risk","default":"unknown"},"connector_count":{"type":"integer","title":"Connector Count","default":0},"connector_word":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Connector Word"},"context_baseline":{"type":"integer","title":"Context Baseline","default":0},"paragraph_index":{"type":"integer","title":"Paragraph Index","default":0},"is_paraphrase":{"type":"boolean","title":"Is Paraphrase","default":false}},"type":"object","required":["id","index","text","risk_score","risk_level","ppl","ppl_risk","fingerprint_density"],"title":"SentenceAnalysis","description":"Complete sentence analysis result\nå®Œæ•´çš„å¥å­åˆ†æç»“æœ"},"SentenceConnectorResponse":{"properties":{"risk_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Risk Score","description":"Risk score 0-100","default":0},"risk_level":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__RiskLevel","description":"Risk level","default":"low"},"issues":{"items":{"type":"object"},"type":"array","title":"Issues","description":"Detected issues"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations","description":"Recommendations (English)"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh","description":"Recommendations (Chinese)"},"processing_time_ms":{"type":"integer","title":"Processing Time Ms","description":"Processing time in milliseconds","default":0},"connector_sentences":{"items":{"type":"object"},"type":"array","title":"Connector Sentences"},"connector_types":{"additionalProperties":{"type":"integer"},"type":"object","title":"Connector Types"},"connector_density":{"type":"number","title":"Connector Density","default":0}},"type":"object","title":"SentenceConnectorResponse","description":"Response for sentence connector analysis (Step 4.3)"},"SentenceContextResponse":{"properties":{"risk_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Risk Score","description":"Risk score 0-100","default":0},"risk_level":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__RiskLevel","description":"Risk level","default":"low"},"issues":{"items":{"type":"object"},"type":"array","title":"Issues","description":"Detected issues"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations","description":"Recommendations (English)"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh","description":"Recommendations (Chinese)"},"processing_time_ms":{"type":"integer","title":"Processing Time Ms","description":"Processing time in milliseconds","default":0},"sentences":{"items":{"type":"object"},"type":"array","title":"Sentences"},"sentence_count":{"type":"integer","title":"Sentence Count","default":0},"paragraph_context":{"items":{"type":"object"},"type":"array","title":"Paragraph Context"}},"type":"object","title":"SentenceContextResponse","description":"Response for sentence context preparation (Step 4.0)"},"SentenceIdentificationRequest":{"properties":{"text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Text"},"paragraphs":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Paragraphs"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id"},"paragraph_context":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Paragraph Context"}},"type":"object","title":"SentenceIdentificationRequest","description":"Request for sentence identification (Step 4.0).\nå¥å­è¯†åˆ«è¯·æ±‚ï¼ˆæ­¥éª¤4.0ï¼‰ã€‚"},"SentenceIdentificationResponse":{"properties":{"sentences":{"items":{"$ref":"#/components/schemas/SentenceInfo"},"type":"array","title":"Sentences"},"sentence_count":{"type":"integer","title":"Sentence Count"},"paragraph_sentence_map":{"additionalProperties":{"items":{"type":"integer"},"type":"array"},"type":"object","title":"Paragraph Sentence Map"},"type_distribution":{"additionalProperties":{"type":"integer"},"type":"object","title":"Type Distribution"},"risk_level":{"type":"string","title":"Risk Level"},"risk_score":{"type":"integer","title":"Risk Score"},"issues":{"items":{"type":"object"},"type":"array","title":"Issues","default":[]},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh"},"processing_time_ms":{"type":"integer","title":"Processing Time Ms"}},"type":"object","required":["sentences","sentence_count","paragraph_sentence_map","type_distribution","risk_level","risk_score","recommendations","recommendations_zh","processing_time_ms"],"title":"SentenceIdentificationResponse","description":"Response for sentence identification (Step 4.0).\nå¥å­è¯†åˆ«å“åº”ï¼ˆæ­¥éª¤4.0ï¼‰ã€‚"},"SentenceInfo":{"properties":{"index":{"type":"integer","title":"Index"},"text":{"type":"string","title":"Text"},"paragraph_index":{"type":"integer","title":"Paragraph Index"},"word_count":{"type":"integer","title":"Word Count"},"sentence_type":{"type":"string","title":"Sentence Type","default":"simple"},"function_role":{"type":"string","title":"Function Role","default":"body"},"has_subordinate":{"type":"boolean","title":"Has Subordinate","default":false},"clause_depth":{"type":"integer","title":"Clause Depth","default":0},"voice":{"type":"string","title":"Voice","default":"active"},"opener_word":{"type":"string","title":"Opener Word","default":""}},"type":"object","required":["index","text","paragraph_index","word_count"],"title":"SentenceInfo","description":"Information about a single sentence.\nå•ä¸ªå¥å­çš„ä¿¡æ¯ã€‚"},"SentenceLengthDistributionResponse":{"properties":{"risk_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Risk Score","description":"Risk score 0-100","default":0},"risk_level":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__RiskLevel","description":"Risk level","default":"low"},"issues":{"items":{"type":"object"},"type":"array","title":"Issues","description":"Detected issues"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations","description":"Recommendations (English)"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh","description":"Recommendations (Chinese)"},"processing_time_ms":{"type":"integer","title":"Processing Time Ms","description":"Processing time in milliseconds","default":0},"paragraph_lengths":{"items":{"$ref":"#/components/schemas/ParagraphSentenceLengthInfo"},"type":"array","title":"Paragraph Lengths"},"low_burstiness_paragraphs":{"items":{"type":"integer"},"type":"array","title":"Low Burstiness Paragraphs"},"overall_cv":{"type":"number","title":"Overall Cv","default":0}},"type":"object","title":"SentenceLengthDistributionResponse","description":"Response for sentence length distribution (Step 3.4)"},"SentenceLengthDiversityResponse":{"properties":{"risk_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Risk Score","description":"Risk score 0-100","default":0},"risk_level":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__RiskLevel","description":"Risk level","default":"low"},"issues":{"items":{"type":"object"},"type":"array","title":"Issues","description":"Detected issues"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations","description":"Recommendations (English)"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh","description":"Recommendations (Chinese)"},"processing_time_ms":{"type":"integer","title":"Processing Time Ms","description":"Processing time in milliseconds","default":0},"sentences":{"items":{"type":"object"},"type":"array","title":"Sentences"},"cv":{"type":"number","title":"Cv","default":0},"burstiness":{"type":"number","title":"Burstiness","default":0},"target_cv":{"type":"number","title":"Target Cv","default":0.4}},"type":"object","title":"SentenceLengthDiversityResponse","description":"Response for sentence length diversity (Step 4.4)"},"SentencePatternResponse":{"properties":{"risk_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Risk Score","description":"Risk score 0-100","default":0},"risk_level":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__RiskLevel","description":"Risk level","default":"low"},"issues":{"items":{"type":"object"},"type":"array","title":"Issues","description":"Detected issues"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations","description":"Recommendations (English)"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh","description":"Recommendations (Chinese)"},"processing_time_ms":{"type":"integer","title":"Processing Time Ms","description":"Processing time in milliseconds","default":0},"patterns_detected":{"items":{"type":"object"},"type":"array","title":"Patterns Detected"},"pattern_counts":{"type":"object","title":"Pattern Counts"},"syntactic_voids":{"items":{"type":"object"},"type":"array","title":"Syntactic Voids","description":"Detected syntactic void patterns"},"void_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Void Score","description":"Overall void score 0-100","default":0},"void_density":{"type":"number","title":"Void Density","description":"Voids per 100 words","default":0},"has_critical_void":{"type":"boolean","title":"Has Critical Void","description":"Has high-severity void patterns","default":false}},"type":"object","title":"SentencePatternResponse","description":"Response for sentence pattern detection (Step 4.1)"},"SentenceRewriteResponse":{"properties":{"risk_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Risk Score","description":"Risk score 0-100","default":0},"risk_level":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__RiskLevel","description":"Risk level","default":"low"},"issues":{"items":{"type":"object"},"type":"array","title":"Issues","description":"Detected issues"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations","description":"Recommendations (English)"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh","description":"Recommendations (Chinese)"},"processing_time_ms":{"type":"integer","title":"Processing Time Ms","description":"Processing time in milliseconds","default":0},"original_sentences":{"items":{"type":"string"},"type":"array","title":"Original Sentences"},"rewritten_sentences":{"items":{"type":"string"},"type":"array","title":"Rewritten Sentences"},"changes":{"items":{"type":"object"},"type":"array","title":"Changes"}},"type":"object","title":"SentenceRewriteResponse","description":"Response for sentence rewriting (Step 4.5)"},"SentenceRoleItem":{"properties":{"index":{"type":"integer","title":"Index"},"role":{"type":"string","title":"Role"},"roleZh":{"type":"string","title":"Rolezh"},"confidence":{"type":"number","title":"Confidence"},"brief":{"type":"string","title":"Brief"}},"type":"object","required":["index","role","roleZh","confidence","brief"],"title":"SentenceRoleItem","description":"Response model for a single sentence role"},"SentenceWithContext":{"properties":{"sentence_text":{"type":"string","title":"Sentence Text","description":"The sentence text"},"sentence_index":{"type":"integer","title":"Sentence Index","description":"Global sentence index"},"paragraph_text":{"type":"string","title":"Paragraph Text","description":"Full paragraph containing this sentence"},"paragraph_index":{"type":"integer","title":"Paragraph Index","description":"Index of containing paragraph"},"paragraph_role":{"type":"string","title":"Paragraph Role","description":"Role of the paragraph","default":"body"},"position_in_paragraph":{"type":"integer","title":"Position In Paragraph","description":"Position within paragraph"},"is_first":{"type":"boolean","title":"Is First","description":"Is first sentence in paragraph","default":false},"is_last":{"type":"boolean","title":"Is Last","description":"Is last sentence in paragraph","default":false},"previous_sentence":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Previous Sentence","description":"Previous sentence for coherence"},"next_sentence":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Next Sentence","description":"Next sentence for coherence"},"sentence_role":{"type":"string","title":"Sentence Role","description":"Detected role of this sentence","default":"unknown"},"has_issues":{"type":"boolean","title":"Has Issues","description":"Whether flagged for rewriting","default":false},"issue_types":{"items":{"type":"string"},"type":"array","title":"Issue Types","description":"Types of issues detected"}},"type":"object","required":["sentence_text","sentence_index","paragraph_text","paragraph_index","position_in_paragraph"],"title":"SentenceWithContext","description":"Sentence with paragraph context for rewriting\nå¸¦æ®µè½ä¸Šä¸‹æ–‡çš„å¥å­ï¼ˆç”¨äºæ”¹å†™ï¼‰"},"SessionInfo":{"properties":{"session_id":{"type":"string","title":"Session Id"},"document_id":{"type":"string","title":"Document Id"},"document_name":{"type":"string","title":"Document Name"},"mode":{"$ref":"#/components/schemas/ProcessMode"},"status":{"type":"string","title":"Status"},"current_step":{"type":"string","title":"Current Step","default":"step1-1"},"total_sentences":{"type":"integer","title":"Total Sentences"},"processed":{"type":"integer","title":"Processed"},"progress_percent":{"type":"number","title":"Progress Percent"},"colloquialism_level":{"type":"integer","title":"Colloquialism Level","default":4},"created_at":{"type":"string","format":"date-time","title":"Created At"},"completed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Completed At"},"step_logs":{"items":{"type":"object"},"type":"array","title":"Step Logs","default":[]}},"type":"object","required":["session_id","document_id","document_name","mode","status","total_sentences","processed","progress_percent","created_at"],"title":"SessionInfo","description":"Session summary info for listing\nç”¨äºåˆ—è¡¨çš„ä¼šè¯æ‘˜è¦ä¿¡æ¯"},"SessionStartRequest":{"properties":{"document_id":{"type":"string","title":"Document Id","description":"Document ID to process"},"mode":{"$ref":"#/components/schemas/ProcessMode","description":"Processing mode","default":"intervention"},"colloquialism_level":{"type":"integer","maximum":10.0,"minimum":0.0,"title":"Colloquialism Level","description":"Colloquialism level","default":4},"target_lang":{"type":"string","title":"Target Lang","description":"Target language","default":"zh"},"process_levels":{"items":{"$ref":"#/components/schemas/src__api__schemas__RiskLevel"},"type":"array","title":"Process Levels","description":"Risk levels to process","default":["high","medium"]}},"type":"object","required":["document_id"],"title":"SessionStartRequest","description":"Session start request\nä¼šè¯å¯åŠ¨è¯·æ±‚"},"SessionState":{"properties":{"session_id":{"type":"string","title":"Session Id"},"document_id":{"type":"string","title":"Document Id"},"mode":{"$ref":"#/components/schemas/ProcessMode"},"total_sentences":{"type":"integer","title":"Total Sentences"},"processed":{"type":"integer","title":"Processed"},"skipped":{"type":"integer","title":"Skipped"},"flagged":{"type":"integer","title":"Flagged"},"current_index":{"type":"integer","title":"Current Index"},"current_sentence":{"anyOf":[{"$ref":"#/components/schemas/SentenceAnalysis"},{"type":"null"}]},"suggestions":{"anyOf":[{"$ref":"#/components/schemas/SuggestResponse"},{"type":"null"}]},"progress_percent":{"type":"number","title":"Progress Percent"},"status":{"type":"string","title":"Status","default":"active"},"step_logs":{"items":{"type":"object"},"type":"array","title":"Step Logs","default":[]}},"type":"object","required":["session_id","document_id","mode","total_sentences","processed","skipped","flagged","current_index","progress_percent"],"title":"SessionState","description":"Current session state\nå½“å‰ä¼šè¯çŠ¶æ€"},"SmartParagraphInfo":{"properties":{"position":{"type":"string","title":"Position"},"summary":{"type":"string","title":"Summary"},"summary_zh":{"type":"string","title":"Summary Zh"},"first_sentence":{"type":"string","title":"First Sentence"},"last_sentence":{"type":"string","title":"Last Sentence"},"word_count":{"type":"integer","title":"Word Count"},"ai_risk":{"type":"string","title":"Ai Risk"},"ai_risk_reason":{"type":"string","title":"Ai Risk Reason"},"rewrite_suggestion_zh":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rewrite Suggestion Zh"},"rewrite_example":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rewrite Example"}},"type":"object","required":["position","summary","summary_zh","first_sentence","last_sentence","word_count","ai_risk","ai_risk_reason"],"title":"SmartParagraphInfo","description":"Smart paragraph info from LLM analysis\næ¥è‡ª LLM åˆ†æçš„æ™ºèƒ½æ®µè½ä¿¡æ¯"},"SmartStructureIssue":{"properties":{"type":{"type":"string","title":"Type"},"description":{"type":"string","title":"Description"},"description_zh":{"type":"string","title":"Description Zh"},"severity":{"type":"string","title":"Severity"},"affected_positions":{"items":{"type":"string"},"type":"array","title":"Affected Positions","default":[]}},"type":"object","required":["type","description","description_zh","severity"],"title":"SmartStructureIssue","description":"Structure issue from smart analysis\næ™ºèƒ½åˆ†æçš„ç»“æ„é—®é¢˜"},"SmartStructureResponse":{"properties":{"sections":{"items":{"$ref":"#/components/schemas/src__api__schemas__SectionInfo"},"type":"array","title":"Sections","default":[]},"total_paragraphs":{"type":"integer","title":"Total Paragraphs"},"total_sections":{"type":"integer","title":"Total Sections"},"structure_score":{"type":"integer","title":"Structure Score"},"risk_level":{"type":"string","title":"Risk Level"},"issues":{"items":{"$ref":"#/components/schemas/SmartStructureIssue"},"type":"array","title":"Issues","default":[]},"score_breakdown":{"additionalProperties":{"type":"integer"},"type":"object","title":"Score Breakdown","default":{}},"recommendation":{"type":"string","title":"Recommendation","default":""},"recommendation_zh":{"type":"string","title":"Recommendation Zh","default":""},"detailed_suggestions":{"anyOf":[{"$ref":"#/components/schemas/DetailedImprovementSuggestions"},{"type":"null"}]},"explicit_connectors":{"items":{"$ref":"#/components/schemas/ExplicitConnector"},"type":"array","title":"Explicit Connectors","default":[]},"logic_breaks":{"items":{"$ref":"#/components/schemas/LogicBreak"},"type":"array","title":"Logic Breaks","default":[]},"paragraphs":{"items":{"$ref":"#/components/schemas/ParagraphInfo"},"type":"array","title":"Paragraphs","default":[]},"has_linear_flow":{"type":"boolean","title":"Has Linear Flow","default":false},"has_repetitive_pattern":{"type":"boolean","title":"Has Repetitive Pattern","default":false},"has_uniform_length":{"type":"boolean","title":"Has Uniform Length","default":false},"has_predictable_order":{"type":"boolean","title":"Has Predictable Order","default":false},"options":{"items":{"$ref":"#/components/schemas/StructureOption"},"type":"array","title":"Options","default":[]}},"type":"object","required":["total_paragraphs","total_sections","structure_score","risk_level"],"title":"SmartStructureResponse","description":"Response from smart structure analysis\næ™ºèƒ½ç»“æ„åˆ†æå“åº”"},"StrategyInfoResponse":{"properties":{"strategies":{"items":{"type":"object"},"type":"array","title":"Strategies"}},"type":"object","required":["strategies"],"title":"StrategyInfoResponse","description":"Response model for strategy information"},"StructuralIndicatorResponse":{"properties":{"id":{"type":"string","title":"Id"},"name":{"type":"string","title":"Name"},"name_zh":{"type":"string","title":"Name Zh"},"triggered":{"type":"boolean","title":"Triggered"},"risk_level":{"type":"integer","title":"Risk Level"},"emoji":{"type":"string","title":"Emoji"},"color":{"type":"string","title":"Color"},"description":{"type":"string","title":"Description"},"description_zh":{"type":"string","title":"Description Zh"},"details":{"type":"string","title":"Details","default":""},"details_zh":{"type":"string","title":"Details Zh","default":""}},"type":"object","required":["id","name","name_zh","triggered","risk_level","emoji","color","description","description_zh"],"title":"StructuralIndicatorResponse","description":"Single structural AI indicator for risk card visualization\nç”¨äºé£é™©å¡ç‰‡å¯è§†åŒ–çš„å•ä¸ªç»“æ„AIæŒ‡å¾"},"StructuralRiskCardResponse":{"properties":{"indicators":{"items":{"$ref":"#/components/schemas/StructuralIndicatorResponse"},"type":"array","title":"Indicators"},"triggered_count":{"type":"integer","title":"Triggered Count"},"overall_risk":{"type":"string","title":"Overall Risk"},"overall_risk_zh":{"type":"string","title":"Overall Risk Zh"},"summary":{"type":"string","title":"Summary"},"summary_zh":{"type":"string","title":"Summary Zh"},"total_score":{"type":"integer","title":"Total Score"}},"type":"object","required":["indicators","triggered_count","overall_risk","overall_risk_zh","summary","summary_zh","total_score"],"title":"StructuralRiskCardResponse","description":"7-Indicator Structural Risk Card for user visualization\n7æŒ‡å¾ç»“æ„é£é™©å¡ç‰‡ç”¨äºç”¨æˆ·å¯è§†åŒ–\n\nProvides at-a-glance view of AI structural patterns with:\n- 7 indicators with emoji and color coding\n- Triggered count and overall risk level\n- One-line summary with emoji"},"StructureAnalysisRequest":{"properties":{"text":{"type":"string","title":"Text","description":"Full document text to analyze"},"extract_thesis":{"type":"boolean","title":"Extract Thesis","description":"Whether to extract core thesis","default":true}},"type":"object","required":["text"],"title":"StructureAnalysisRequest","description":"Request for structure analysis\nç»“æ„åˆ†æè¯·æ±‚"},"StructureChange":{"properties":{"type":{"type":"string","title":"Type"},"affected_paragraphs":{"items":{"type":"integer"},"type":"array","title":"Affected Paragraphs","default":[]},"description":{"type":"string","title":"Description"},"description_zh":{"type":"string","title":"Description Zh"}},"type":"object","required":["type","description","description_zh"],"title":"StructureChange","description":"A structural change for deep restructure\næ·±åº¦é‡ç»„çš„ç»“æ„å˜åŒ–"},"StructureIssue":{"properties":{"type":{"type":"string","title":"Type"},"description":{"type":"string","title":"Description"},"description_zh":{"type":"string","title":"Description Zh"},"severity":{"type":"string","title":"Severity"},"affected_paragraphs":{"items":{"type":"integer"},"type":"array","title":"Affected Paragraphs","default":[]},"suggestion":{"type":"string","title":"Suggestion"},"suggestion_zh":{"type":"string","title":"Suggestion Zh"}},"type":"object","required":["type","description","description_zh","severity","suggestion","suggestion_zh"],"title":"StructureIssue","description":"Detected structure issue\næ£€æµ‹åˆ°çš„ç»“æ„é—®é¢˜"},"StructureIssueItem":{"properties":{"id":{"type":"string","title":"Id","description":"Unique issue ID"},"type":{"type":"string","title":"Type","description":"Issue type from StructureIssueType"},"category":{"type":"string","title":"Category","description":"Issue category: structure or transition"},"severity":{"type":"string","title":"Severity","description":"Severity: high, medium, low"},"title_zh":{"type":"string","title":"Title Zh","description":"Chinese title for display"},"title_en":{"type":"string","title":"Title En","description":"English title for display"},"brief_zh":{"type":"string","title":"Brief Zh","description":"Brief Chinese description"},"brief_en":{"type":"string","title":"Brief En","description":"Brief English description","default":""},"affected_positions":{"items":{"type":"string"},"type":"array","title":"Affected Positions","description":"Affected paragraph positions like ['P2', 'P3(1)']","default":[]},"affected_text_preview":{"type":"string","title":"Affected Text Preview","description":"Preview of affected text (first 100 chars)","default":""},"can_generate_reference":{"type":"boolean","title":"Can Generate Reference","description":"Whether reference version can be generated"},"status":{"type":"string","title":"Status","description":"Processing status","default":"pending"},"connector_word":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Connector Word","description":"For explicit_connector: the connector word"},"word_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Word Count","description":"For paragraph length issues: word count"},"neighbor_avg":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Neighbor Avg","description":"For paragraph length issues: neighbor average"}},"type":"object","required":["id","type","category","severity","title_zh","title_en","brief_zh","can_generate_reference"],"title":"StructureIssueItem","description":"Single structure issue item for list display\nç”¨äºåˆ—è¡¨å±•ç¤ºçš„å•ä¸ªç»“æ„é—®é¢˜é¡¹"},"StructureIssueListRequest":{"properties":{"documentId":{"type":"string","title":"Documentid","description":"Document ID to analyze"},"includeLowSeverity":{"type":"boolean","title":"Includelowseverity","description":"Include low severity issues","default":false}},"type":"object","required":["documentId"],"title":"StructureIssueListRequest","description":"Request for structure issue list\nç»“æ„é—®é¢˜åˆ—è¡¨è¯·æ±‚"},"StructureIssueListResponse":{"properties":{"structure_issues":{"items":{"$ref":"#/components/schemas/StructureIssueItem"},"type":"array","title":"Structure Issues","description":"å…¨æ–‡ç»“æ„é—®é¢˜ - Structure issues (displayed first)","default":[]},"transition_issues":{"items":{"$ref":"#/components/schemas/StructureIssueItem"},"type":"array","title":"Transition Issues","description":"æ®µè½å…³ç³»é—®é¢˜ - Transition issues (displayed second)","default":[]},"total_issues":{"type":"integer","title":"Total Issues","description":"Total number of issues","default":0},"high_severity_count":{"type":"integer","title":"High Severity Count","description":"Number of high severity issues","default":0},"medium_severity_count":{"type":"integer","title":"Medium Severity Count","description":"Number of medium severity issues","default":0},"low_severity_count":{"type":"integer","title":"Low Severity Count","description":"Number of low severity issues","default":0},"document_id":{"type":"string","title":"Document Id","description":"Document ID"},"structure_score":{"type":"integer","title":"Structure Score","description":"Overall structure score (0-100)","default":0},"risk_level":{"type":"string","title":"Risk Level","description":"Overall risk level","default":"low"}},"type":"object","required":["document_id"],"title":"StructureIssueListResponse","description":"Response containing categorized structure issues\nåŒ…å«åˆ†ç±»ç»“æ„é—®é¢˜çš„å“åº”"},"StructureModification":{"properties":{"paragraph_index":{"type":"integer","title":"Paragraph Index"},"change_type":{"type":"string","title":"Change Type"},"original":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Original"},"modified":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Modified"},"explanation":{"type":"string","title":"Explanation","default":""},"explanation_zh":{"type":"string","title":"Explanation Zh","default":""},"echo_concept":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Echo Concept"}},"type":"object","required":["paragraph_index","change_type"],"title":"StructureModification","description":"A single structure modification\nå•ä¸ªç»“æ„ä¿®æ”¹"},"StructureOption":{"properties":{"strategy":{"$ref":"#/components/schemas/StructureStrategy"},"strategy_name_zh":{"type":"string","title":"Strategy Name Zh"},"modifications":{"items":{"$ref":"#/components/schemas/StructureModification"},"type":"array","title":"Modifications","default":[]},"new_order":{"items":{"type":"integer"},"type":"array","title":"New Order","default":[]},"restructure_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Restructure Type"},"restructure_type_zh":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Restructure Type Zh"},"changes":{"items":{"$ref":"#/components/schemas/StructureChange"},"type":"array","title":"Changes","default":[]},"outline":{"items":{"type":"string"},"type":"array","title":"Outline","default":[]},"predicted_improvement":{"type":"integer","title":"Predicted Improvement"},"explanation":{"type":"string","title":"Explanation","default":""},"explanation_zh":{"type":"string","title":"Explanation Zh"}},"type":"object","required":["strategy","strategy_name_zh","predicted_improvement","explanation_zh"],"title":"StructureOption","description":"A structure repair option\nç»“æ„ä¿®å¤é€‰é¡¹"},"StructureSimilarityPair":{"properties":{"section_a_index":{"type":"integer","title":"Section A Index"},"section_b_index":{"type":"integer","title":"Section B Index"},"section_a_role":{"type":"string","title":"Section A Role"},"section_b_role":{"type":"string","title":"Section B Role"},"function_sequence_similarity":{"type":"number","maximum":100.0,"minimum":0.0,"title":"Function Sequence Similarity","description":"Sequence similarity percentage","default":0.0},"structure_similarity":{"type":"number","maximum":100.0,"minimum":0.0,"title":"Structure Similarity","description":"Overall structure similarity","default":0.0},"is_suspicious":{"type":"boolean","title":"Is Suspicious","description":"True if similarity > 80% (AI-like)","default":false}},"type":"object","required":["section_a_index","section_b_index","section_a_role","section_b_role"],"title":"StructureSimilarityPair","description":"Similarity comparison between two sections\nä¸¤ä¸ªç« èŠ‚ä¹‹é—´çš„ç›¸ä¼¼æ€§æ¯”è¾ƒ"},"StructureStrategy":{"type":"string","enum":["optimize_connection","deep_restructure"],"title":"StructureStrategy","description":"Structure strategy types ç»“æ„ç­–ç•¥ç±»å‹"},"SubstantialityLevel":{"type":"string","enum":["high","medium","low"],"title":"SubstantialityLevel","description":"Content substantiality level"},"SubstepBaseRequest":{"properties":{"text":{"type":"string","minLength":10,"title":"Text","description":"Document text to analyze"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id","description":"Session ID for context tracking"},"locked_terms":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Locked Terms","description":"Terms locked in Step 1.0"}},"type":"object","required":["text"],"title":"SubstepBaseRequest","description":"Base request for all substep endpoints"},"SuggestRequest":{"properties":{"sentence":{"type":"string","minLength":1,"title":"Sentence","description":"Sentence to humanize"},"issues":{"items":{"type":"object"},"type":"array","title":"Issues","description":"Detected issues","default":[]},"locked_terms":{"items":{"type":"string"},"type":"array","title":"Locked Terms","description":"Terms to protect (in addition to session locked terms)","default":[]},"colloquialism_level":{"type":"integer","maximum":10.0,"minimum":0.0,"title":"Colloquialism Level","description":"Colloquialism level 0-10","default":4},"target_lang":{"type":"string","title":"Target Lang","description":"Target language for explanations","default":"zh"},"whitelist":{"items":{"type":"string"},"type":"array","title":"Whitelist","description":"Domain-specific terms to exempt from scoring","default":[]},"context_baseline":{"type":"integer","maximum":25.0,"minimum":0.0,"title":"Context Baseline","description":"Paragraph context baseline score","default":0},"is_paraphrase":{"type":"boolean","title":"Is Paraphrase","description":"Whether the sentence is a paraphrase","default":false},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id","description":"Session ID for loading locked terms from Step 1.0"}},"type":"object","required":["sentence"],"title":"SuggestRequest","description":"Suggestion generation request\nå»ºè®®ç”Ÿæˆè¯·æ±‚\n\nCAASS v2.0 Phase 2: Added whitelist and context_baseline support\nStep 1.0 Integration: Added session_id for automatic locked terms lookup"},"SuggestResponse":{"properties":{"original":{"type":"string","title":"Original"},"original_risk":{"type":"integer","title":"Original Risk"},"translation":{"type":"string","title":"Translation"},"llm_suggestion":{"anyOf":[{"$ref":"#/components/schemas/Suggestion"},{"type":"null"}]},"rule_suggestion":{"anyOf":[{"$ref":"#/components/schemas/Suggestion"},{"type":"null"}]},"locked_terms":{"items":{"type":"string"},"type":"array","title":"Locked Terms","default":[]}},"type":"object","required":["original","original_risk","translation"],"title":"SuggestResponse","description":"Complete suggestion response\nå®Œæ•´çš„å»ºè®®å“åº”"},"Suggestion":{"properties":{"source":{"$ref":"#/components/schemas/SuggestionSource"},"rewritten":{"type":"string","title":"Rewritten"},"changes":{"items":{"$ref":"#/components/schemas/ChangeDetail"},"type":"array","title":"Changes","default":[]},"predicted_risk":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Predicted Risk"},"semantic_similarity":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Semantic Similarity"},"explanation":{"type":"string","title":"Explanation"},"explanation_zh":{"type":"string","title":"Explanation Zh"}},"type":"object","required":["source","rewritten","predicted_risk","semantic_similarity","explanation","explanation_zh"],"title":"Suggestion","description":"Single suggestion result\nå•ä¸ªå»ºè®®ç»“æœ"},"SuggestionSource":{"type":"string","enum":["llm","rule","custom"],"title":"SuggestionSource","description":"Suggestion source enumeration å»ºè®®æ¥æºæšä¸¾"},"SystemModeResponse":{"properties":{"mode":{"type":"string","title":"Mode"},"is_debug":{"type":"boolean","title":"Is Debug"},"is_operational":{"type":"boolean","title":"Is Operational"},"platform_configured":{"type":"boolean","title":"Platform Configured"},"features":{"type":"object","title":"Features"},"pricing":{"type":"object","title":"Pricing"}},"type":"object","required":["mode","is_debug","is_operational","platform_configured","features","pricing"],"title":"SystemModeResponse","description":"System mode info response ç³»ç»Ÿæ¨¡å¼ä¿¡æ¯å“åº”"},"TaskCreateRequest":{"properties":{"document_id":{"type":"string","title":"Document Id","description":"Document ID"}},"type":"object","required":["document_id"],"title":"TaskCreateRequest","description":"Request to create a task for a document ä¸ºæ–‡æ¡£åˆ›å»ºä»»åŠ¡è¯·æ±‚"},"TaskListResponse":{"properties":{"tasks":{"items":{"$ref":"#/components/schemas/TaskResponse"},"type":"array","title":"Tasks"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["tasks","total"],"title":"TaskListResponse","description":"List of tasks response ä»»åŠ¡åˆ—è¡¨å“åº”"},"TaskResponse":{"properties":{"task_id":{"type":"string","title":"Task Id"},"document_id":{"type":"string","title":"Document Id"},"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id"},"word_count_raw":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Word Count Raw"},"word_count_billable":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Word Count Billable"},"billable_units":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Billable Units"},"price_calculated":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Price Calculated"},"price_final":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Price Final"},"is_minimum_charge":{"type":"boolean","title":"Is Minimum Charge","default":false},"status":{"type":"string","title":"Status"},"payment_status":{"type":"string","title":"Payment Status"},"platform_order_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Platform Order Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"quoted_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Quoted At"},"paid_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Paid At"},"expires_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expires At"},"is_debug_mode":{"type":"boolean","title":"Is Debug Mode"}},"type":"object","required":["task_id","document_id","status","payment_status","created_at","is_debug_mode"],"title":"TaskResponse","description":"Task information response ä»»åŠ¡ä¿¡æ¯å“åº”"},"TaskStatsResponse":{"properties":{"status_distribution":{"items":{"$ref":"#/components/schemas/TaskStatusDistribution"},"type":"array","title":"Status Distribution"},"payment_distribution":{"items":{"$ref":"#/components/schemas/TaskStatusDistribution"},"type":"array","title":"Payment Distribution"},"avg_word_count":{"type":"number","title":"Avg Word Count","description":"Average word count | å¹³å‡å­—æ•°"},"avg_price":{"type":"number","title":"Avg Price","description":"Average price | å¹³å‡ä»·æ ¼"},"min_price":{"type":"number","title":"Min Price","description":"Minimum price | æœ€ä½ä»·æ ¼"},"max_price":{"type":"number","title":"Max Price","description":"Maximum price | æœ€é«˜ä»·æ ¼"},"minimum_charge_count":{"type":"integer","title":"Minimum Charge Count","description":"Tasks hitting minimum charge | è§¦å‘æœ€ä½æ¶ˆè´¹ä»»åŠ¡æ•°"},"minimum_charge_ratio":{"type":"number","title":"Minimum Charge Ratio","description":"Ratio hitting minimum charge | æœ€ä½æ¶ˆè´¹æ¯”ä¾‹"},"tasks_by_date":{"items":{"type":"object"},"type":"array","title":"Tasks By Date"}},"type":"object","required":["status_distribution","payment_distribution","avg_word_count","avg_price","min_price","max_price","minimum_charge_count","minimum_charge_ratio","tasks_by_date"],"title":"TaskStatsResponse","description":"Task statistics response ä»»åŠ¡ç»Ÿè®¡å“åº”"},"TaskStatusDistribution":{"properties":{"status":{"type":"string","title":"Status"},"count":{"type":"integer","title":"Count"},"percentage":{"type":"number","title":"Percentage"}},"type":"object","required":["status","count","percentage"],"title":"TaskStatusDistribution","description":"Task status distribution ä»»åŠ¡çŠ¶æ€åˆ†å¸ƒ"},"TermLockRequest":{"properties":{"document_text":{"type":"string","minLength":10,"title":"Document Text","description":"Document text to analyze"},"session_id":{"type":"string","title":"Session Id","description":"Session ID for term storage"}},"type":"object","required":["document_text","session_id"],"title":"TermLockRequest","description":"Request for term extraction"},"TermTypeEnum":{"type":"string","enum":["technical_term","proper_noun","acronym","key_phrase","core_word"],"title":"TermTypeEnum","description":"Term type enumeration for API"},"TextUploadRequest":{"properties":{"text":{"type":"string","title":"Text"}},"type":"object","required":["text"],"title":"TextUploadRequest","description":"Request body for text upload\næ–‡æœ¬ä¸Šä¼ è¯·æ±‚ä½“"},"TransitionAnalysisRequest":{"properties":{"para_a":{"type":"string","minLength":1,"title":"Para A","description":"Previous paragraph"},"para_b":{"type":"string","minLength":1,"title":"Para B","description":"Next paragraph"},"context_hint":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Context Hint","description":"Core thesis from Level 1 analysis"}},"type":"object","required":["para_a","para_b"],"title":"TransitionAnalysisRequest","description":"Transition analysis request (Level 2)\nè¡”æ¥åˆ†æè¯·æ±‚ï¼ˆLevel 2ï¼‰"},"TransitionAnalysisResponse":{"properties":{"para_a_ending":{"type":"string","title":"Para A Ending"},"para_b_opening":{"type":"string","title":"Para B Opening"},"smoothness_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Smoothness Score","description":"0-100, higher = more AI-like"},"risk_level":{"type":"string","title":"Risk Level"},"issues":{"items":{"$ref":"#/components/schemas/TransitionIssue"},"type":"array","title":"Issues","default":[]},"explicit_connectors":{"items":{"type":"string"},"type":"array","title":"Explicit Connectors","default":[]},"has_topic_sentence_pattern":{"type":"boolean","title":"Has Topic Sentence Pattern","default":false},"has_summary_ending":{"type":"boolean","title":"Has Summary Ending","default":false},"semantic_overlap":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Semantic Overlap","default":0.0},"options":{"items":{"$ref":"#/components/schemas/TransitionOption"},"type":"array","title":"Options","default":[]},"message":{"type":"string","title":"Message","default":""},"message_zh":{"type":"string","title":"Message Zh","default":""}},"type":"object","required":["para_a_ending","para_b_opening","smoothness_score","risk_level"],"title":"TransitionAnalysisResponse","description":"Complete transition analysis response\nå®Œæ•´çš„è¡”æ¥åˆ†æå“åº”"},"TransitionInfo":{"properties":{"from_paragraph":{"type":"integer","title":"From Paragraph"},"to_paragraph":{"type":"integer","title":"To Paragraph"},"has_explicit_connector":{"type":"boolean","title":"Has Explicit Connector"},"connector_word":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Connector Word"},"semantic_echo_score":{"type":"number","title":"Semantic Echo Score"},"transition_quality":{"type":"string","title":"Transition Quality"}},"type":"object","required":["from_paragraph","to_paragraph","has_explicit_connector","semantic_echo_score","transition_quality"],"title":"TransitionInfo","description":"Paragraph transition information"},"TransitionIssue":{"properties":{"type":{"type":"string","title":"Type"},"description":{"type":"string","title":"Description"},"description_zh":{"type":"string","title":"Description Zh"},"severity":{"type":"string","title":"Severity"},"position":{"type":"string","title":"Position"},"word":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Word"}},"type":"object","required":["type","description","description_zh","severity","position"],"title":"TransitionIssue","description":"Detected transition issue\næ£€æµ‹åˆ°çš„è¡”æ¥é—®é¢˜"},"TransitionIssueSchema":{"properties":{"type":{"type":"string","title":"Type","description":"Issue type: explicit_connector, too_smooth, topic_sentence_pattern, etc."},"description":{"type":"string","title":"Description","description":"English description"},"description_zh":{"type":"string","title":"Description Zh","description":"Chinese description"},"severity":{"$ref":"#/components/schemas/IssueSeverity","description":"Issue severity"},"position":{"type":"string","title":"Position","description":"Position: para_a_end, para_b_start, both"},"word":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Word","description":"Problematic word if applicable"}},"type":"object","required":["type","description","description_zh","severity","position"],"title":"TransitionIssueSchema","description":"Transition issue detected between paragraphs\næ®µè½é—´æ£€æµ‹åˆ°çš„è¡”æ¥é—®é¢˜"},"TransitionOption":{"properties":{"strategy":{"$ref":"#/components/schemas/TransitionStrategy"},"strategy_name_zh":{"type":"string","title":"Strategy Name Zh"},"para_a_ending":{"type":"string","title":"Para A Ending"},"para_b_opening":{"type":"string","title":"Para B Opening"},"key_concepts":{"items":{"type":"string"},"type":"array","title":"Key Concepts","default":[]},"hook_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Hook Type"},"rhythm_change":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rhythm Change"},"explanation":{"type":"string","title":"Explanation"},"explanation_zh":{"type":"string","title":"Explanation Zh"},"predicted_improvement":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Predicted Improvement","description":"Expected score reduction","default":0}},"type":"object","required":["strategy","strategy_name_zh","para_a_ending","para_b_opening","explanation","explanation_zh"],"title":"TransitionOption","description":"A single transition repair option\nå•ä¸ªè¡”æ¥ä¿®å¤é€‰é¡¹"},"TransitionResultSchema":{"properties":{"transition_index":{"type":"integer","title":"Transition Index","description":"Index of this transition (between para N and N+1)"},"para_a_index":{"type":"integer","title":"Para A Index","description":"Index of first paragraph"},"para_b_index":{"type":"integer","title":"Para B Index","description":"Index of second paragraph"},"para_a_ending":{"type":"string","title":"Para A Ending","description":"Last 1-2 sentences of paragraph A"},"para_b_opening":{"type":"string","title":"Para B Opening","description":"First 1-2 sentences of paragraph B"},"smoothness_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Smoothness Score","description":"Smoothness score 0-100, higher = more AI-like"},"risk_level":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__RiskLevel","description":"Risk level for this transition"},"issues":{"items":{"$ref":"#/components/schemas/TransitionIssueSchema"},"type":"array","title":"Issues","description":"Detected transition issues"},"explicit_connectors":{"items":{"type":"string"},"type":"array","title":"Explicit Connectors","description":"Explicit connectors found"},"has_topic_sentence_pattern":{"type":"boolean","title":"Has Topic Sentence Pattern","description":"Para B starts with formulaic topic sentence","default":false},"has_summary_ending":{"type":"boolean","title":"Has Summary Ending","description":"Para A ends with explicit summary","default":false},"semantic_overlap":{"type":"number","title":"Semantic Overlap","description":"Keyword overlap ratio","default":0.0}},"type":"object","required":["transition_index","para_a_index","para_b_index","para_a_ending","para_b_opening","smoothness_score","risk_level"],"title":"TransitionResultSchema","description":"Result for a single paragraph transition analysis\nå•ä¸ªæ®µè½è¡”æ¥åˆ†æçš„ç»“æœ"},"TransitionStrategy":{"type":"string","enum":["semantic_echo","logical_hook","rhythm_break"],"title":"TransitionStrategy","description":"Transition strategy enumeration è¿‡æ¸¡ç­–ç•¥æšä¸¾"},"TypeStats":{"properties":{"count":{"type":"integer","title":"Count"},"percentage":{"type":"number","title":"Percentage"},"is_risk":{"type":"boolean","title":"Is Risk"},"threshold":{"type":"number","title":"Threshold"}},"type":"object","required":["count","percentage","is_risk","threshold"],"title":"TypeStats","description":"Statistics for a sentence type.\nå¥å¼ç±»å‹ç»Ÿè®¡ã€‚"},"UserInfo":{"properties":{"platform_user_id":{"type":"string","title":"Platform User Id"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"},"nickname":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nickname"}},"type":"object","required":["platform_user_id"],"title":"UserInfo","description":"User information from platform\nå¹³å°ç”¨æˆ·ä¿¡æ¯"},"UserInfoResponse":{"properties":{"user_id":{"type":"string","title":"User Id"},"platform_user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Platform User Id"},"nickname":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nickname"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"},"is_debug":{"type":"boolean","title":"Is Debug"}},"type":"object","required":["user_id","is_debug"],"title":"UserInfoResponse","description":"Current user info response å½“å‰ç”¨æˆ·ä¿¡æ¯å“åº”"},"UserProfileResponse":{"properties":{"user_id":{"type":"string","title":"User Id"},"platform_user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Platform User Id"},"nickname":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nickname"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"},"created_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Created At"},"last_login_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Login At"},"is_debug":{"type":"boolean","title":"Is Debug"},"total_tasks":{"type":"integer","title":"Total Tasks","default":0},"total_spent":{"type":"number","title":"Total Spent","default":0.0}},"type":"object","required":["user_id","is_debug"],"title":"UserProfileResponse","description":"User profile response ç”¨æˆ·èµ„æ–™å“åº”"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"ValidationRequest":{"properties":{"text":{"type":"string","minLength":10,"title":"Text","description":"Document text to analyze"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id","description":"Session ID for context tracking"},"locked_terms":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Locked Terms","description":"Terms locked in Step 1.0"},"original_text":{"type":"string","title":"Original Text","default":""}},"type":"object","required":["text"],"title":"ValidationRequest","description":"Validation request with original text"},"ValidationResponse":{"properties":{"risk_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Risk Score","description":"Risk score 0-100","default":0},"risk_level":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__RiskLevel","description":"Risk level","default":"low"},"issues":{"items":{"type":"object"},"type":"array","title":"Issues","description":"Detected issues"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations","description":"Recommendations (English)"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh","description":"Recommendations (Chinese)"},"processing_time_ms":{"type":"integer","title":"Processing Time Ms","description":"Processing time in milliseconds","default":0},"original_risk_score":{"type":"integer","title":"Original Risk Score","default":0},"final_risk_score":{"type":"integer","title":"Final Risk Score","default":0},"improvement":{"type":"integer","title":"Improvement","default":0},"locked_terms_check":{"type":"boolean","title":"Locked Terms Check","default":true},"semantic_similarity":{"type":"number","title":"Semantic Similarity","default":0},"validation_passed":{"type":"boolean","title":"Validation Passed","default":true}},"type":"object","title":"ValidationResponse","description":"Response for validation (Step 5.5)"},"ValidationResult":{"properties":{"passed":{"type":"boolean","title":"Passed"},"semantic_similarity":{"type":"number","title":"Semantic Similarity"},"terms_intact":{"type":"boolean","title":"Terms Intact"},"new_risk_score":{"type":"integer","title":"New Risk Score"},"new_risk_level":{"$ref":"#/components/schemas/src__api__schemas__RiskLevel"},"message":{"type":"string","title":"Message"},"message_zh":{"type":"string","title":"Message Zh"}},"type":"object","required":["passed","semantic_similarity","terms_intact","new_risk_score","new_risk_level","message","message_zh"],"title":"ValidationResult","description":"Validation result\néªŒè¯ç»“æœ"},"src__api__routes__analysis__paragraph__ParagraphMeta":{"properties":{"index":{"type":"integer","title":"Index"},"word_count":{"type":"integer","title":"Word Count"},"sentence_count":{"type":"integer","title":"Sentence Count"},"char_count":{"type":"integer","title":"Char Count"},"preview":{"type":"string","title":"Preview"},"section_index":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Section Index"},"content_type":{"type":"string","title":"Content Type","default":"body"}},"type":"object","required":["index","word_count","sentence_count","char_count","preview"],"title":"ParagraphMeta","description":"Metadata for a single paragraph"},"src__api__routes__analysis__paragraph__ParagraphTransitionResponse":{"properties":{"risk_score":{"type":"integer","title":"Risk Score"},"risk_level":{"type":"string","title":"Risk Level"},"total_transitions":{"type":"integer","title":"Total Transitions"},"explicit_connector_count":{"type":"integer","title":"Explicit Connector Count"},"explicit_ratio":{"type":"number","title":"Explicit Ratio"},"avg_semantic_echo":{"type":"number","title":"Avg Semantic Echo"},"formulaic_opener_count":{"type":"integer","title":"Formulaic Opener Count"},"transitions":{"items":{"$ref":"#/components/schemas/ParagraphTransitionInfo"},"type":"array","title":"Transitions"},"issues":{"items":{"type":"object"},"type":"array","title":"Issues","default":[]},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations","default":[]},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh","default":[]},"processing_time_ms":{"type":"integer","title":"Processing Time Ms"}},"type":"object","required":["risk_score","risk_level","total_transitions","explicit_connector_count","explicit_ratio","avg_semantic_echo","formulaic_opener_count","transitions","processing_time_ms"],"title":"ParagraphTransitionResponse","description":"Response for paragraph transition analysis"},"src__api__routes__analysis__schemas__InterSectionLogicResponse":{"properties":{"risk_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Risk Score","default":0},"risk_level":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__RiskLevel","default":"low"},"argument_chain":{"items":{"$ref":"#/components/schemas/ArgumentChainNode"},"type":"array","title":"Argument Chain"},"chain_coherence_score":{"type":"number","maximum":100.0,"minimum":0.0,"title":"Chain Coherence Score","description":"How well arguments connect","default":0.0},"redundancies":{"items":{"$ref":"#/components/schemas/RedundancyInfo"},"type":"array","title":"Redundancies"},"total_redundancies":{"type":"integer","title":"Total Redundancies","default":0},"progression_patterns":{"items":{"$ref":"#/components/schemas/ProgressionPatternInfo"},"type":"array","title":"Progression Patterns"},"dominant_pattern":{"type":"string","title":"Dominant Pattern","description":"Most common progression pattern","default":""},"pattern_variety_score":{"type":"number","title":"Pattern Variety Score","description":"Variety in progression patterns","default":0.0},"issues":{"items":{"$ref":"#/components/schemas/DetectionIssue"},"type":"array","title":"Issues"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh"},"processing_time_ms":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Processing Time Ms"}},"type":"object","title":"InterSectionLogicResponse","description":"Response for Step 2.5: Inter-Section Logic\næ­¥éª¤ 2.5ï¼šç« èŠ‚é—´é€»è¾‘å…³ç³»å“åº”"},"src__api__routes__analysis__schemas__ParagraphAnalysisRequest":{"properties":{"text":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"Text","description":"Raw text to analyze"},"paragraphs":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Paragraphs","description":"List of paragraphs"},"paragraph_roles":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Paragraph Roles","description":"Pre-detected paragraph roles"},"section_context":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Section Context","description":"Context from Layer 4"}},"type":"object","title":"ParagraphAnalysisRequest","description":"Request for Layer 3: Paragraph analysis\nç¬¬3å±‚æ®µè½åˆ†æè¯·æ±‚\n\nAccepts either raw text or pre-split paragraphs.\næ¥å—åŸå§‹æ–‡æœ¬æˆ–å·²åˆ†å‰²çš„æ®µè½åˆ—è¡¨ã€‚"},"src__api__routes__analysis__schemas__ParagraphAnalysisResponse":{"properties":{"layer":{"$ref":"#/components/schemas/LayerLevel","default":"paragraph"},"risk_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Risk Score","description":"Risk score 0-100"},"risk_level":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__RiskLevel"},"issues":{"items":{"$ref":"#/components/schemas/DetectionIssue"},"type":"array","title":"Issues","description":"Detected issues"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations","description":"English recommendations"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh","description":"Chinese recommendations"},"details":{"type":"object","title":"Details","description":"Layer-specific details"},"processing_time_ms":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Processing Time Ms","description":"Processing time in milliseconds"},"paragraphs":{"items":{"type":"string"},"type":"array","title":"Paragraphs","description":"Filtered paragraphs (headers/keywords removed)"},"paragraph_roles":{"items":{"type":"string"},"type":"array","title":"Paragraph Roles","description":"Detected roles for each paragraph"},"coherence_scores":{"items":{"type":"number"},"type":"array","title":"Coherence Scores","description":"Coherence score per paragraph"},"anchor_densities":{"items":{"type":"number"},"type":"array","title":"Anchor Densities","description":"Anchor density per paragraph"},"sentence_length_cvs":{"items":{"type":"number"},"type":"array","title":"Sentence Length Cvs","description":"Sentence length CV per paragraph"},"low_burstiness_paragraphs":{"items":{"type":"integer"},"type":"array","title":"Low Burstiness Paragraphs","description":"Indices of low burstiness paragraphs"}},"type":"object","required":["risk_score","risk_level"],"title":"ParagraphAnalysisResponse","description":"Response for Layer 3: Paragraph analysis\nç¬¬3å±‚æ®µè½åˆ†æå“åº”"},"src__api__routes__analysis__schemas__ParagraphLengthAnalysisRequest":{"properties":{"text":{"type":"string","minLength":1,"title":"Text","description":"Full document text"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id","description":"Session ID"}},"type":"object","required":["text"],"title":"ParagraphLengthAnalysisRequest","description":"Request for Step 1.2: Paragraph Length Regularity Analysis\næ­¥éª¤ 1.2ï¼šæ®µè½é•¿åº¦è§„å¾‹æ€§åˆ†æè¯·æ±‚"},"src__api__routes__analysis__schemas__ParagraphLengthAnalysisResponse":{"properties":{"paragraph_count":{"type":"integer","title":"Paragraph Count","description":"Total number of paragraphs"},"total_word_count":{"type":"integer","title":"Total Word Count","description":"Total words in document"},"mean_length":{"type":"number","title":"Mean Length","description":"Average paragraph length (words)"},"stdev_length":{"type":"number","title":"Stdev Length","description":"Standard deviation of length"},"cv":{"type":"number","title":"Cv","description":"Coefficient of variation (stdev/mean)"},"min_length":{"type":"integer","title":"Min Length","description":"Minimum paragraph length"},"max_length":{"type":"integer","title":"Max Length","description":"Maximum paragraph length"},"length_regularity_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Length Regularity Score","description":"Length regularity score (higher = more uniform = more AI-like)"},"risk_level":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__RiskLevel","description":"Risk level based on CV"},"target_cv":{"type":"number","title":"Target Cv","description":"Target CV for human-like writing","default":0.4},"paragraphs":{"items":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__ParagraphLengthInfo"},"type":"array","title":"Paragraphs","description":"Length info for each paragraph"},"merge_suggestions":{"items":{"type":"integer"},"type":"array","title":"Merge Suggestions","description":"Paragraph indices suggested for merging"},"split_suggestions":{"items":{"type":"integer"},"type":"array","title":"Split Suggestions","description":"Paragraph indices suggested for splitting"},"expand_suggestions":{"items":{"type":"integer"},"type":"array","title":"Expand Suggestions","description":"Paragraph indices suggested for expansion"},"compress_suggestions":{"items":{"type":"integer"},"type":"array","title":"Compress Suggestions","description":"Paragraph indices suggested for compression"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations","description":"English recommendations"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh","description":"Chinese recommendations"},"processing_time_ms":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Processing Time Ms","description":"Processing time in milliseconds"}},"type":"object","required":["paragraph_count","total_word_count","mean_length","stdev_length","cv","min_length","max_length","length_regularity_score","risk_level"],"title":"ParagraphLengthAnalysisResponse","description":"Response for Step 1.2: Paragraph Length Regularity Analysis\næ­¥éª¤ 1.2ï¼šæ®µè½é•¿åº¦è§„å¾‹æ€§åˆ†æå“åº”"},"src__api__routes__analysis__schemas__ParagraphLengthInfo":{"properties":{"index":{"type":"integer","title":"Index","description":"Paragraph index (0-based)"},"word_count":{"type":"integer","title":"Word Count","description":"Number of words in paragraph"},"char_count":{"type":"integer","title":"Char Count","description":"Number of characters"},"sentence_count":{"type":"integer","title":"Sentence Count","description":"Number of sentences","default":0},"preview":{"type":"string","title":"Preview","description":"First 100 chars of paragraph"},"deviation_from_mean":{"type":"number","title":"Deviation From Mean","description":"How far from mean length (in stddev)","default":0.0},"suggested_strategy":{"$ref":"#/components/schemas/ParagraphLengthStrategy","description":"Suggested adjustment","default":"none"},"strategy_reason":{"type":"string","title":"Strategy Reason","description":"Reason for the strategy suggestion","default":""},"strategy_reason_zh":{"type":"string","title":"Strategy Reason Zh","description":"Chinese reason","default":""}},"type":"object","required":["index","word_count","char_count","preview"],"title":"ParagraphLengthInfo","description":"Length info for a single paragraph\nå•ä¸ªæ®µè½çš„é•¿åº¦ä¿¡æ¯"},"src__api__routes__analysis__schemas__RiskLevel":{"type":"string","enum":["safe","low","medium","high"],"title":"RiskLevel","description":"Risk level classification"},"src__api__routes__analysis__schemas__SectionInfo":{"properties":{"index":{"type":"integer","title":"Index","description":"Section index (0-based)"},"role":{"type":"string","title":"Role","description":"Detected section role"},"role_confidence":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Role Confidence","description":"Confidence of role detection","default":0.0},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title","description":"Section title if detected"},"start_paragraph_idx":{"type":"integer","title":"Start Paragraph Idx","description":"Starting paragraph index"},"end_paragraph_idx":{"type":"integer","title":"End Paragraph Idx","description":"Ending paragraph index (exclusive)"},"paragraph_count":{"type":"integer","title":"Paragraph Count","description":"Number of paragraphs in section","default":0},"word_count":{"type":"integer","title":"Word Count","description":"Total words in section","default":0},"char_count":{"type":"integer","title":"Char Count","description":"Total characters in section","default":0},"preview":{"type":"string","title":"Preview","description":"First 150 chars of section","default":""},"user_assigned_role":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Assigned Role","description":"User-assigned role override"}},"type":"object","required":["index","role","start_paragraph_idx","end_paragraph_idx"],"title":"SectionInfo","description":"Detailed section information\nç« èŠ‚è¯¦ç»†ä¿¡æ¯"},"src__api__routes__analysis__schemas__SectionLengthResponse":{"properties":{"risk_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Risk Score","default":0},"risk_level":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__RiskLevel","default":"low"},"section_count":{"type":"integer","title":"Section Count","default":0},"total_words":{"type":"integer","title":"Total Words","default":0},"mean_length":{"type":"number","title":"Mean Length","default":0.0},"stdev_length":{"type":"number","title":"Stdev Length","default":0.0},"length_cv":{"type":"number","title":"Length Cv","description":"Coefficient of variation","default":0.0},"is_uniform":{"type":"boolean","title":"Is Uniform","description":"True if CV < 0.3 (AI-like)","default":false},"sections":{"items":{"$ref":"#/components/schemas/SectionLengthInfo"},"type":"array","title":"Sections"},"extremely_short":{"items":{"type":"integer"},"type":"array","title":"Extremely Short"},"extremely_long":{"items":{"type":"integer"},"type":"array","title":"Extremely Long"},"key_section_weight_score":{"type":"number","title":"Key Section Weight Score","description":"How well key sections are weighted","default":0.0},"issues":{"items":{"$ref":"#/components/schemas/DetectionIssue"},"type":"array","title":"Issues"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh"},"processing_time_ms":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Processing Time Ms"}},"type":"object","title":"SectionLengthResponse","description":"Response for Step 2.2: Section Length Distribution\næ­¥éª¤ 2.2ï¼šç« èŠ‚é•¿åº¦åˆ†å¸ƒå“åº”"},"src__api__routes__analysis__schemas__SectionOrderResponse":{"properties":{"risk_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Risk Score","description":"Risk score for this step","default":0},"risk_level":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__RiskLevel","default":"low"},"order_analysis":{"$ref":"#/components/schemas/SectionOrderAnalysis","description":"Order analysis result"},"issues":{"items":{"$ref":"#/components/schemas/DetectionIssue"},"type":"array","title":"Issues"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh"},"processing_time_ms":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Processing Time Ms"}},"type":"object","required":["order_analysis"],"title":"SectionOrderResponse","description":"Response for Step 2.1: Section Order & Structure\næ­¥éª¤ 2.1ï¼šç« èŠ‚é¡ºåºä¸ç»“æ„å“åº”"},"src__api__routes__analysis__schemas__SectionTransitionResponse":{"properties":{"risk_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Risk Score","default":0},"risk_level":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__RiskLevel","default":"low"},"total_transitions":{"type":"integer","title":"Total Transitions","default":0},"explicit_transition_count":{"type":"integer","title":"Explicit Transition Count","default":0},"transitions":{"items":{"$ref":"#/components/schemas/SectionTransitionInfo"},"type":"array","title":"Transitions"},"explicit_ratio":{"type":"number","title":"Explicit Ratio","description":"Ratio of explicit transitions","default":0.0},"avg_semantic_echo":{"type":"number","title":"Avg Semantic Echo","description":"Average semantic echo score","default":0.0},"formulaic_opener_count":{"type":"integer","title":"Formulaic Opener Count","default":0},"strength_distribution":{"additionalProperties":{"type":"integer"},"type":"object","title":"Strength Distribution"},"issues":{"items":{"$ref":"#/components/schemas/DetectionIssue"},"type":"array","title":"Issues"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh"},"processing_time_ms":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Processing Time Ms"}},"type":"object","title":"SectionTransitionResponse","description":"Response for Step 2.4: Section Transition\næ­¥éª¤ 2.4ï¼šç« èŠ‚è¡”æ¥ä¸è¿‡æ¸¡å“åº”"},"src__api__routes__analysis__schemas__SentenceAnalysisRequest":{"properties":{"text":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"Text","description":"Raw text to analyze"},"paragraphs":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Paragraphs","description":"List of paragraphs"},"paragraph_roles":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Paragraph Roles","description":"Paragraph roles from Layer 3"},"paragraph_context":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Paragraph Context","description":"Context from Layer 3"}},"type":"object","title":"SentenceAnalysisRequest","description":"Request for Layer 2: Sentence analysis\nç¬¬2å±‚å¥å­åˆ†æè¯·æ±‚\n\n**IMPORTANT**: Includes paragraph context for context-aware analysis\n**é‡è¦**: åŒ…å«æ®µè½ä¸Šä¸‹æ–‡ç”¨äºä¸Šä¸‹æ–‡æ„ŸçŸ¥åˆ†æ\n\nAccepts either raw text or pre-split paragraphs.\næ¥å—åŸå§‹æ–‡æœ¬æˆ–å·²åˆ†å‰²çš„æ®µè½åˆ—è¡¨ã€‚"},"src__api__routes__analysis__schemas__SentenceAnalysisResponse":{"properties":{"layer":{"$ref":"#/components/schemas/LayerLevel","default":"sentence"},"risk_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Risk Score","description":"Risk score 0-100"},"risk_level":{"$ref":"#/components/schemas/src__api__routes__analysis__schemas__RiskLevel"},"issues":{"items":{"$ref":"#/components/schemas/DetectionIssue"},"type":"array","title":"Issues","description":"Detected issues"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations","description":"English recommendations"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh","description":"Chinese recommendations"},"details":{"type":"object","title":"Details","description":"Layer-specific details"},"processing_time_ms":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Processing Time Ms","description":"Processing time in milliseconds"},"sentence_count":{"type":"integer","title":"Sentence Count","description":"Total number of sentences","default":0},"sentences_with_context":{"items":{"$ref":"#/components/schemas/SentenceWithContext"},"type":"array","title":"Sentences With Context","description":"Sentences with full paragraph context"},"sentence_roles":{"items":{"type":"string"},"type":"array","title":"Sentence Roles","description":"Role of each sentence"},"void_patterns":{"items":{"type":"object"},"type":"array","title":"Void Patterns","description":"Detected syntactic void patterns"},"pattern_issues":{"items":{"type":"object"},"type":"array","title":"Pattern Issues","description":"Sentence pattern issues"}},"type":"object","required":["risk_score","risk_level"],"title":"SentenceAnalysisResponse","description":"Response for Layer 2: Sentence analysis\nç¬¬2å±‚å¥å­åˆ†æå“åº”\n\n**CRITICAL**: Includes paragraph context for all sentences\n**å…³é”®**: åŒ…å«æ‰€æœ‰å¥å­çš„æ®µè½ä¸Šä¸‹æ–‡"},"src__api__routes__analysis__term_lock__ConfirmLockRequest":{"properties":{"session_id":{"type":"string","title":"Session Id","description":"Session ID"},"locked_terms":{"items":{"type":"string"},"type":"array","title":"Locked Terms","description":"Terms selected for locking"},"custom_terms":{"items":{"type":"string"},"type":"array","title":"Custom Terms","description":"Custom terms added by user"}},"type":"object","required":["session_id"],"title":"ConfirmLockRequest","description":"Request to confirm and lock selected terms"},"src__api__routes__analysis__term_lock__ExtractTermsResponse":{"properties":{"extracted_terms":{"items":{"$ref":"#/components/schemas/ExtractedTermResponse"},"type":"array","title":"Extracted Terms"},"total_count":{"type":"integer","title":"Total Count","description":"Total number of terms extracted","default":0},"by_type":{"additionalProperties":{"type":"integer"},"type":"object","title":"By Type","description":"Count by term type"},"processing_time_ms":{"type":"integer","title":"Processing Time Ms","description":"Processing time in milliseconds","default":0}},"type":"object","title":"ExtractTermsResponse","description":"Response with extracted terms"},"src__api__routes__paragraph__ParagraphAnalysisRequest":{"properties":{"paragraph":{"type":"string","title":"Paragraph","description":"The paragraph text to analyze"},"tone_level":{"type":"integer","maximum":10.0,"minimum":0.0,"title":"Tone Level","description":"Target tone level (0=formal, 10=casual)","default":4}},"type":"object","required":["paragraph"],"title":"ParagraphAnalysisRequest","description":"Request model for paragraph analysis"},"src__api__routes__paragraph__ParagraphAnalysisResponse":{"properties":{"issues":{"items":{"$ref":"#/components/schemas/LogicIssueResponse"},"type":"array","title":"Issues"},"has_subject_repetition":{"type":"boolean","title":"Has Subject Repetition"},"has_uniform_length":{"type":"boolean","title":"Has Uniform Length"},"has_linear_structure":{"type":"boolean","title":"Has Linear Structure"},"has_first_person_overuse":{"type":"boolean","title":"Has First Person Overuse"},"subject_diversity_score":{"type":"number","title":"Subject Diversity Score"},"length_variation_cv":{"type":"number","title":"Length Variation Cv"},"logic_structure":{"type":"string","title":"Logic Structure"},"first_person_ratio":{"type":"number","title":"First Person Ratio"},"connector_density":{"type":"number","title":"Connector Density"},"paragraph_risk_adjustment":{"type":"integer","title":"Paragraph Risk Adjustment"},"sentence_count":{"type":"integer","title":"Sentence Count"},"sentences":{"items":{"type":"string"},"type":"array","title":"Sentences"}},"type":"object","required":["issues","has_subject_repetition","has_uniform_length","has_linear_structure","has_first_person_overuse","subject_diversity_score","length_variation_cv","logic_structure","first_person_ratio","connector_density","paragraph_risk_adjustment","sentence_count","sentences"],"title":"ParagraphAnalysisResponse","description":"Response model for paragraph analysis"},"src__api__routes__substeps__schemas__ConfirmLockRequest":{"properties":{"session_id":{"type":"string","title":"Session Id","description":"Session ID"},"locked_terms":{"items":{"type":"string"},"type":"array","title":"Locked Terms","description":"Terms selected for locking"},"custom_terms":{"items":{"type":"string"},"type":"array","title":"Custom Terms","description":"Custom terms added by user"}},"type":"object","required":["session_id"],"title":"ConfirmLockRequest","description":"Request to confirm locked terms"},"src__api__routes__substeps__schemas__ConfirmLockResponse":{"properties":{"locked_count":{"type":"integer","title":"Locked Count","description":"Number of terms locked","default":0},"locked_terms":{"items":{"type":"string"},"type":"array","title":"Locked Terms","description":"All locked terms"},"message":{"type":"string","title":"Message","description":"Status message","default":""},"message_zh":{"type":"string","title":"Message Zh","description":"Status message in Chinese","default":""}},"type":"object","title":"ConfirmLockResponse","description":"Response after confirming locked terms"},"src__api__routes__substeps__schemas__ExtractTermsResponse":{"properties":{"extracted_terms":{"items":{"$ref":"#/components/schemas/ExtractedTerm"},"type":"array","title":"Extracted Terms"},"total_count":{"type":"integer","title":"Total Count","description":"Total number of terms extracted","default":0},"by_type":{"additionalProperties":{"type":"integer"},"type":"object","title":"By Type","description":"Count by term type"},"processing_time_ms":{"type":"integer","title":"Processing Time Ms","description":"Processing time in milliseconds","default":0}},"type":"object","title":"ExtractTermsResponse","description":"Response with extracted terms"},"src__api__routes__substeps__schemas__InterSectionLogicResponse":{"properties":{"risk_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Risk Score","description":"Risk score 0-100","default":0},"risk_level":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__RiskLevel","description":"Risk level","default":"low"},"issues":{"items":{"type":"object"},"type":"array","title":"Issues","description":"Detected issues"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations","description":"Recommendations (English)"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh","description":"Recommendations (Chinese)"},"processing_time_ms":{"type":"integer","title":"Processing Time Ms","description":"Processing time in milliseconds","default":0},"argument_chain_score":{"type":"integer","title":"Argument Chain Score","description":"Argument chain completeness","default":0},"redundancy_issues":{"items":{"type":"object"},"type":"array","title":"Redundancy Issues"},"progression_pattern":{"type":"string","title":"Progression Pattern","description":"linear, branching, etc.","default":"unknown"},"causal_density":{"type":"number","title":"Causal Density","description":"Causal marker density","default":0},"linearity_score":{"type":"integer","title":"Linearity Score","description":"Linearity score 0-100","default":0}},"type":"object","title":"InterSectionLogicResponse","description":"Response for inter-section logic analysis (Step 2.5)"},"src__api__routes__substeps__schemas__MergeModifyApplyResponse":{"properties":{"modified_text":{"type":"string","title":"Modified Text","description":"Modified document text"},"changes_summary_zh":{"type":"string","title":"Changes Summary Zh","description":"Summary of changes in Chinese","default":""},"changes_count":{"type":"integer","title":"Changes Count","description":"Number of changes made","default":0},"issues_addressed":{"items":{"type":"string"},"type":"array","title":"Issues Addressed","description":"List of issue types addressed"},"remaining_attempts":{"type":"integer","title":"Remaining Attempts","description":"Remaining regeneration attempts","default":3},"colloquialism_level":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Colloquialism Level","description":"Target colloquialism level used"}},"type":"object","required":["modified_text"],"title":"MergeModifyApplyResponse","description":"Response containing AI-modified document\nåŒ…å«AIä¿®æ”¹åæ–‡æ¡£çš„å“åº”"},"src__api__routes__substeps__schemas__MergeModifyPromptResponse":{"properties":{"prompt":{"type":"string","title":"Prompt","description":"Generated modification prompt for user to copy"},"prompt_zh":{"type":"string","title":"Prompt Zh","description":"Prompt description in Chinese"},"issues_summary_zh":{"type":"string","title":"Issues Summary Zh","description":"Summary of selected issues in Chinese","default":""},"colloquialism_level":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Colloquialism Level","description":"Target colloquialism level (0-10)"},"estimated_changes":{"type":"integer","title":"Estimated Changes","description":"Estimated number of changes","default":0}},"type":"object","required":["prompt","prompt_zh"],"title":"MergeModifyPromptResponse","description":"Response containing generated modification prompt\nåŒ…å«ç”Ÿæˆçš„ä¿®æ”¹æç¤ºè¯çš„å“åº”"},"src__api__routes__substeps__schemas__MergeModifyRequest":{"properties":{"document_id":{"type":"string","title":"Document Id","description":"Document ID"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id","description":"Session ID for context"},"selected_issues":{"items":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__SelectedIssue"},"type":"array","title":"Selected Issues","description":"List of selected issues"},"user_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Notes","description":"User's optional notes/requirements"},"mode":{"type":"string","title":"Mode","description":"Mode: 'prompt' (generate prompt) or 'apply' (direct modification)","default":"prompt"}},"type":"object","required":["document_id","selected_issues"],"title":"MergeModifyRequest","description":"Request for merge modification (generate prompt or apply directly)\nåˆå¹¶ä¿®æ”¹è¯·æ±‚ï¼ˆç”Ÿæˆæç¤ºè¯æˆ–ç›´æ¥ä¿®æ”¹ï¼‰\n\nUser selects multiple issues and can optionally provide notes.\nç”¨æˆ·é€‰æ‹©å¤šä¸ªé—®é¢˜ï¼Œå¯é€‰æ‹©æ€§åœ°æä¾›æ³¨æ„äº‹é¡¹ã€‚"},"src__api__routes__substeps__schemas__ParagraphMeta":{"properties":{"index":{"type":"integer","title":"Index"},"word_count":{"type":"integer","title":"Word Count"},"sentence_count":{"type":"integer","title":"Sentence Count"},"section_index":{"type":"integer","title":"Section Index"},"preview":{"type":"string","title":"Preview","description":"First 100 chars","default":""}},"type":"object","required":["index","word_count","sentence_count","section_index"],"title":"ParagraphMeta","description":"Paragraph metadata"},"src__api__routes__substeps__schemas__ParagraphTransitionResponse":{"properties":{"risk_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Risk Score","description":"Risk score 0-100","default":0},"risk_level":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__RiskLevel","description":"Risk level","default":"low"},"issues":{"items":{"type":"object"},"type":"array","title":"Issues","description":"Detected issues"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations","description":"Recommendations (English)"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh","description":"Recommendations (Chinese)"},"processing_time_ms":{"type":"integer","title":"Processing Time Ms","description":"Processing time in milliseconds","default":0},"transitions":{"items":{"$ref":"#/components/schemas/TransitionInfo"},"type":"array","title":"Transitions"},"explicit_connector_count":{"type":"integer","title":"Explicit Connector Count","default":0},"explicit_ratio":{"type":"number","title":"Explicit Ratio","default":0},"avg_semantic_echo":{"type":"number","title":"Avg Semantic Echo","default":0},"suggestions":{"items":{"type":"object"},"type":"array","title":"Suggestions"}},"type":"object","title":"ParagraphTransitionResponse","description":"Response for paragraph transition analysis (Step 3.5)"},"src__api__routes__substeps__schemas__RiskLevel":{"type":"string","enum":["low","medium","high"],"title":"RiskLevel","description":"Risk level enumeration"},"src__api__routes__substeps__schemas__SectionInfo":{"properties":{"index":{"type":"integer","title":"Index","description":"Section index"},"role":{"type":"string","title":"Role","description":"Section role: introduction, methodology, etc."},"start_paragraph":{"type":"integer","title":"Start Paragraph","description":"Start paragraph index"},"end_paragraph":{"type":"integer","title":"End Paragraph","description":"End paragraph index"},"word_count":{"type":"integer","title":"Word Count","description":"Word count","default":0},"confidence":{"type":"number","title":"Confidence","description":"Classification confidence","default":0}},"type":"object","required":["index","role","start_paragraph","end_paragraph"],"title":"SectionInfo","description":"Single section information"},"src__api__routes__substeps__schemas__SectionLengthResponse":{"properties":{"risk_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Risk Score","description":"Risk score 0-100","default":0},"risk_level":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__RiskLevel","description":"Risk level","default":"low"},"issues":{"items":{"type":"object"},"type":"array","title":"Issues","description":"Detected issues"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations","description":"Recommendations (English)"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh","description":"Recommendations (Chinese)"},"processing_time_ms":{"type":"integer","title":"Processing Time Ms","description":"Processing time in milliseconds","default":0},"length_cv":{"type":"number","title":"Length Cv","description":"Section length CV","default":0},"paragraph_count_cv":{"type":"number","title":"Paragraph Count Cv","description":"Paragraph count CV per section","default":0},"sections":{"items":{"type":"object"},"type":"array","title":"Sections"},"extreme_sections":{"items":{"type":"integer"},"type":"array","title":"Extreme Sections"},"key_weight_issues":{"items":{"type":"object"},"type":"array","title":"Key Weight Issues"}},"type":"object","title":"SectionLengthResponse","description":"Response for section length analysis (Step 2.2)"},"src__api__routes__substeps__schemas__SectionOrderResponse":{"properties":{"risk_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Risk Score","description":"Risk score 0-100","default":0},"risk_level":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__RiskLevel","description":"Risk level","default":"low"},"issues":{"items":{"type":"object"},"type":"array","title":"Issues","description":"Detected issues"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations","description":"Recommendations (English)"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh","description":"Recommendations (Chinese)"},"processing_time_ms":{"type":"integer","title":"Processing Time Ms","description":"Processing time in milliseconds","default":0},"order_match_score":{"type":"integer","title":"Order Match Score","description":"Template match score 0-100","default":0},"missing_sections":{"items":{"type":"string"},"type":"array","title":"Missing Sections"},"function_fusion_score":{"type":"integer","title":"Function Fusion Score","description":"Function fusion score 0-100","default":0},"current_order":{"items":{"type":"string"},"type":"array","title":"Current Order"},"expected_order":{"items":{"type":"string"},"type":"array","title":"Expected Order"}},"type":"object","title":"SectionOrderResponse","description":"Response for section order analysis (Step 2.1)"},"src__api__routes__substeps__schemas__SectionTransitionResponse":{"properties":{"risk_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Risk Score","description":"Risk score 0-100","default":0},"risk_level":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__RiskLevel","description":"Risk level","default":"low"},"issues":{"items":{"type":"object"},"type":"array","title":"Issues","description":"Detected issues"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations","description":"Recommendations (English)"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh","description":"Recommendations (Chinese)"},"processing_time_ms":{"type":"integer","title":"Processing Time Ms","description":"Processing time in milliseconds","default":0},"explicit_transition_ratio":{"type":"number","title":"Explicit Transition Ratio","description":"Explicit transition ratio","default":0},"semantic_echo_score":{"type":"number","title":"Semantic Echo Score","description":"Semantic echo score","default":0},"opener_patterns":{"items":{"type":"object"},"type":"array","title":"Opener Patterns"},"transition_words":{"items":{"type":"object"},"type":"array","title":"Transition Words"},"strength_distribution":{"additionalProperties":{"type":"integer"},"type":"object","title":"Strength Distribution","description":"Strong/Moderate/Weak distribution"}},"type":"object","title":"SectionTransitionResponse","description":"Response for section transition analysis (Step 2.4)"},"src__api__routes__substeps__schemas__SelectedIssue":{"properties":{"type":{"type":"string","title":"Type","description":"Issue type identifier"},"description":{"type":"string","title":"Description","description":"English description","default":""},"description_zh":{"type":"string","title":"Description Zh","description":"Chinese description"},"severity":{"type":"string","title":"Severity","description":"Severity: high/medium/low","default":"medium"},"affected_positions":{"items":{"type":"string"},"type":"array","title":"Affected Positions","description":"Affected positions"}},"type":"object","required":["type","description_zh"],"title":"SelectedIssue","description":"A single selected issue for merge modification\nåˆå¹¶ä¿®æ”¹ä¸­é€‰æ‹©çš„å•ä¸ªé—®é¢˜"},"src__api__routes__substeps__schemas__StructureAnalysisResponse":{"properties":{"risk_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Risk Score","description":"Risk score 0-100","default":0},"risk_level":{"$ref":"#/components/schemas/src__api__routes__substeps__schemas__RiskLevel","description":"Risk level","default":"low"},"issues":{"items":{"type":"object"},"type":"array","title":"Issues","description":"Detected issues"},"recommendations":{"items":{"type":"string"},"type":"array","title":"Recommendations","description":"Recommendations (English)"},"recommendations_zh":{"items":{"type":"string"},"type":"array","title":"Recommendations Zh","description":"Recommendations (Chinese)"},"processing_time_ms":{"type":"integer","title":"Processing Time Ms","description":"Processing time in milliseconds","default":0},"symmetry_score":{"type":"integer","title":"Symmetry Score","description":"Section symmetry score 0-100","default":0},"predictability_score":{"type":"integer","title":"Predictability Score","description":"Predictability score 0-100","default":0},"linear_flow_score":{"type":"integer","title":"Linear Flow Score","description":"Linear flow score 0-100","default":0},"progression_type":{"type":"string","title":"Progression Type","description":"monotonic, non_monotonic, mixed","default":"unknown"},"sections":{"items":{"type":"object"},"type":"array","title":"Sections","description":"Detected sections"}},"type":"object","title":"StructureAnalysisResponse","description":"Response for structure analysis (Step 1.1)"},"src__api__schemas__MergeModifyApplyResponse":{"properties":{"modified_text":{"type":"string","title":"Modified Text","description":"Modified document text"},"changes_summary_zh":{"type":"string","title":"Changes Summary Zh","description":"Summary of changes in Chinese","default":""},"changes_count":{"type":"integer","title":"Changes Count","description":"Number of changes made","default":0},"issues_addressed":{"items":{"type":"string"},"type":"array","title":"Issues Addressed","description":"List of issue types addressed","default":[]},"remaining_attempts":{"type":"integer","title":"Remaining Attempts","description":"Remaining regeneration attempts","default":3},"colloquialism_level":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Colloquialism Level","description":"Target colloquialism level used"}},"type":"object","required":["modified_text"],"title":"MergeModifyApplyResponse","description":"Response containing AI-modified document\nåŒ…å«AIä¿®æ”¹åæ–‡æ¡£çš„å“åº”"},"src__api__schemas__MergeModifyRequest":{"properties":{"documentId":{"type":"string","title":"Documentid","description":"Document ID"},"sessionId":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sessionid","description":"Session ID for colloquialism level"},"selectedIssues":{"items":{"$ref":"#/components/schemas/src__api__schemas__SelectedIssue"},"type":"array","title":"Selectedissues","description":"List of selected issues"},"userNotes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Usernotes","description":"User's optional notes/requirements"},"mode":{"type":"string","title":"Mode","description":"Mode: 'prompt' (generate prompt) or 'apply' (direct modification)","default":"prompt"}},"type":"object","required":["documentId","selectedIssues"],"title":"MergeModifyRequest","description":"Request for merge modification (generate prompt or apply directly)\nåˆå¹¶ä¿®æ”¹è¯·æ±‚ï¼ˆç”Ÿæˆæç¤ºè¯æˆ–ç›´æ¥ä¿®æ”¹ï¼‰\n\nUser selects multiple issues and can optionally provide notes.\nç”¨æˆ·é€‰æ‹©å¤šä¸ªé—®é¢˜ï¼Œå¯é€‰æ‹©æ€§åœ°æä¾›æ³¨æ„äº‹é¡¹ã€‚"},"src__api__schemas__ParagraphLengthAnalysisRequest":{"properties":{"documentId":{"type":"string","title":"Documentid","description":"Document ID"}},"type":"object","required":["documentId"],"title":"ParagraphLengthAnalysisRequest","description":"Request for Phase 1 paragraph length analysis\nç¬¬ä¸€é˜¶æ®µæ®µè½é•¿åº¦åˆ†æè¯·æ±‚"},"src__api__schemas__ParagraphLengthAnalysisResponse":{"properties":{"paragraphLengths":{"items":{"$ref":"#/components/schemas/src__api__schemas__ParagraphLengthInfo"},"type":"array","title":"Paragraphlengths","description":"List of paragraph length info"},"meanLength":{"type":"number","title":"Meanlength","description":"Mean paragraph length in words"},"stdDev":{"type":"number","title":"Stddev","description":"Standard deviation of paragraph lengths"},"cv":{"type":"number","title":"Cv","description":"Coefficient of variation (std_dev / mean)"},"isUniform":{"type":"boolean","title":"Isuniform","description":"Whether lengths are too uniform (CV < 0.3)"},"humanLikeCvTarget":{"type":"number","title":"Humanlikecvtarget","description":"Target CV for human-like distribution","default":0.4},"strategies":{"items":{"$ref":"#/components/schemas/ParagraphLengthStrategyItem"},"type":"array","title":"Strategies","description":"Suggested strategies"},"summary":{"type":"string","title":"Summary","description":"Summary of analysis in English"},"summaryZh":{"type":"string","title":"Summaryzh","description":"åˆ†ææ‘˜è¦"}},"type":"object","required":["paragraphLengths","meanLength","stdDev","cv","isUniform","strategies","summary","summaryZh"],"title":"ParagraphLengthAnalysisResponse","description":"Response from Phase 1 paragraph length analysis\nç¬¬ä¸€é˜¶æ®µæ®µè½é•¿åº¦åˆ†æå“åº”\n\nContains statistics and strategy suggestions for the user to select.\nåŒ…å«ç»Ÿè®¡æ•°æ®å’Œä¾›ç”¨æˆ·é€‰æ‹©çš„ç­–ç•¥å»ºè®®ã€‚"},"src__api__schemas__ParagraphLengthInfo":{"properties":{"position":{"type":"string","title":"Position","description":"Paragraph position e.g., '1(2)'"},"wordCount":{"type":"integer","title":"Wordcount","description":"Number of words in paragraph"},"section":{"type":"string","title":"Section","description":"Section number or name"},"summary":{"type":"string","title":"Summary","description":"Paragraph summary","default":""},"summaryZh":{"type":"string","title":"Summaryzh","description":"æ®µè½æ‘˜è¦","default":""}},"type":"object","required":["position","wordCount","section"],"title":"ParagraphLengthInfo","description":"Information about a single paragraph's length\nå•ä¸ªæ®µè½é•¿åº¦ä¿¡æ¯"},"src__api__schemas__RiskLevel":{"type":"string","enum":["safe","low","medium","high"],"title":"RiskLevel","description":"Risk level enumeration é£é™©ç­‰çº§æšä¸¾"},"src__api__schemas__SectionInfo":{"properties":{"number":{"type":"string","title":"Number"},"title":{"type":"string","title":"Title"},"paragraphs":{"items":{"$ref":"#/components/schemas/SmartParagraphInfo"},"type":"array","title":"Paragraphs","default":[]}},"type":"object","required":["number","title"],"title":"SectionInfo","description":"Information about a document section\næ–‡æ¡£ç« èŠ‚ä¿¡æ¯"},"src__api__schemas__SelectedIssue":{"properties":{"type":{"type":"string","title":"Type","description":"Issue type identifier"},"description":{"type":"string","title":"Description","description":"English description","default":""},"descriptionZh":{"type":"string","title":"Descriptionzh","description":"Chinese description"},"severity":{"type":"string","title":"Severity","description":"Severity: high/medium/low","default":"medium"},"affectedPositions":{"items":{"type":"string"},"type":"array","title":"Affectedpositions","description":"Affected positions","default":[]}},"type":"object","required":["type","descriptionZh"],"title":"SelectedIssue","description":"A single selected issue for merge modification\nåˆå¹¶ä¿®æ”¹ä¸­é€‰æ‹©çš„å•ä¸ªé—®é¢˜"},"src__api__schemas__SentenceAnalysisRequest":{"properties":{"sentence":{"type":"string","minLength":1,"title":"Sentence","description":"Sentence to analyze"},"colloquialism_level":{"type":"integer","maximum":10.0,"minimum":0.0,"title":"Colloquialism Level","description":"Colloquialism level for suggestions","default":5}},"type":"object","required":["sentence"],"title":"SentenceAnalysisRequest","description":"Request for detailed sentence analysis\nè¯¦ç»†å¥å­åˆ†æè¯·æ±‚"},"src__api__schemas__SentenceAnalysisResponse":{"properties":{"original":{"type":"string","title":"Original"},"grammar":{"$ref":"#/components/schemas/GrammarStructure"},"clauses":{"items":{"$ref":"#/components/schemas/ClauseInfo"},"type":"array","title":"Clauses","default":[]},"pronouns":{"items":{"$ref":"#/components/schemas/PronounReference"},"type":"array","title":"Pronouns","default":[]},"ai_words":{"items":{"$ref":"#/components/schemas/AIWordSuggestion"},"type":"array","title":"Ai Words","default":[]},"rewrite_suggestions":{"items":{"$ref":"#/components/schemas/RewriteSuggestion"},"type":"array","title":"Rewrite Suggestions","default":[]}},"type":"object","required":["original","grammar"],"title":"SentenceAnalysisResponse","description":"Detailed sentence analysis response\nè¯¦ç»†å¥å­åˆ†æå“åº”"},"src__api__schemas__StructureAnalysisResponse":{"properties":{"total_paragraphs":{"type":"integer","title":"Total Paragraphs"},"total_sentences":{"type":"integer","title":"Total Sentences"},"total_words":{"type":"integer","title":"Total Words"},"avg_paragraph_length":{"type":"number","title":"Avg Paragraph Length"},"paragraph_length_variance":{"type":"number","title":"Paragraph Length Variance"},"structure_score":{"type":"integer","title":"Structure Score"},"risk_level":{"type":"string","title":"Risk Level"},"paragraphs":{"items":{"$ref":"#/components/schemas/ParagraphInfo"},"type":"array","title":"Paragraphs","default":[]},"issues":{"items":{"$ref":"#/components/schemas/StructureIssue"},"type":"array","title":"Issues","default":[]},"break_points":{"items":{"$ref":"#/components/schemas/BreakPoint"},"type":"array","title":"Break Points","default":[]},"core_thesis":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Core Thesis"},"key_arguments":{"items":{"type":"string"},"type":"array","title":"Key Arguments","default":[]},"has_linear_flow":{"type":"boolean","title":"Has Linear Flow","default":false},"has_repetitive_pattern":{"type":"boolean","title":"Has Repetitive Pattern","default":false},"has_uniform_length":{"type":"boolean","title":"Has Uniform Length","default":false},"has_predictable_order":{"type":"boolean","title":"Has Predictable Order","default":false},"options":{"items":{"$ref":"#/components/schemas/StructureOption"},"type":"array","title":"Options","default":[]},"message":{"type":"string","title":"Message","default":""},"message_zh":{"type":"string","title":"Message Zh","default":""}},"type":"object","required":["total_paragraphs","total_sentences","total_words","avg_paragraph_length","paragraph_length_variance","structure_score","risk_level"],"title":"StructureAnalysisResponse","description":"Response for structure analysis\nç»“æ„åˆ†æå“åº”"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}